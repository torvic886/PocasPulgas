"use strict";var AU=Object.defineProperty,DU=Object.defineProperties,SU=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,xU=Object.prototype.propertyIsEnumerable,pN=(at,De,M)=>De in at?AU(at,De,{enumerable:!0,configurable:!0,writable:!0,value:M}):at[De]=M,gN=(at,De)=>{for(var M in De||(De={}))MU.call(De,M)&&pN(at,M,De[M]);if(fN)for(var M of fN(De))xU.call(De,M)&&pN(at,M,De[M]);return at},mN=(at,De)=>DU(at,SU(De));(self.webpackChunkPocasPulgas=self.webpackChunkPocasPulgas||[]).push([[179],{2011:(at,De,M)=>{M.d(De,{Dh:()=>ce,GT:()=>we,cc:()=>Ae,hO:()=>qe,on:()=>$,pX:()=>fe,xv:()=>me});var a=M(5e3),k=M(127),x=M(880);at=M.hmd(at);const oe=["ngOnDestroy"],fe=(Te,rt,Ke,Oe={})=>new Proxy(Te,{get:(Pe,Ie)=>Ke.runOutsideAngular(()=>{var et;if(Te[Ie])return(null===(et=null==Oe?void 0:Oe.spy)||void 0===et?void 0:et.get)&&Oe.spy.get(Ie,Te[Ie]),Te[Ie];if(oe.indexOf(Ie)>-1)return()=>{};const X=rt.toPromise().then(he=>{const Se=he&&he[Ie];return"function"==typeof Se?Se.bind(he):Se&&Se.then?Se.then(Q=>Ke.run(()=>Q)):Ke.run(()=>Se)});return new Proxy(()=>{},{get:(he,Se)=>X[Se],apply:(he,Se,Q)=>X.then(re=>{var ae;const _e=re&&re(...Q);return(null===(ae=null==Oe?void 0:Oe.spy)||void 0===ae?void 0:ae.apply)&&Oe.spy.apply(Ie,Q,_e),_e})})})}),we=(Te,rt)=>{rt.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Oe=>{Object.defineProperty(Te.prototype,Oe,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Oe))})})};class ue{constructor(rt){return rt}}const ce=new a.OlP("angularfire2.app.options"),me=new a.OlP("angularfire2.app.name");function $(Te,rt,Ke){const Pe="object"==typeof Ke&&Ke||{};Pe.name=Pe.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const et=k.Z.apps.filter(X=>X&&X.name===Pe.name)[0]||rt.runOutsideAngular(()=>k.Z.initializeApp(Te,Pe));try{JSON.stringify(Te)!==JSON.stringify(et.options)&&j("error",`${et.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(X){}return new ue(et)}const j=(Te,...rt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Te](...rt)},se={provide:ue,useFactory:$,deps:[ce,a.R0b,[new a.FiY,me]]};let qe=(()=>{class Te{constructor(Ke){k.Z.registerVersion("angularfire",x.q4.full,"core"),k.Z.registerVersion("angularfire",x.q4.full,"app-compat"),k.Z.registerVersion("angular",a.q4F.full,Ke.toString())}static initializeApp(Ke,Oe){return{ngModule:Te,providers:[{provide:ce,useValue:Ke},{provide:me,useValue:Oe}]}}}return Te.\u0275fac=function(Ke){return new(Ke||Te)(a.LFG(a.Lbi))},Te.\u0275mod=a.oAB({type:Te}),Te.\u0275inj=a.cJS({providers:[se]}),Te})();function Ae(Te,rt,Ke,Oe,Pe){const[,Ie,et]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===Te)||[];if(Ie)return function Ve(Te,rt){try{return Te.toString()===rt.toString()}catch(Ke){return Te===rt}}(Pe,et)||(ye("error",`${rt} was already initialized on the ${Ke} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Pe,was:et})),Ie;{const X=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Te,X,Pe]),X}}const He=!!at.hot,ye=(Te,...rt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Te](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(at,De,M)=>{M.d(De,{q4:()=>ls,iC:()=>xr,HU:()=>La,vb:()=>Ou,JM:()=>Fa,nk:()=>ka,u3:()=>Wi});var a=M(5e3),k=M(5867),x=M(5861),oe=M(9681),fe=M(2090),we=M(4859),ue=M(1877);M(2833);const me="@firebase/remote-config",$="0.3.8",Ae=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yt{constructor(P,K,pe,Ze){this.client=P,this.storage=K,this.storageCache=pe,this.logger=Ze}isCachedDataFresh(P,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-K,Ze=pe<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ze}.`),Ze}fetch(P){var K=this;return(0,x.Z)(function*(){const[pe,Ze]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Ze&&K.isCachedDataFresh(P.cacheMaxAgeMillis,pe))return Ze;P.eTag=Ze&&Ze.eTag;const tt=yield K.client.fetch(P),Mt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&Mt.push(K.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(Mt),tt})()}}function Jt(N=navigator){return N.languages&&N.languages[0]||N.language}class Ot{constructor(P,K,pe,Ze,tt,Mt){this.firebaseInstallations=P,this.sdkVersion=K,this.namespace=pe,this.projectId=Ze,this.apiKey=tt,this.appId=Mt}fetch(P){var K=this;return(0,x.Z)(function*(){const[pe,Ze]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},$n={sdk_version:K.sdkVersion,app_instance_id:pe,app_instance_id_token:Ze,app_id:K.appId,language_code:Jt()},kn={method:"POST",headers:lt,body:JSON.stringify($n)},Fn=fetch(Mt,kn),Wt=new Promise((Ht,Fi)=>{P.signal.addEventListener(()=>{const Ln=new Error("The operation was aborted.");Ln.name="AbortError",Fi(Ln)})});let Ms;try{yield Promise.race([Fn,Wt]),Ms=yield Fn}catch(Ht){let Fi="fetch-client-network";throw"AbortError"===Ht.name&&(Fi="fetch-timeout"),Ae.create(Fi,{originalErrorMessage:Ht.message})}let Ti=Ms.status;const ja=Ms.headers.get("ETag")||void 0;let hs,Re;if(200===Ms.status){let Ht;try{Ht=yield Ms.json()}catch(Fi){throw Ae.create("fetch-client-parse",{originalErrorMessage:Fi.message})}hs=Ht.entries,Re=Ht.state}if("INSTANCE_STATE_UNSPECIFIED"===Re?Ti=500:"NO_CHANGE"===Re?Ti=304:("NO_TEMPLATE"===Re||"EMPTY_CONFIG"===Re)&&(hs={}),304!==Ti&&200!==Ti)throw Ae.create("fetch-status",{httpStatus:Ti});return{status:Ti,eTag:ja,config:hs}})()}}class Xn{constructor(P,K){this.client=P,this.storage=K}fetch(P){var K=this;return(0,x.Z)(function*(){const pe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(P,pe)})()}attemptFetch(P,{throttleEndTimeMillis:K,backoffCount:pe}){var Ze=this;return(0,x.Z)(function*(){yield function Je(N,P){return new Promise((K,pe)=>{const Ze=Math.max(P-Date.now(),0),tt=setTimeout(K,Ze);N.addEventListener(()=>{clearTimeout(tt),pe(Ae.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,K);try{const tt=yield Ze.client.fetch(P);return yield Ze.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function cn(N){if(!(N instanceof fe.ZR&&N.customData))return!1;const P=Number(N.customData.httpStatus);return 429===P||500===P||503===P||504===P}(tt))throw tt;const Mt={throttleEndTimeMillis:Date.now()+(0,fe.$s)(pe),backoffCount:pe+1};return yield Ze.storage.setThrottleMetadata(Mt),Ze.attemptFetch(P,Mt)}})()}}class $t{constructor(P,K,pe,Ze,tt){this.app=P,this._client=K,this._storageCache=pe,this._storage=Ze,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xt(N,P){const K=N.target.error||void 0;return Ae.create(P,{originalErrorMessage:K&&K.message})}const un="app_namespace_store";class jn{constructor(P,K,pe,Ze=function bn(){return new Promise((N,P)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=pe=>{P(xt(pe,"storage-open"))},K.onsuccess=pe=>{N(pe.target.result)},K.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(K){P(Ae.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=P,this.appName=K,this.namespace=pe,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var K=this;return(0,x.Z)(function*(){const pe=yield K.openDbPromise;return new Promise((Ze,tt)=>{const lt=pe.transaction([un],"readonly").objectStore(un),$n=K.createCompositeKey(P);try{const kn=lt.get($n);kn.onerror=Fn=>{tt(xt(Fn,"storage-get"))},kn.onsuccess=Fn=>{const Wt=Fn.target.result;Ze(Wt?Wt.value:void 0)}}catch(kn){tt(Ae.create("storage-get",{originalErrorMessage:kn&&kn.message}))}})})()}set(P,K){var pe=this;return(0,x.Z)(function*(){const Ze=yield pe.openDbPromise;return new Promise((tt,Mt)=>{const $n=Ze.transaction([un],"readwrite").objectStore(un),kn=pe.createCompositeKey(P);try{const Fn=$n.put({compositeKey:kn,value:K});Fn.onerror=Wt=>{Mt(xt(Wt,"storage-set"))},Fn.onsuccess=()=>{tt()}}catch(Fn){Mt(Ae.create("storage-set",{originalErrorMessage:Fn&&Fn.message}))}})})()}delete(P){var K=this;return(0,x.Z)(function*(){const pe=yield K.openDbPromise;return new Promise((Ze,tt)=>{const lt=pe.transaction([un],"readwrite").objectStore(un),$n=K.createCompositeKey(P);try{const kn=lt.delete($n);kn.onerror=Fn=>{tt(xt(Fn,"storage-delete"))},kn.onsuccess=()=>{Ze()}}catch(kn){tt(Ae.create("storage-delete",{originalErrorMessage:kn&&kn.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class sr{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,x.Z)(function*(){const K=P.storage.getLastFetchStatus(),pe=P.storage.getLastSuccessfulFetchTimestampMillis(),Ze=P.storage.getActiveConfig(),tt=yield K;tt&&(P.lastFetchStatus=tt);const Mt=yield pe;Mt&&(P.lastSuccessfulFetchTimestampMillis=Mt);const lt=yield Ze;lt&&(P.activeConfig=lt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Et(){return or.apply(this,arguments)}function or(){return(or=(0,x.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(N){return!1}})).apply(this,arguments)}!function fr(){(0,oe._registerComponent)(new we.wA("remote-config",function N(P,{instanceIdentifier:K}){const pe=P.getProvider("app").getImmediate(),Ze=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ae.create("registration-window");if(!(0,fe.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:tt,apiKey:Mt,appId:lt}=pe.options;if(!tt)throw Ae.create("registration-project-id");if(!Mt)throw Ae.create("registration-api-key");if(!lt)throw Ae.create("registration-app-id");const $n=new jn(lt,pe.name,K=K||"firebase"),kn=new sr($n),Fn=new ue.Yd(me);Fn.logLevel=ue.in.ERROR;const Wt=new Ot(Ze,oe.SDK_VERSION,K,tt,Mt,lt),Ms=new Xn(Wt,$n),Ti=new yt(Ms,$n,kn,Fn),ja=new $t(pe,Ti,kn,$n,Fn);return function et(N){const P=(0,fe.m9)(N);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(ja),ja},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(me,$),(0,oe.registerVersion)(me,$,"esm2017")}();var an=M(8766);const rn="/firebase-messaging-sw.js",Gn="/firebase-cloud-messaging-push-scope",er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wn="google.c.a.c_id",zn="google.c.a.c_l",Gr="google.c.a.ts",Lt="google.c.a.e";var st=(()=>{return(N=st||(st={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",st;var N})();function Pn(N){const P=new Uint8Array(N);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zr(N){const K=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(K),Ze=new Uint8Array(pe.length);for(let tt=0;tt<pe.length;++tt)Ze[tt]=pe.charCodeAt(tt);return Ze}const Ut="fcm_token_details_db",Mn="fcm_token_object_Store";function ln(N){return L.apply(this,arguments)}function L(){return L=(0,x.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(Ut))return null;let P=null;return(yield(0,an.X3)(Ut,5,{upgrade:(pe=(0,x.Z)(function*(Ze,tt,Mt,lt){var $n;if(tt<2||!Ze.objectStoreNames.contains(Mn))return;const kn=lt.objectStore(Mn),Fn=yield kn.index("fcmSenderId").get(N);if(yield kn.clear(),Fn)if(2===tt){const Wt=Fn;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;P={token:Wt.fcmToken,createTime:null!==($n=Wt.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Pn(Wt.vapidKey)}}}else if(3===tt){const Wt=Fn;P={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Pn(Wt.auth),p256dh:Pn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Pn(Wt.vapidKey)}}}else if(4===tt){const Wt=Fn;P={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Pn(Wt.auth),p256dh:Pn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Pn(Wt.vapidKey)}}}}),function(tt,Mt,lt,$n){return pe.apply(this,arguments)})})).close(),yield(0,an.Lj)(Ut),yield(0,an.Lj)("fcm_vapid_details_db"),yield(0,an.Lj)("undefined"),G(P)?P:null;var pe}),L.apply(this,arguments)}function G(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:P}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const V="firebase-messaging-store";let ee=null;function B(){return ee||(ee=(0,an.X3)("firebase-messaging-database",1,{upgrade:(N,P)=>{0===P&&N.createObjectStore(V)}})),ee}function te(N){return ve.apply(this,arguments)}function ve(){return(ve=(0,x.Z)(function*(N){const P=J(N),pe=yield(yield B()).transaction(V).objectStore(V).get(P);if(pe)return pe;{const Ze=yield ln(N.appConfig.senderId);if(Ze)return yield Ue(N,Ze),Ze}})).apply(this,arguments)}function Ue(N,P){return We.apply(this,arguments)}function We(){return(We=(0,x.Z)(function*(N,P){const K=J(N),Ze=(yield B()).transaction(V,"readwrite");return yield Ze.objectStore(V).put(P,K),yield Ze.done,P})).apply(this,arguments)}function Ge(N){return ft.apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(N){const P=J(N),pe=(yield B()).transaction(V,"readwrite");yield pe.objectStore(V).delete(P),yield pe.done})).apply(this,arguments)}function J({appConfig:N}){return N.appId}const U=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Me(N,P){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,x.Z)(function*(N,P){const K=yield wr(N),pe=Wn(P),Ze={method:"POST",headers:K,body:JSON.stringify(pe)};let tt;try{tt=yield(yield fetch(Bn(N.appConfig),Ze)).json()}catch(Mt){throw U.create("token-subscribe-failed",{errorInfo:Mt})}if(tt.error)throw U.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw U.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function ut(N,P){return It.apply(this,arguments)}function It(){return(It=(0,x.Z)(function*(N,P){const K=yield wr(N),pe=Wn(P.subscriptionOptions),Ze={method:"PATCH",headers:K,body:JSON.stringify(pe)};let tt;try{tt=yield(yield fetch(`${Bn(N.appConfig)}/${P.token}`,Ze)).json()}catch(Mt){throw U.create("token-update-failed",{errorInfo:Mt})}if(tt.error)throw U.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw U.create("token-update-no-token");return tt.token})).apply(this,arguments)}function Xt(N,P){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(N,P){const pe={method:"DELETE",headers:yield wr(N)};try{const tt=yield(yield fetch(`${Bn(N.appConfig)}/${P}`,pe)).json();if(tt.error)throw U.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Ze){throw U.create("token-unsubscribe-failed",{errorInfo:Ze})}})).apply(this,arguments)}function Bn({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function wr(N){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,x.Z)(function*({appConfig:N,installations:P}){const K=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Wn({p256dh:N,auth:P,endpoint:K,vapidKey:pe}){const Ze={web:{endpoint:K,auth:P,p256dh:N}};return pe!==er&&(Ze.web.applicationPubKey=pe),Ze}const Wr=6048e5;function ar(N){return As.apply(this,arguments)}function As(){return(As=(0,x.Z)(function*(N){const P=yield qt(N.swRegistration,N.vapidKey),K={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:P.endpoint,auth:Pn(P.getKey("auth")),p256dh:Pn(P.getKey("p256dh"))},pe=yield te(N.firebaseDependencies);if(pe){if(Bt(pe.subscriptionOptions,K))return Date.now()>=pe.createTime+Wr?z(N,{token:pe.token,createTime:Date.now(),subscriptionOptions:K}):pe.token;try{yield Xt(N.firebaseDependencies,pe.token)}catch(Ze){console.warn(Ze)}return Fe(N.firebaseDependencies,K)}return Fe(N.firebaseDependencies,K)})).apply(this,arguments)}function Ur(N){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,x.Z)(function*(N){const P=yield te(N.firebaseDependencies);P&&(yield Xt(N.firebaseDependencies,P.token),yield Ge(N.firebaseDependencies));const K=yield N.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function z(N,P){return de.apply(this,arguments)}function de(){return(de=(0,x.Z)(function*(N,P){try{const K=yield ut(N.firebaseDependencies,P),pe=Object.assign(Object.assign({},P),{token:K,createTime:Date.now()});return yield Ue(N.firebaseDependencies,pe),K}catch(K){throw yield Ur(N),K}})).apply(this,arguments)}function Fe(N,P){return pt.apply(this,arguments)}function pt(){return(pt=(0,x.Z)(function*(N,P){const pe={token:yield Me(N,P),createTime:Date.now(),subscriptionOptions:P};return yield Ue(N,pe),pe.token})).apply(this,arguments)}function qt(N,P){return sn.apply(this,arguments)}function sn(){return(sn=(0,x.Z)(function*(N,P){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zr(P)})})).apply(this,arguments)}function Bt(N,P){return P.vapidKey===N.vapidKey&&P.endpoint===N.endpoint&&P.auth===N.auth&&P.p256dh===N.p256dh}function Zn(N){const P={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function Mr(N,P){if(!P.notification)return;N.notification={};const K=P.notification.title;K&&(N.notification.title=K);const pe=P.notification.body;pe&&(N.notification.body=pe);const Ze=P.notification.image;Ze&&(N.notification.image=Ze)}(P,N),function At(N,P){!P.data||(N.data=P.data)}(P,N),function os(N,P){if(!P.fcmOptions)return;N.fcmOptions={};const K=P.fcmOptions.link;K&&(N.fcmOptions.link=K);const pe=P.fcmOptions.analytics_label;pe&&(N.fcmOptions.analyticsLabel=pe)}(P,N),P}function no(N){return"object"==typeof N&&!!N&&wn in N}function ro(N,P){const K=[];for(let pe=0;pe<N.length;pe++)K.push(N.charAt(pe)),pe<P.length&&K.push(P.charAt(pe));return K.join("")}function On(N){return U.create("missing-app-config-values",{valueName:N})}ro("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ro("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gi{constructor(P,K,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function io(N){if(!N||!N.options)throw On("App Configuration Object");if(!N.name)throw On("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:K}=N;for(const pe of P)if(!K[pe])throw On(pe);return{appName:N.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ze,installations:K,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function as(N){return fn.apply(this,arguments)}function fn(){return(fn=(0,x.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(rn,{scope:Gn}),N.swRegistration.update().catch(()=>{})}catch(P){throw U.create("failed-service-worker-registration",{browserErrorMessage:P.message})}})).apply(this,arguments)}function vn(N,P){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,x.Z)(function*(N,P){if(!P&&!N.swRegistration&&(yield as(N)),P||!N.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw U.create("invalid-sw-registration");N.swRegistration=P}})).apply(this,arguments)}function Uo(N,P){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,x.Z)(function*(N,P){P?N.vapidKey=P:N.vapidKey||(N.vapidKey=er)})).apply(this,arguments)}function Vo(){return(Vo=(0,x.Z)(function*(N,P){if(!navigator)throw U.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw U.create("permission-blocked");return yield Uo(N,null==P?void 0:P.vapidKey),yield vn(N,null==P?void 0:P.serviceWorkerRegistration),ar(N)})).apply(this,arguments)}function Bo(N,P,K){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(N,P,K){const pe=ri(P);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:K[wn],message_name:K[zn],message_time:K[Gr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ri(N){switch(N){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xa(){return(xa=(0,x.Z)(function*(N,P){const K=P.data;if(!K.isFirebaseMessaging)return;N.onMessageHandler&&K.messageType===st.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Zn(K)):N.onMessageHandler.next(Zn(K)));const pe=K.data;no(pe)&&"1"===pe[Lt]&&(yield Bo(N,K.messageType,pe))})).apply(this,arguments)}const jo="@firebase/messaging",Bl=N=>{const P=new Gi(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function bd(N,P){return xa.apply(this,arguments)}(P,K)),P},np=N=>{const P=N.getProvider("messaging").getImmediate();return{getToken:pe=>function Yr(N,P){return Vo.apply(this,arguments)}(P,pe)}};function wd(){return Na.apply(this,arguments)}function Na(){return(Na=(0,x.Z)(function*(){try{yield(0,fe.eu)()}catch(N){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zi(){(0,oe._registerComponent)(new we.wA("messaging",Bl,"PUBLIC")),(0,oe._registerComponent)(new we.wA("messaging-internal",np,"PRIVATE")),(0,oe.registerVersion)(jo,"0.9.13"),(0,oe.registerVersion)(jo,"0.9.13","esm2017")}();var sp=M(6148),Zl=M(4408),Zm=M(7565);const us=new class Nu extends Zm.v{}(class Ss extends Zl.o{constructor(P,K){super(P,K),this.scheduler=P,this.work=K}schedule(P,K=0){return K>0?super.schedule(P,K):(this.delay=K,this.state=P,this.scheduler.flush(this),this)}execute(P,K){return K>0||this.closed?super.execute(P,K):this._execute(P,K)}requestAsyncId(P,K,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(P,K,pe):P.flush(this)}});var so=M(4986),oo=M(8306),Oa=M(8505),$l=M(9468),Id=M(5363);const ls=new a.GfV("7.3.0"),$o="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",qo="__angularfire_symbol__remoteConfigIsSupportedValue",Ra="__angularfire_symbol__remoteConfigIsSupported",Vr="__angularfire_symbol__messagingIsSupportedValue",Cr="__angularfire_symbol__messagingIsSupported";globalThis[ao]||(globalThis[ao]=(0,sp.Gb)().then(N=>globalThis[$o]=N).catch(()=>globalThis[$o]=!1)),globalThis[Cr]||(globalThis[Cr]=wd().then(N=>globalThis[Vr]=N).catch(()=>globalThis[Vr]=!1)),globalThis[Ra]||(globalThis[Ra]=Et().then(N=>globalThis[qo]=N).catch(()=>globalThis[qo]=!1));const ka={async:()=>globalThis[ao],sync:()=>{const N=globalThis[$o];if(void 0===N)throw new Error((N=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${N} in the constructor, first ensure that ${N} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${N})\`.`)("Analytics"));return N}};function Fa(N,P,K){if(P){if(1===P.length)return P[0];const tt=P.filter(Mt=>Mt.app===K);if(1===tt.length)return tt[0]}return K.container.getProvider(N).getImmediate({optional:!0})}const Ou=(N,P)=>{const K=P?[P]:(0,k.C6)(),pe=[];return K.forEach(Ze=>{Ze.container.getProvider(N).instances.forEach(Mt=>{pe.includes(Mt)||pe.push(Mt)})}),pe};function cs(){}class ql{constructor(P,K=us){this.zone=P,this.delegate=K}now(){return this.delegate.now()}schedule(P,K,pe){const Ze=this.zone;return this.delegate.schedule(function(Mt){Ze.runGuarded(()=>{P.apply(this,[Mt])})},K,pe)}}class Rn{constructor(P){this.zone=P,this.task=null}call(P,K){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),K.pipe((0,Oa.b)({next:pe,complete:pe,error:pe})).subscribe(P).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let La=(()=>{class N{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=K.run(()=>new ql(Zone.current,so.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(K){return new(K||N)(a.LFG(a.R0b))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function gi(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function An(N){return gi().ngZone.runOutsideAngular(()=>N())}function ds(N){return gi().ngZone.run(()=>N())}function xr(N){return gi(),function Ba(N){return function(K){return(K=K.lift(new Rn(N.ngZone))).pipe((0,$l.R)(N.outsideAngular),(0,Id.Q)(N.insideAngular))}}(gi())(N)}const Ho=(N,P)=>function(){const pe=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),ds(()=>N.apply(void 0,pe))},Wi=(N,P)=>function(){let K;const pe=arguments;for(let tt=0;tt<arguments.length;tt++)"function"==typeof pe[tt]&&(P&&(K||(K=ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)))),pe[tt]=Ho(pe[tt],K));const Ze=An(()=>N.apply(this,pe));if(!P){if(Ze instanceof oo.y){const tt=gi();return Ze.pipe((0,$l.R)(tt.outsideAngular),(0,Id.Q)(tt.insideAngular))}return ds(()=>Ze)}return Ze instanceof oo.y?Ze.pipe(xr):Ze instanceof Promise?ds(()=>new Promise((tt,Mt)=>Ze.then(lt=>ds(()=>tt(lt)),lt=>ds(()=>Mt(lt))))):"function"==typeof Ze&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),Ze.apply(this,arguments)}:ds(()=>Ze)}},198:(at,De,M)=>{M.d(De,{$:()=>tt,A:()=>j,B:()=>Ae,G:()=>de,H:()=>Bt,J:()=>zi,L:()=>We,M:()=>Nu,N:()=>oo,P:()=>po,Q:()=>Oa,R:()=>bp,T:()=>$l,U:()=>so,V:()=>ao,W:()=>qo,X:()=>Ad,Y:()=>Ba,Z:()=>Wi,_:()=>P,a:()=>Jl,a0:()=>Fn,a1:()=>Ms,a2:()=>ja,a3:()=>Re,a4:()=>Fi,a5:()=>op,a6:()=>fs,a7:()=>Sd,a8:()=>$m,a9:()=>qm,aA:()=>Xa,aB:()=>zu,aC:()=>Gd,aD:()=>rc,aE:()=>Ye,aI:()=>Ha,aL:()=>ls,aa:()=>xs,ab:()=>Za,ac:()=>Hm,af:()=>zl,ag:()=>up,ah:()=>lp,ak:()=>cs,al:()=>Km,an:()=>Yl,ao:()=>k0,ap:()=>Bn,aq:()=>Se,ar:()=>Vt,as:()=>ut,at:()=>Ke,au:()=>cc,av:()=>eu,aw:()=>Oe,ax:()=>X,ay:()=>re,az:()=>Ge,b:()=>Qm,c:()=>qu,d:()=>sy,e:()=>$d,f:()=>Ap,g:()=>Dp,h:()=>Wd,i:()=>Ko,j:()=>Xo,k:()=>Xd,l:()=>ms,m:()=>kp,n:()=>rh,o:()=>ce,r:()=>ry,s:()=>ny,u:()=>Ii,v:()=>N0});var a=M(5861),k=M(2090),x=M(9681),oe=M(655),fe=M(1877),we=M(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new fe.Yd("@firebase/auth");function rt(v,...g){Te.logLevel<=fe.in.ERROR&&Te.error(`Auth (${x.SDK_VERSION}): ${v}`,...g)}function Ke(v,...g){throw et(v,...g)}function Oe(v,...g){return et(v,...g)}function Pe(v,g,m){const b=Object.assign(Object.assign({},Ve()),{[g]:m});return new k.LL("auth","Firebase",b).create(g,{appName:v.name})}function Ie(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ke(v,"argument-error"),Pe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return He.create(v,...g)}function X(v,g,...m){if(!v)throw et(g,...m)}function he(v){const g="INTERNAL ASSERTION FAILED: "+v;throw rt(g),new Error(g)}function Se(v,g){v||he(g)}const Q=new Map;function re(v){Se(v instanceof Function,"Expected a class definition");let g=Q.get(v);return g?(Se(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Q.set(v,g),g)}function le(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function je(){return"http:"===yt()||"https:"===yt()}function yt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Je{constructor(g,m){this.shortDelay=g,this.longDelay=m,Se(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(v,g){Se(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Xn{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const In={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Je(3e4,6e4);function $t(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function xt(v,g,m,b){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(v,g,m,b,A={}){return Un(v,A,(0,a.Z)(function*(){let O={},ie={};b&&("GET"===g?ie=b:O={body:JSON.stringify(b)});const Le=(0,k.xO)(Object.assign({key:v.config.apiKey},ie)).slice(1),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/json",v.languageCode&&(ct["X-Firebase-Locale"]=v.languageCode),Xn.fetch()(sr(v,v.config.apiHost,m,Le),Object.assign({method:g,headers:ct,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Un(v,g,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},In),g);try{const A=new fr(v),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const ie=yield O.json();if("needConfirmation"in ie)throw Vn(v,"account-exists-with-different-credential",ie);if(O.ok&&!("errorMessage"in ie))return ie;{const Le=O.ok?ie.errorMessage:ie.error.message,[ct,Tt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Vn(v,"credential-already-in-use",ie);if("EMAIL_EXISTS"===ct)throw Vn(v,"email-already-in-use",ie);const nn=b[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Pe(v,nn,Tt);Ke(v,nn)}}catch(A){if(A instanceof k.ZR)throw A;Ke(v,"network-request-failed")}})).apply(this,arguments)}function bn(v,g,m,b){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(v,g,m,b,A={}){const O=yield xt(v,g,m,b,A);return"mfaPendingCredential"in O&&Ke(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function sr(v,g,m,b){const A=`${g}${m}?${b}`;return v.config.emulator?cn(v.config,A):`${v.config.apiScheme}://${A}`}class fr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Oe(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const A=Oe(v,g,b);return A.customData._tokenResponse=m,A}function Et(){return(Et=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function or(v,g){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rn(v,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function er(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function zn(){return(zn=(0,a.Z)(function*(v,g=!1){const m=(0,k.m9)(v),b=yield m.getIdToken(g),A=Lt(b);X(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,ie=null==O?void 0:O.sign_in_provider;return{claims:A,token:b,authTime:er(Gr(A.auth_time)),issuedAtTime:er(Gr(A.iat)),expirationTime:er(Gr(A.exp)),signInProvider:ie||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Gr(v){return 1e3*Number(v)}function Lt(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(m);return A?JSON.parse(A):(rt("Failed to decode base64 JWT payload"),null)}catch(A){return rt("Caught error parsing JWT payload as JSON",A),null}}function st(v,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof k.ZR&&zr(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function zr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ut{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class br{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(v){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),A=yield st(v,rn(m,{idToken:b}));X(null==A?void 0:A.users.length,m,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const ie=(null===(g=O.providerUserInfo)||void 0===g?void 0:g.length)?Ce(O.providerUserInfo):[],Le=W(v.providerData,ie),nn=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==Le?void 0:Le.length)),ir={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Le,metadata:new br(O.createdAt,O.lastLoginAt),isAnonymous:nn};Object.assign(v,ir)})).apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(v){const g=(0,k.m9)(v);yield Mn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function W(v,g){return[...v.filter(b=>!g.some(A=>A.providerId===b.providerId)),...g]}function Ce(v){return v.map(g=>{var{providerId:m}=g,b=(0,oe._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ee(){return(ee=(0,a.Z)(function*(v,g){const m=yield Un(v,{},(0,a.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,ie=sr(v,A,"/v1/token",`key=${O}`),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Xn.fetch()(ie,{method:"POST",headers:Le,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){X(g.idToken,"internal-error"),X(void 0!==g.idToken,"internal-error"),X(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ht(v){const g=Lt(v);return X(g,"internal-error"),X(void 0!==g.exp,"internal-error"),X(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,a.Z)(function*(){return X(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,a.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:ie}=yield function V(v,g){return ee.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(A,O,Number(ie))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:A,expirationTime:O}=m,ie=new B;return b&&(X("string"==typeof b,"internal-error",{appName:g}),ie.refreshToken=b),A&&(X("string"==typeof A,"internal-error",{appName:g}),ie.accessToken=A),O&&(X("number"==typeof O,"internal-error",{appName:g}),ie.expirationTime=O),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return he("not implemented")}}function te(v,g){X("string"==typeof v||void 0===v,"internal-error",{appName:g})}class ve{constructor(g){var{uid:m,auth:b,stsTokenManager:A}=g,O=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new br(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,a.Z)(function*(){const b=yield st(m,m.stsTokenManager.getToken(m.auth,g));return X(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function wn(v){return zn.apply(this,arguments)}(this,g)}reload(){return function L(v){return G.apply(this,arguments)}(this)}_assign(g){this!==g&&(X(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ve(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,a.Z)(function*(){let A=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),A=!0),m&&(yield Mn(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,a.Z)(function*(){const m=yield g.getIdToken();return yield st(g,function pr(v,g){return Et.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,A,O,ie,Le,ct,Tt,nn;const ir=null!==(b=m.displayName)&&void 0!==b?b:void 0,_i=null!==(A=m.email)&&void 0!==A?A:void 0,_s=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,ra=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,fy=null!==(Le=m.tenantId)&&void 0!==Le?Le:void 0,ih=null!==(ct=m._redirectEventId)&&void 0!==ct?ct:void 0,Bs=null!==(Tt=m.createdAt)&&void 0!==Tt?Tt:void 0,Lp=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:dc,emailVerified:Up,isAnonymous:sh,providerData:hc,stsTokenManager:Ju}=m;X(dc&&Ju,g,"internal-error");const fc=B.fromJSON(this.name,Ju);X("string"==typeof dc,g,"internal-error"),te(ir,g.name),te(_i,g.name),X("boolean"==typeof Up,g,"internal-error"),X("boolean"==typeof sh,g,"internal-error"),te(_s,g.name),te(ra,g.name),te(fy,g.name),te(ih,g.name),te(Bs,g.name),te(Lp,g.name);const nu=new ve({uid:dc,auth:g,email:_i,emailVerified:Up,displayName:ir,isAnonymous:sh,photoURL:ra,phoneNumber:_s,tenantId:fy,stsTokenManager:fc,createdAt:Bs,lastLoginAt:Lp});return hc&&Array.isArray(hc)&&(nu.providerData=hc.map(py=>Object.assign({},py))),ih&&(nu._redirectEventId=ih),nu}static _fromIdTokenResponse(g,m,b=!1){return(0,a.Z)(function*(){const A=new B;A.updateFromServerResponse(m);const O=new ve({uid:m.localId,auth:g,stsTokenManager:A,isAnonymous:b});return yield Mn(O),O})()}}const We=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,b){var A=this;return(0,a.Z)(function*(){A.storage[m]=b})()}_get(m){var b=this;return(0,a.Z)(function*(){const A=b.storage[m];return void 0===A?null:A})()}_remove(m){var b=this;return(0,a.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Ge(v,g,m){return`firebase:${v}:${g}:${m}`}class ft{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:A,name:O}=this.auth;this.fullUserKey=Ge(this.userKey,A.apiKey,O),this.fullPersistenceKey=Ge("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?ve._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,a.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,a.Z)(function*(){if(!m.length)return new ft(re(We),g,b);const A=(yield Promise.all(m.map(function(){var Tt=(0,a.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let O=A[0]||re(We);const ie=Ge(b,g.config.apiKey,g.name);let Le=null;for(const Tt of m)try{const nn=yield Tt._get(ie);if(nn){const ir=ve._fromJSON(g,nn);Tt!==O&&(Le=ir),O=Tt;break}}catch(nn){}const ct=A.filter(Tt=>Tt._shouldAllowMigration);return O._shouldAllowMigration&&ct.length?(O=ct[0],Le&&(yield O._set(ie,Le.toJSON())),yield Promise.all(m.map(function(){var Tt=(0,a.Z)(function*(nn){if(nn!==O)try{yield nn._remove(ie)}catch(ir){}});return function(nn){return Tt.apply(this,arguments)}}())),new ft(O,g,b)):new ft(O,g,b)})()}}function J(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Z(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(It(g))return"Blackberry";if(Xt(g))return"Webos";if(U(g))return"Safari";if((g.includes("chrome/")||Me(g))&&!g.includes("edge/"))return"Chrome";if(ut(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Z(v=(0,k.z$)()){return/firefox\//i.test(v)}function U(v=(0,k.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Me(v=(0,k.z$)()){return/crios\//i.test(v)}function Xe(v=(0,k.z$)()){return/iemobile/i.test(v)}function ut(v=(0,k.z$)()){return/android/i.test(v)}function It(v=(0,k.z$)()){return/blackberry/i.test(v)}function Xt(v=(0,k.z$)()){return/webos/i.test(v)}function Vt(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)}function Bn(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Wn(v=(0,k.z$)()){return Vt(v)||ut(v)||Xt(v)||It(v)||/windows phone/i.test(v)||Xe(v)}function ar(v,g=[]){let m;switch(v){case"Browser":m=J((0,k.z$)());break;case"Worker":m=`${J((0,k.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${b}`}class As{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=O=>new Promise((ie,Le)=>{try{ie(g(O))}catch(ct){Le(ct)}});b.onAbort=m,this.queue.push(b);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,a.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const A of m.queue)yield A(g),A.onAbort&&b.push(A.onAbort)}catch(A){b.reverse();for(const O of b)try{O()}catch(ie){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class Ur{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z(this),this.idTokenSubscription=new z(this),this.beforeStateQueue=new As(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var A,O;if(!b._deleted&&(b.persistenceManager=yield ft.create(b,g),!b._deleted)){if(null===(A=b._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(ie){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,a.Z)(function*(){var b;const A=yield m.assertedPersistence.getCurrentUser();let O=A,ie=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Le=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ct=null==O?void 0:O._redirectEventId,Tt=yield m.tryRedirectSignIn(g);(!Le||Le===ct)&&(null==Tt?void 0:Tt.user)&&(O=Tt.user,ie=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(ie)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Le){O=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Le))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return X(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,a.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(A){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,a.Z)(function*(){try{yield Mn(g)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ot(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,a.Z)(function*(){const b=g?(0,k.m9)(g):null;return b&&X(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,a.Z)(function*(){if(!b._deleted)return g&&X(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,a.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(re(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new k.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,a.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(m);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&re(g)||m._popupRedirectResolver;X(b,m,"argument-error"),m.redirectPersistenceManager=yield ft.create(m,[re(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,a.Z)(function*(){var b,A;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,a.Z)(function*(){if(g===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return X(ie,this,"internal-error"),ie.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,b,A):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(b["X-Firebase-Client"]=A),b})()}}function Ye(v){return(0,k.m9)(v)}class z{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function de(v,g,m){const b=Ye(v);X(b._canInitEmulator,b,"emulator-config-failed"),X(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),O=Fe(g),{host:ie,port:Le}=function pt(v){const g=Fe(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const O=A[1];return{host:O,port:qt(b.substr(O.length+1))}}{const[O,ie]=b.split(":");return{host:O,port:qt(ie)}}}(g);b.config.emulator={url:`${O}//${ie}${null===Le?"":`:${Le}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ie,port:Le,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function sn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Fe(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function qt(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Bt{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,m){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Zn(v,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:resetPassword",$t(v,g))})).apply(this,arguments)}function At(v,g){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function no(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:update",$t(v,g))})).apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithPassword",$t(v,g))})).apply(this,arguments)}function Gi(v,g){return as.apply(this,arguments)}function as(){return(as=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:sendOobCode",$t(v,g))})).apply(this,arguments)}function fn(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(v,g){return Gi(v,g)})).apply(this,arguments)}function Ma(v,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(v,g){return Gi(v,g)})).apply(this,arguments)}function Kr(v,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(v,g){return Gi(v,g)})).apply(this,arguments)}function Vo(v,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(v,g){return Gi(v,g)})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,g))})).apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,g))})).apply(this,arguments)}class jo extends Bt{constructor(g,m,b,A=null){super("password",b),this._email=g,this._password=m,this._tenantId=A}static _fromEmailAndPassword(g,m){return new jo(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new jo(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function io(v,g){return On.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ds(v,g){return ri.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ke(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return At(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function bd(v,g){return xa.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Ke(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function tr(v,g){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithIdp",$t(v,g))})).apply(this,arguments)}class zi extends Bt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new zi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:A}=m,O=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!A)return null;const ie=new zi(b,A);return ie.idToken=O.idToken||void 0,ie.accessToken=O.accessToken||void 0,ie.secret=O.secret,ie.nonce=O.nonce,ie.pendingToken=O.pendingToken||null,ie}_getIdTokenResponse(g){return tr(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,tr(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,tr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,k.xO)(m)}return g}}function wd(v,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:sendVerificationCode",$t(v,g))})).apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,g))})).apply(this,arguments)}function Cd(){return(Cd=(0,a.Z)(function*(v,g){const m=yield bn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,g));if(m.temporaryProof)throw Vn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const jm={USER_NOT_FOUND:"user-not-found"};function Td(){return(Td=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),jm)})).apply(this,arguments)}class Zo extends Bt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Zo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Zo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function rp(v,g){return Pa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function ip(v,g){return Cd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function jl(v,g){return Td.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:A}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:O}=g;return b||m||A||O?new Zo({verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:O}):null}}class Ss{constructor(g){var m,b,A,O,ie,Le;const ct=(0,k.zd)((0,k.pd)(g)),Tt=null!==(m=ct.apiKey)&&void 0!==m?m:null,nn=null!==(b=ct.oobCode)&&void 0!==b?b:null,ir=function sp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ct.mode)&&void 0!==A?A:null);X(Tt&&nn&&ir,"argument-error"),this.apiKey=Tt,this.operation=ir,this.code=nn,this.continueUrl=null!==(O=ct.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(ie=ct.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Le=ct.tenantId)&&void 0!==Le?Le:null}static parseLink(g){const m=function Zl(v){const g=(0,k.zd)((0,k.pd)(v)).link,m=g?(0,k.zd)((0,k.pd)(g)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||m||g||v}(g);try{return new Ss(m)}catch(b){return null}}}let Nu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return jo._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const A=Ss.parseLink(b);return X(A,"argument-error"),jo._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class us{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ci extends us{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class so extends Ci{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return X("providerId"in m&&"signInMethod"in m,"argument-error"),zi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return X(g.idToken||g.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return so.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return so.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:O,nonce:ie,providerId:Le}=g;if(!b&&!A&&!m&&!O||!Le)return null;try{return new so(Le)._credential({idToken:m,accessToken:b,nonce:ie,pendingToken:O})}catch(ct){return null}}}let oo=(()=>{class v extends Ci{constructor(){super("facebook.com")}static credential(m){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Oa=(()=>{class v extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:A}=m;if(!b&&!A)return null;try{return v.credential(b,A)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),$l=(()=>{class v extends Ci{constructor(){super("github.com")}static credential(m){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ls extends Bt{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return tr(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,tr(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,tr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:A,pendingToken:O}=m;return b&&A&&O&&b===A?new ls(b,O):null}static _create(g,m){return new ls(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ao extends us{constructor(g){X(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ao.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ao.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ls.fromJSON(g);return X(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return ls._create(b,m)}catch(A){return null}}}let qo=(()=>{class v extends Ci{constructor(){super("twitter.com")}static credential(m,b){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=m;if(!b||!A)return null;try{return v.credential(b,A)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ra(v,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signUp",$t(v,g))})).apply(this,arguments)}class Cr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,A=!1){return(0,a.Z)(function*(){const O=yield ve._fromIdTokenResponse(g,b,A),ie=Pu(b);return new Cr({user:O,providerId:ie,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const A=Pu(b);return new Cr({user:g,providerId:A,_tokenResponse:b,operationType:m})})()}}function Pu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ad(v){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,a.Z)(function*(v){var g;const m=Ye(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Cr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ra(m,{returnSecureToken:!0}),A=yield Cr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class ka extends k.ZR{constructor(g,m,b,A){var O;super(m.code,m.message),this.operationType=b,this.user=A,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,A){return new ka(g,m,b,A)}}function Fa(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ka._fromErrorAndOperation(v,O,g,b):O})}function Ou(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function cs(v,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,a.Z)(function*(v,g){const m=(0,k.m9)(v);yield gi(!0,m,g);const{providerUserInfo:b}=yield or(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),A=Ou(b||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Rn(v,g){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(v,g,m=!1){const b=yield st(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Cr._forOperation(v,"link",b)})).apply(this,arguments)}function gi(v,g,m){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(v,g,m){yield Mn(g);const A=!1===v?"provider-already-linked":"no-such-provider";X(Ou(g.providerData).has(m)===v,g.auth,A)})).apply(this,arguments)}function ds(v,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(v,g,m=!1){const{auth:b}=v,A="reauthenticate";try{const O=yield st(v,Fa(b,A,g,v),m);X(O.idToken,b,"internal-error");const ie=Lt(O.idToken);X(ie,b,"internal-error");const{sub:Le}=ie;return X(v.uid===Le,b,"user-mismatch"),Cr._forOperation(v,A,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ke(b,"user-mismatch"),O}})).apply(this,arguments)}function Va(v,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(v,g,m=!1){const b="signIn",A=yield Fa(v,b,g),O=yield Cr._fromIdTokenResponse(v,b,A);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Ba(v,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(v,g){return Va(Ye(v),g)})).apply(this,arguments)}function Wi(v,g){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(v,g){const m=(0,k.m9)(v);return yield gi(!1,m,g.providerId),Rn(m,g)})).apply(this,arguments)}function P(v,g){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(v,g){return ds((0,k.m9)(v),g)})).apply(this,arguments)}function pe(v,g){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(v,g){return bn(v,"POST","/v1/accounts:signInWithCustomToken",$t(v,g))})).apply(this,arguments)}function tt(v,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(v,g){const m=Ye(v),b=yield pe(m,{token:g,returnSecureToken:!0}),A=yield Cr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class lt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?$n._fromServerResponse(g,m):Ke(g,"internal-error")}}class $n extends lt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new $n(m)}}function kn(v,g,m){var b;X((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),X(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(X(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(X(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Fn(v,g,m){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v),A={requestType:"PASSWORD_RESET",email:g};m&&kn(b,A,m),yield Ma(b,A)})).apply(this,arguments)}function Ms(v,g,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(v,g,m){yield Zn((0,k.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function ja(v,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(v,g){yield no((0,k.m9)(v),{oobCode:g})})).apply(this,arguments)}function Re(v,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(v,g){const m=(0,k.m9)(v),b=yield Zn(m,{oobCode:g}),A=b.requestType;switch(X(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(b.mfaInfo,m,"internal-error");default:X(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=lt._fromServerResponse(Ye(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function Fi(v,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(v,g){const{data:m}=yield Re((0,k.m9)(v),g);return m.email})).apply(this,arguments)}function op(v,g,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(v,g,m){const b=Ye(v),A=yield Ra(b,{returnSecureToken:!0,email:g,password:m}),O=yield Cr._fromIdTokenResponse(b,"signIn",A);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function fs(v,g,m){return Ba((0,k.m9)(v),Nu.credential(g,m))}function Sd(v,g,m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};X(m.handleCodeInApp,b,"argument-error"),m&&kn(b,A,m),yield Kr(b,A)})).apply(this,arguments)}function $m(v,g){const m=Ss.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function qm(v,g,m){return ap.apply(this,arguments)}function ap(){return(ap=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v),A=Nu.credentialWithLink(g,m||le());return X(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ba(b,A)})).apply(this,arguments)}function ku(v,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:createAuthUri",$t(v,g))})).apply(this,arguments)}function xs(v,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,a.Z)(function*(v,g){const b={identifier:g,continueUri:je()?le():"http://localhost"},{signinMethods:A}=yield ku((0,k.m9)(v),b);return A||[]})).apply(this,arguments)}function Za(v,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(v,g){const m=(0,k.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&kn(m.auth,A,g);const{email:O}=yield fn(m.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Hm(v,g,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&kn(b.auth,O,m);const{email:ie}=yield Vo(b.auth,O);ie!==v.email&&(yield v.reload())})).apply(this,arguments)}function Gm(v,g){return Md.apply(this,arguments)}function Md(){return(Md=(0,a.Z)(function*(v,g){return xt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zl(v,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,k.m9)(v),O={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ie=yield st(b,Gm(b.auth,O));b.displayName=ie.displayName||null,b.photoURL=ie.photoUrl||null;const Le=b.providerData.find(({providerId:ct})=>"password"===ct);Le&&(Le.displayName=b.displayName,Le.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ie)})).apply(this,arguments)}function up(v,g){return cp((0,k.m9)(v),g,null)}function lp(v,g){return cp((0,k.m9)(v),null,g)}function cp(v,g,m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,a.Z)(function*(v,g,m){const{auth:b}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const ie=yield st(v,At(b,O));yield v._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Go{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class dp extends Go{constructor(g,m,b,A){super(g,m,b),this.username=A}}class zm extends Go{constructor(g,m){super(g,"facebook.com",m)}}class xd extends dp{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Yi extends Go{constructor(g,m){super(g,"google.com",m)}}class Wm extends dp{constructor(g,m,b){super(g,"twitter.com",m,b)}}function Km(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kl(v){var g,m;if(!v)return null;const{providerId:b}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const ie=null===(m=null===(g=Lt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new Go(O,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!b)return null;switch(b){case"facebook.com":return new zm(O,A);case"github.com":return new xd(O,A);case"google.com":return new Yi(O,A);case"twitter.com":return new Wm(O,A,v.screenName||null);case"custom":case"anonymous":return new Go(O,null);default:return new Go(O,b,A)}}(m)}function N0(v,g,m,b){return(0,k.m9)(v).onAuthStateChanged(g,m,b)}class Ns{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Ns("enroll",g)}static _fromMfaPendingCredential(g){return new Ns("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ns._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return Ns._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Lu{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=Ye(g),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(Le=>lt._fromServerResponse(b,Le));X(A.mfaPendingCredential,b,"internal-error");const ie=Ns._fromMfaPendingCredential(A.mfaPendingCredential);return new Lu(ie,O,function(){var Le=(0,a.Z)(function*(ct){const Tt=yield ct._process(b,ie);delete A.mfaInfo,delete A.mfaPendingCredential;const nn=Object.assign(Object.assign({},A),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(m.operationType){case"signIn":const ir=yield Cr._fromIdTokenResponse(b,m.operationType,nn);return yield b._updateCurrentUser(ir.user),ir;case"reauthenticate":return X(m.user,b,"internal-error"),Cr._forOperation(m.user,m.operationType,nn);default:Ke(b,"internal-error")}});return function(ct){return Le.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,a.Z)(function*(){return m.signInResolver(g)})()}}function Yl(v,g){var m;const b=(0,k.m9)(v),A=g;return X(g.customData.operationType,b,"argument-error"),X(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Lu._fromError(b,A)}function fp(v,g){return xt(v,"POST","/v2/accounts/mfaEnrollment:start",$t(v,g))}class Ps{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>lt._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Ps(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Ns._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var b=this;return(0,a.Z)(function*(){const A=g,O=yield b.getSession(),ie=yield st(b.user,A._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(ie),b.user.reload()})()}unenroll(g){var m=this;return(0,a.Z)(function*(){const b="string"==typeof g?g:g.uid,A=yield m.user.getIdToken(),O=yield st(m.user,function R0(v,g){return xt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(v,g))}(m.user.auth,{idToken:A,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ie})=>ie!==b),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const $a=new WeakMap;function k0(v){const g=(0,k.m9)(v);return $a.has(g)||$a.set(g,Ps._fromUser(g)),$a.get(g)}const Uu="__sak";class qa{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qm=(()=>{class v extends qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ql(){const v=(0,k.z$)();return U(v)||Vt(v)}()&&function Wr(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),O=this.localCache[b];A!==O&&m(b,O,A)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Le,ct,Tt)=>{this.notifyListeners(Le,Tt)});const A=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(A);if(m.newValue!==Le)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!b)return}const O=()=>{const Le=this.storage.getItem(A);!b&&this.localCache[A]===Le||this.notifyListeners(A,Le)},ie=this.storage.getItem(A);!function Gt(){return(0,k.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var A=()=>super._set,O=this;return(0,a.Z)(function*(){yield A().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,A=this;return(0,a.Z)(function*(){const O=yield b().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,A=this;return(0,a.Z)(function*(){yield b().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Jl=(()=>{class v extends qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Vu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,a.Z)(function*(){const A=m,{eventId:O,eventType:ie,data:Le}=A.data,ct=b.handlersMap[ie];if(!(null==ct?void 0:ct.size))return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:ie});const Tt=Array.from(ct).map(function(){var ir=(0,a.Z)(function*(_i){return _i(A.origin,Le)});return function(_i){return ir.apply(this,arguments)}}()),nn=yield function Pd(v){return Promise.all(v.map(function(){var g=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(Tt);A.ports[0].postMessage({status:"done",eventId:O,eventType:ie,response:nn})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ha(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Ga{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var A=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let ie,Le;return new Promise((ct,Tt)=>{const nn=Ha("",20);O.port1.start();const ir=setTimeout(()=>{Tt(new Error("unsupported_event"))},b);Le={messageChannel:O,onMessage(_i){const _s=_i;if(_s.data.eventId===nn)switch(_s.data.status){case"ack":clearTimeout(ir),ie=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),ct(_s.data.response);break;default:clearTimeout(ir),clearTimeout(ie),Tt(new Error("invalid_response"))}}},A.handlers.add(Le),O.port1.addEventListener("message",Le.onMessage),A.target.postMessage({eventType:g,eventId:nn,data:m},[O.port2])}).finally(()=>{Le&&A.removeMessageHandler(Le)})})()}}function Cn(){return window}function kt(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function za(){return(za=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const kd="firebaseLocalStorageDb",ps="firebaseLocalStorage",ii="fbase_key";class zo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Wo(v,g){return v.transaction([ps],g?"readwrite":"readonly").objectStore(ps)}function Wa(){const v=indexedDB.open(kd,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(ps,{keyPath:ii})}catch(A){m(A)}}),v.addEventListener("success",(0,a.Z)(function*(){const b=v.result;b.objectStoreNames.contains(ps)?g(b):(b.close(),yield function Xl(){const v=indexedDB.deleteDatabase(kd);return new zo(v).toPromise()}(),g(yield Wa()))}))})}function gp(v,g,m){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(v,g,m){const b=Wo(v,!0).put({[ii]:g,value:m});return new zo(b).toPromise()})).apply(this,arguments)}function Bu(){return(Bu=(0,a.Z)(function*(v,g){const m=Wo(v,!1).get(g),b=yield new zo(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Nr(v,g){const m=Wo(v,!0).delete(g);return new zo(m).toPromise()}const Ko=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Wa()),m.db})()}_withRetries(m){var b=this;return(0,a.Z)(function*(){let A=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(A++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return kt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=Vu._getInstance(function Rd(){return kt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var b,A;if(m.activeServiceWorker=yield function Od(){return za.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ga(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jm(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wa();return yield gp(m,Uu,"1"),yield Nr(m,Uu),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(O=>gp(O,m,b)),A.localCache[m]=b,A.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,a.Z)(function*(){const A=yield b._withRetries(O=>function Rs(v,g){return Bu.apply(this,arguments)}(O,m));return b.localCache[m]=A,A})()}_remove(m){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(A=>Nr(A,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const b=yield m._withRetries(ie=>{const Le=Wo(ie,!1).getAll();return new zo(Le).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:ie,value:Le}of b)O.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(Le)&&(m.notifyListeners(ie,Le),A.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!O.has(ie)&&(m.notifyListeners(ie,null),A.push(ie));return A})()}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function mp(v,g){return xt(v,"POST","/v2/accounts/mfaSignIn:start",$t(v,g))}function ks(){return(ks=(0,a.Z)(function*(v){return(yield xt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ju(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=A=>{const O=Oe("internal-error");O.customData=A,m(O)},b.type="text/javascript",b.charset="UTF-8",function Ud(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Zu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const gs=1e12;class Vd{constructor(g){this.auth=g,this.counter=gs,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new ec(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||gs;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||gs))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,a.Z)(function*(){var b;return null===(b=m._widgets.get(g||gs))||void 0===b||b.execute(),""})()}}class ec{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;X(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ka(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bd=Zu("rcb"),yp=new Je(3e4,6e4);class _p{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(g,m=""){return X(function vp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Cn().grecaptcha):new Promise((b,A)=>{const O=Cn().setTimeout(()=>{A(Oe(g,"network-request-failed"))},yp.get());Cn()[Bd]=()=>{Cn().clearTimeout(O),delete Cn()[Bd];const Le=Cn().grecaptcha;if(!Le)return void A(Oe(g,"internal-error"));const ct=Le.render;Le.render=(Tt,nn)=>{const ir=ct(Tt,nn);return this.counter++,ir},this.hostLanguage=m,b(Le)},ju(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Bd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Cn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ey{load(g){return(0,a.Z)(function*(){return new Vd(g)})()}clearedOneInstance(){}}const Ep="recaptcha",ty={theme:"light",type:"image"};class bp{constructor(g,m=Object.assign({},ty),b){this.parameters=m,this.type=Ep,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ye(b),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;X(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ey:new _p,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const ie=Le=>{!Le||(g.tokenChangeListeners.delete(ie),O(Le))};g.tokenChangeListeners.add(ie),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=Cn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){X(je()&&!kt(),g.auth,"internal-error"),yield function jd(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Ld(v){return ks.apply(this,arguments)}(g.auth);X(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ho{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Zo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function ny(v,g,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(v,g,m){const b=Ye(v),A=yield mi(b,g,(0,k.m9)(m));return new ho(A,O=>Ba(b,O))})).apply(this,arguments)}function ms(v,g,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v);yield gi(!1,b,"phone");const A=yield mi(b.auth,g,(0,k.m9)(m));return new ho(A,O=>Wi(b,O))})).apply(this,arguments)}function ry(v,g,m){return wp.apply(this,arguments)}function wp(){return(wp=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v),A=yield mi(b.auth,g,(0,k.m9)(m));return new ho(A,O=>P(b,O))})).apply(this,arguments)}function mi(v,g,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(v,g,m){var b;const A=yield m.verify();try{let O;if(X("string"==typeof A,v,"argument-error"),X(m.type===Ep,v,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const ie=O.session;if("phoneNumber"in O)return X("enroll"===ie.type,v,"internal-error"),(yield fp(v,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{X("signin"===ie.type,v,"internal-error");const Le=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return X(Le,v,"missing-multi-factor-info"),(yield mp(v,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield wd(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return ie}}finally{m._reset()}})).apply(this,arguments)}function Ii(v,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(v,g){yield Rn((0,k.m9)(v),g)})).apply(this,arguments)}let po=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Ye(m)}verifyPhoneNumber(m,b){return mi(this.auth,m,(0,k.m9)(b))}static credential(m,b){return Zo._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:A}=m;return b&&A?Zo._fromTokenResponse(b,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function go(v,g){return g?re(g):(X(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class $u extends Bt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return tr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return tr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return tr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function iy(v){return Va(v.auth,new $u(v),v.bypassAuthState)}function oT(v){const{auth:g,user:m}=v;return X(m,g,"internal-error"),ds(m,new $u(v),v.bypassAuthState)}function aT(v){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,a.Z)(function*(v){const{auth:g,user:m}=v;return X(m,g,"internal-error"),Rn(m,new $u(v),v.bypassAuthState)})).apply(this,arguments)}class Ai{constructor(g,m,b,A,O=!1){this.auth=g,this.resolver=b,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,a.Z)(function*(b,A){g.pendingPromise={resolve:b,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(b,A){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:O,tenantId:ie,error:Le,type:ct}=g;if(Le)return void m.reject(Le);const Tt={auth:m.auth,requestUri:b,sessionId:A,tenantId:ie||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ct)(Tt))}catch(nn){m.reject(nn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return iy;case"linkViaPopup":case"linkViaRedirect":return aT;case"reauthViaPopup":case"reauthViaRedirect":return oT;default:Ke(this.auth,"internal-error")}}resolve(g){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cp=new Je(2e3,1e4);function qu(v,g,m){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,a.Z)(function*(v,g,m){const b=Ye(v);Ie(v,g,us);const A=go(b,m);return new Ya(b,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function $d(v,g,m){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v);Ie(b.auth,g,us);const A=go(b.auth,m);return new Ya(b.auth,"reauthViaPopup",g,A,b).executeNotNull()})).apply(this,arguments)}function sy(v,g,m){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v);Ie(b.auth,g,us);const A=go(b.auth,m);return new Ya(b.auth,"linkViaPopup",g,A,b).executeNotNull()})).apply(this,arguments)}let Ya=(()=>{class v extends Ai{constructor(m,b,A,O,ie){super(m,b,O,ie),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const b=yield m.execute();return X(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,a.Z)(function*(){Se(1===m.filter.length,"Popup operations only handle one event");const b=Ha();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Oe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,A;this.pollId=(null===(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Cp.get())};m()}}return v.currentPopupAction=null,v})();const Ls=new Map;class Qa extends Ai{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,a.Z)(function*(){let b=Ls.get(m.auth._key());if(!b){try{const O=(yield function tc(v,g){return nc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(O)}catch(A){b=()=>Promise.reject(A)}Ls.set(m.auth._key(),b)}return m.bypassAuthState||Ls.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const A=yield b.auth._redirectUserForId(g.eventId);if(A)return b.user=A,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function nc(){return(nc=(0,a.Z)(function*(v,g){const m=zd(g),b=Ip(v);if(!(yield b._isAvailable()))return!1;const A="true"===(yield b._get(m));return yield b._remove(m),A})).apply(this,arguments)}function ys(v,g){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.Z)(function*(v,g){return Ip(v)._set(zd(g),"true")})).apply(this,arguments)}function rc(){Ls.clear()}function Gd(v,g){Ls.set(v._key(),g)}function Ip(v){return re(v._redirectPersistence)}function zd(v){return Ge("pendingRedirect",v.config.apiKey,v.name)}function Ap(v,g,m){return function L0(v,g,m){return Qo.apply(this,arguments)}(v,g,m)}function Qo(){return(Qo=(0,a.Z)(function*(v,g,m){const b=Ye(v);Ie(v,g,us);const A=go(b,m);return yield ys(A,b),A._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function Wd(v,g,m){return function U0(v,g,m){return cr.apply(this,arguments)}(v,g,m)}function cr(){return(cr=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v);Ie(b.auth,g,us);const A=go(b.auth,m);yield ys(A,b.auth);const O=yield mo(b);return A._openRedirect(b.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function Dp(v,g,m){return function Sp(v,g,m){return Jo.apply(this,arguments)}(v,g,m)}function Jo(){return(Jo=(0,a.Z)(function*(v,g,m){const b=(0,k.m9)(v);Ie(b.auth,g,us);const A=go(b.auth,m);yield gi(!1,b,g.providerId),yield ys(A,b.auth);const O=yield mo(b);return A._openRedirect(b.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function Xo(v,g){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,a.Z)(function*(v,g){return yield Ye(v)._initializationPromise,zu(v,g,!1)})).apply(this,arguments)}function zu(v,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(v,g,m=!1){const b=Ye(v),A=go(b,g),ie=yield new Qa(b,A,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield b._persistUserIfCurrent(ie.user),yield b._setRedirectUser(null,g)),ie})).apply(this,arguments)}function mo(v){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(v){const g=Ha(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Xa{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Wu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sc(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!sc(g)){const A=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Oe(this.auth,A))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(g))}saveEventToCache(g){this.cachedEventUids.add(ic(g)),this.lastProcessedEventTime=Date.now()}}function ic(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function sc({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function eu(v){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(v,g={}){return xt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Kd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oc=/^https?/;function yo(){return(yo=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield eu(v);for(const m of g)try{if(xp(m))return}catch(b){}Ke(v,"unauthorized-domain")})).apply(this,arguments)}function xp(v){const g=le(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const ie=new URL(v);return""===ie.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===b}if(!oc.test(m))return!1;if(Kd.test(v))return b===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const oy=new Je(3e4,6e4);function Ku(){const v=Cn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let tu=null;function Np(v){return tu=tu||function Yd(v){return new Promise((g,m)=>{var b,A,O;function ie(){Ku(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ku(),m(Oe(v,"network-request-failed"))},timeout:oy.get()})}if(null===(A=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(O=Cn().gapi)||void 0===O?void 0:O.load)){const Le=Zu("iframefcb");return Cn()[Le]=()=>{gapi.load?ie():m(Oe(v,"network-request-failed"))},ju(`https://apis.google.com/js/api.js?onload=${Le}`).catch(ct=>m(ct))}ie()}}).catch(g=>{throw tu=null,g})}(v),tu}const ay=new Je(5e3,15e3),ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V0(v){const g=v.config;X(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?cn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:x.SDK_VERSION},A=Qu.get(v.config.apiHost);A&&(b.eid=A);const O=v._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,k.xO)(b).slice(1)}`}function uy(){return uy=(0,a.Z)(function*(v){const g=yield Np(v),m=Cn().gapi;return X(m,v,"internal-error"),g.open({where:document.body,url:V0(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ac,dontclear:!0},b=>new Promise(function(){var A=(0,a.Z)(function*(O,ie){yield b.restyle({setHideOnLeave:!1});const Le=Oe(v,"network-request-failed"),ct=Cn().setTimeout(()=>{ie(Le)},ay.get());function Tt(){Cn().clearTimeout(ct),O(b)}b.ping(Tt).then(Tt,()=>{ie(Le)})});return function(O,ie){return A.apply(this,arguments)}}()))}),uy.apply(this,arguments)}const uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tr{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function cc(v,g,m,b,A,O){X(v.config.authDomain,v,"auth-domain-config-required"),X(v.config.apiKey,v,"invalid-api-key");const ie={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:x.SDK_VERSION,eventId:A};if(g instanceof us){g.setDefaultLanguage(v.languageCode),ie.providerId=g.providerId||"",(0,k.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ct,Tt]of Object.entries(O||{}))ie[ct]=Tt}if(g instanceof Ci){const ct=g.getScopes().filter(Tt=>""!==Tt);ct.length>0&&(ie.scopes=ct.join(","))}v.tenantId&&(ie.tid=v.tenantId);const Le=ie;for(const ct of Object.keys(Le))void 0===Le[ct]&&delete Le[ct];return`${function Us({config:v}){return v.emulator?cn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,k.xO)(Le).slice(1)}`}const Vs="webStorageSupport",Xd=class Rp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jl,this._completeRedirectFn=zu,this._overrideRedirectResult=Gd}_openPopup(g,m,b,A){var O=this;return(0,a.Z)(function*(){var ie;Se(null===(ie=O.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Le=cc(g,m,b,le(),A);return function ly(v,g,m,b=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),ie=Math.max((window.screen.availWidth-b)/2,0).toString();let Le="";const ct=Object.assign(Object.assign({},uc),{width:b.toString(),height:A.toString(),top:O,left:ie}),Tt=(0,k.z$)().toLowerCase();m&&(Le=Me(Tt)?"_blank":m),Z(Tt)&&(g=g||"http://localhost",ct.scrollbars="yes");const nn=Object.entries(ct).reduce((_i,[_s,ra])=>`${_i}${_s}=${ra},`,"");if(function wr(v=(0,k.z$)()){var g;return Vt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Tt)&&"_self"!==Le)return function Op(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",Le),new Tr(null);const ir=window.open(g||"",Le,nn);X(ir,v,"popup-blocked");try{ir.focus()}catch(_i){}return new Tr(ir)}(g,Le,Ha())})()}_openRedirect(g,m,b,A){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(g),function Jr(v){Cn().location.href=v}(cc(g,m,b,le(),A)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(Se(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,a.Z)(function*(){const b=yield function B0(v){return uy.apply(this,arguments)}(g),A=new Xa(g);return b.register("authEvent",O=>(X(null==O?void 0:O.authEvent,g,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:A},m.iframes[g._key()]=b,A})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Vs,{type:Vs},A=>{var O;const ie=null===(O=null==A?void 0:A[0])||void 0===O?void 0:O[Vs];void 0!==ie&&m(!!ie),Ke(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function na(v){return yo.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Wn()||U()||Vt()}};class th extends class eh{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new th(g)}_finalizeEnroll(g,m,b){return function Ym(v,g){return xt(v,"POST","/v2/accounts/mfaEnrollment:finalize",$t(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Fd(v,g){return xt(v,"POST","/v2/accounts/mfaSignIn:finalize",$t(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kp=(()=>{class v{constructor(){}static assertion(m){return th._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Fp="@firebase/auth";class dy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var A;g((null===(A=b)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rh(v=(0,x.getApp)()){const g=(0,x._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function ae(v,g){const m=(0,x._getProvider)(v,"auth");if(m.isInitialized()){const A=m.getImmediate(),O=m.getOptions();if((0,k.vZ)(O,null!=g?g:{}))return A;Ke(A,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:Xd,persistence:[Ko,Qm,Jl]})}!function hy(v){(0,x._registerComponent)(new we.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:O,authDomain:ie}=b.options;return((Le,ct)=>{X(O&&!O.includes(":"),"invalid-api-key",{appName:Le.name}),X(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Le.name});const Tt={apiKey:O,authDomain:ie,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(v)},nn=new Ur(Le,ct,Tt);return function _e(v,g){const m=(null==g?void 0:g.persistence)||[],b=(Array.isArray(m)?m:[m]).map(re);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(nn,m),nn})(b,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new we.wA("auth-internal",g=>{const m=Ye(g.getProvider("auth").getImmediate());return new dy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(Fp,"0.20.1",function nh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,x.registerVersion)(Fp,"0.20.1","esm2017")}("Browser")},2090:(at,De,M)=>{M.d(De,{$s:()=>Ut,BH:()=>qe,G6:()=>X,L:()=>ce,LL:()=>le,Mn:()=>Ie,Sg:()=>Ae,UG:()=>ye,US:()=>we,ZB:()=>j,ZR:()=>_e,b$:()=>Ke,d:()=>Oe,eu:()=>Se,hl:()=>he,jU:()=>Te,m9:()=>ln,ne:()=>pr,pd:()=>fr,r3:()=>$t,ru:()=>rt,tV:()=>me,uI:()=>He,vZ:()=>Hr,w1:()=>Pe,xO:()=>jn,xb:()=>un,z$:()=>Ve,zI:()=>Q,zd:()=>sr});const oe=function(L){const G=[];let W=0;for(let Ce=0;Ce<L.length;Ce++){let V=L.charCodeAt(Ce);V<128?G[W++]=V:V<2048?(G[W++]=V>>6|192,G[W++]=63&V|128):55296==(64512&V)&&Ce+1<L.length&&56320==(64512&L.charCodeAt(Ce+1))?(V=65536+((1023&V)<<10)+(1023&L.charCodeAt(++Ce)),G[W++]=V>>18|240,G[W++]=V>>12&63|128,G[W++]=V>>6&63|128,G[W++]=63&V|128):(G[W++]=V>>12|224,G[W++]=V>>6&63|128,G[W++]=63&V|128)}return G},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,G){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let V=0;V<L.length;V+=3){const ee=L[V],B=V+1<L.length,te=B?L[V+1]:0,ve=V+2<L.length,Ue=ve?L[V+2]:0;let ft=(15&te)<<2|Ue>>6,J=63&Ue;ve||(J=64,B||(ft=64)),Ce.push(W[ee>>2],W[(3&ee)<<4|te>>4],W[ft],W[J])}return Ce.join("")},encodeString(L,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(L):this.encodeByteArray(oe(L),G)},decodeString(L,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(L):function(L){const G=[];let W=0,Ce=0;for(;W<L.length;){const V=L[W++];if(V<128)G[Ce++]=String.fromCharCode(V);else if(V>191&&V<224){const ee=L[W++];G[Ce++]=String.fromCharCode((31&V)<<6|63&ee)}else if(V>239&&V<365){const ve=((7&V)<<18|(63&L[W++])<<12|(63&L[W++])<<6|63&L[W++])-65536;G[Ce++]=String.fromCharCode(55296+(ve>>10)),G[Ce++]=String.fromCharCode(56320+(1023&ve))}else{const ee=L[W++],B=L[W++];G[Ce++]=String.fromCharCode((15&V)<<12|(63&ee)<<6|63&B)}}return G.join("")}(this.decodeStringToByteArray(L,G))},decodeStringToByteArray(L,G){this.init_();const W=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let V=0;V<L.length;){const ee=W[L.charAt(V++)],te=V<L.length?W[L.charAt(V)]:0;++V;const Ue=V<L.length?W[L.charAt(V)]:64;++V;const Ge=V<L.length?W[L.charAt(V)]:64;if(++V,null==ee||null==te||null==Ue||null==Ge)throw Error();Ce.push(ee<<2|te>>4),64!==Ue&&(Ce.push(te<<4&240|Ue>>2),64!==Ge&&Ce.push(Ue<<6&192|Ge))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},ce=function(L){return function(L){const G=oe(L);return we.encodeByteArray(G,!0)}(L).replace(/\./g,"")},me=function(L){try{return we.decodeString(L,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function j(L,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return G}for(const W in G)!G.hasOwnProperty(W)||!se(W)||(L[W]=j(L[W],G[W]));return L}function se(L){return"__proto__"!==L}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,W)=>{this.resolve=G,this.reject=W})}wrapCallback(G){return(W,Ce)=>{W?this.reject(W):this.resolve(Ce),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(W):G(W,Ce))}}}function Ae(L,G){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=G||"demo-project",V=L.iat||0,ee=L.sub||L.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const B=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:V,exp:V+3600,auth_time:V,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},L);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(B)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function Te(){return"object"==typeof self&&self.self===self}function rt(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return Ve().indexOf("Electron/")>=0}function Pe(){const L=Ve();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Ie(){return Ve().indexOf("MSAppHost/")>=0}function X(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Se(){return new Promise((L,G)=>{try{let W=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(Ce);V.onsuccess=()=>{V.result.close(),W||self.indexedDB.deleteDatabase(Ce),L(!0)},V.onupgradeneeded=()=>{W=!1},V.onerror=()=>{var ee;G((null===(ee=V.error)||void 0===ee?void 0:ee.message)||"")}}catch(W){G(W)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(G,W,Ce){super(W),this.code=G,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(G,W,Ce){this.service=G,this.serviceName=W,this.errors=Ce}create(G,...W){const Ce=W[0]||{},V=`${this.service}/${G}`,ee=this.errors[G],B=ee?function je(L,G){return L.replace(yt,(W,Ce)=>{const V=G[Ce];return null!=V?String(V):`<${Ce}?>`})}(ee,Ce):"Error";return new _e(V,`${this.serviceName}: ${B} (${V}).`,Ce)}}const yt=/\{\$([^}]+)}/g;function $t(L,G){return Object.prototype.hasOwnProperty.call(L,G)}function un(L){for(const G in L)if(Object.prototype.hasOwnProperty.call(L,G))return!1;return!0}function Hr(L,G){if(L===G)return!0;const W=Object.keys(L),Ce=Object.keys(G);for(const V of W){if(!Ce.includes(V))return!1;const ee=L[V],B=G[V];if(bn(ee)&&bn(B)){if(!Hr(ee,B))return!1}else if(ee!==B)return!1}for(const V of Ce)if(!W.includes(V))return!1;return!0}function bn(L){return null!==L&&"object"==typeof L}function jn(L){const G=[];for(const[W,Ce]of Object.entries(L))Array.isArray(Ce)?Ce.forEach(V=>{G.push(encodeURIComponent(W)+"="+encodeURIComponent(V))}):G.push(encodeURIComponent(W)+"="+encodeURIComponent(Ce));return G.length?"&"+G.join("&"):""}function sr(L){const G={};return L.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[V,ee]=Ce.split("=");G[decodeURIComponent(V)]=decodeURIComponent(ee)}}),G}function fr(L){const G=L.indexOf("?");if(!G)return"";const W=L.indexOf("#",G);return L.substring(G,W>0?W:void 0)}function pr(L,G){const W=new Et(L,G);return W.subscribe.bind(W)}class Et{constructor(G,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{G(this)}).catch(Ce=>{this.error(Ce)})}next(G){this.forEachObserver(W=>{W.next(G)})}error(G){this.forEachObserver(W=>{W.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,W,Ce){let V;if(void 0===G&&void 0===W&&void 0===Ce)throw new Error("Missing Observer.");V=function an(L,G){if("object"!=typeof L||null===L)return!1;for(const W of G)if(W in L&&"function"==typeof L[W])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:W,complete:Ce},void 0===V.next&&(V.next=rn),void 0===V.error&&(V.error=rn),void 0===V.complete&&(V.complete=rn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(B){}}),this.observers.push(V),ee}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,G)}sendOne(G,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{W(this.observers[G])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}function Ut(L,G=1e3,W=2){const Ce=G*Math.pow(W,L),V=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+V)}function ln(L){return L&&L._delegate?L._delegate:L}},4725:(at,De,M)=>{var a=M(5e3);let k=null;function x(){return k}const ue=new a.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function me(){return(0,a.LFG)(j)}()},providedIn:"platform"}),n})();const $=new a.OlP("Location Initialized");let j=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){se()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){se()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function qe(){return new j((0,a.LFG)(ue))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Te(n){const e=(0,a.LFG)(ue).location;return new Ke((0,a.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const rt=new a.OlP("appBaseHref");let Ke=(()=>{class n extends ye{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(rt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(rt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ve(X(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function et(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,X(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ae,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(a.LFG(ye),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ie(){return new Pe((0,a.LFG)(ye),(0,a.LFG)(ce))}()},providedIn:"root"}),n})();function X(n){return n.replace(/\/index.html$/,"")}const he={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function un(n,e){const t=(0,a.cg1)(n),r=t[a.wAp.NumberSymbols][e];if(void 0===r){if(e===le.CurrencyDecimal)return t[a.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[a.wAp.NumberSymbols][le.Group]}return r}const It=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ur(n,e,t,r,i){const d=function de(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],l=r[1],d=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=d[0],_=d[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let I=0;I<_.length;I++){const S=_.charAt(I);"0"===S?t.minFrac=t.maxFrac=I+1:"#"===S?t.maxFrac=I+1:t.posSuf+=S}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,l){const I=i.length-t.posPre.length-t.posSuf.length,S=l.indexOf("#");t.negPre=l.substr(0,S).replace(/'/g,""),t.negSuf=l.substr(S+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Un(n,e){return(0,a.cg1)(n)[a.wAp.NumberFormats][e]}(e,Se.Currency),un(e,le.MinusSign));return d.minFrac=function gr(n){let e;const t=he[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function As(n,e,t,r,i,l,d=!1){let f="",_=!1;if(isFinite(n)){let w=function pt(n){let r,i,l,d,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(i<0&&(i=l),i+=+e.slice(l+1),e=e.substring(0,l)):i<0&&(i=e.length),l=0;"0"===e.charAt(l);l++);if(l===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=l,r=[],d=0;l<=f;l++,d++)r[d]=Number(e.charAt(l))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(w=function Fe(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let I=e.minInt,S=e.minFrac,F=e.maxFrac;if(l){const vt=l.match(It);if(null===vt)throw new Error(`${l} is not a valid digit info`);const Nt=vt[1],Ct=vt[3],Qt=vt[5];null!=Nt&&(I=sn(Nt)),null!=Ct&&(S=sn(Ct)),null!=Qt?F=sn(Qt):null!=Ct&&S>F&&(F=S)}!function qt(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const l=Math.min(Math.max(e,i),t);let d=l+n.integerLen,f=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let S=d;S<r.length;S++)r[S]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=l+1),r[0]=0;for(let S=1;S<d;S++)r[S]=0}if(f>=5)if(d-1<0){for(let S=0;S>d;S--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,l);i++)r.push(0);let _=0!==l;const w=e+n.integerLen,I=r.reduceRight(function(S,F,H,Y){return Y[H]=(F+=S)<10?F:F-10,_&&(0===Y[H]&&H>=w?Y.pop():_=!1),F>=10?1:0},0);I&&(r.unshift(I),n.integerLen++)}(w,S,F);let H=w.digits,Y=w.integerLen;const ge=w.exponent;let $e=[];for(_=H.every(vt=>!vt);Y<I;Y++)H.unshift(0);for(;Y<0;Y++)H.unshift(0);Y>0?$e=H.splice(Y,H.length):($e=H,H=[0]);const bt=[];for(H.length>=e.lgSize&&bt.unshift(H.splice(-e.lgSize,H.length).join(""));H.length>e.gSize;)bt.unshift(H.splice(-e.gSize,H.length).join(""));H.length&&bt.unshift(H.join("")),f=bt.join(un(t,r)),$e.length&&(f+=un(t,i)+$e.join("")),ge&&(f+=un(t,le.Exponential)+"+"+ge)}else f=un(t,le.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,d,e,le.CurrencyGroup,le.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function sn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class io{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new io(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),Gi(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Gi(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Gi(n,e){n.context.$implicit=e.item}let fn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ma("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ma("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function Ma(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let so=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",l,d){if(!function oo(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function Gn(n,e,t="en"){const r=function sr(n){return(0,a.cg1)(n)[a.wAp.Currencies]}(t)[n]||he[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",d):i);try{return Ur(function Oa(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,f,r,l)}catch(_){throw function tr(n,e){return new a.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},n.\u0275pipe=a.Yjl({name:"currency",type:n,pure:!0}),n})();let ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function Cr(n){return"server"===n}let ka=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Fa((0,a.LFG)(ue),window)}),n})();class Fa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ou(this.window.history)||Ou(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gi extends class La extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){k||(k=n)}(new gi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ds(){return An=An||document.querySelector("base"),An?An.getAttribute("href"):null}();return null==t?null:function Va(n){Ua=Ua||document.createElement("a"),Ua.setAttribute("href",n);const e=Ua.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){An=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function os(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ua,An=null;const xr=new a.OlP("TRANSITION_ID"),Ho=[{provide:a.ip1,useFactory:function Ba(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[xr,ue,a.zs3],multi:!0}];class Wi{static init(){(0,a.VLi)(new Wi)}addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let N=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const P=new a.OlP("EventManagerPlugins");let K=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(P),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class pe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ze=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),tt=(()=>{class n extends Ze{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Mt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Mt))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Mt(n){x().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$n=/%COMP%/g;function hs(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?hs(n,i,t):(i=i.replace($n,n),t.push(i))}return t}function Re(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fi=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ln(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new Sd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=hs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(K),a.LFG(tt),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ln{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=lt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=lt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Re(r)):this.eventManager.addEventListener(e,t,Re(r))}}class fs extends Ln{constructor(e,t,r,i){super(e),this.component=r;const l=hs(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Ti(n){return"_ngcontent-%COMP%".replace($n,n)}(i+"-"+r.id),this.hostAttr=function ja(n){return"_nghost-%COMP%".replace($n,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Sd extends Ln{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=hs(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ru=(()=>{class n extends pe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $m=["alt","control","meta","shift"],ap={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ku={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Br={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xs=(()=>{class n extends pe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if($m.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),d+=_+".")}),d+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function Hl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ku.hasOwnProperty(e)&&(e=ku[e]))}return ap[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$m.forEach(l=>{l!=i&&Br[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Gm=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Za(){gi.makeCurrent(),Wi.init()},multi:!0},{provide:ue,useFactory:function Hm(){return(0,a.RDi)(document),document},deps:[]}]),Md=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Ki(){return new a.qLn},deps:[]},{provide:P,useClass:Ru,multi:!0,deps:[ue,a.R0b,a.Lbi]},{provide:P,useClass:xs,multi:!0,deps:[ue]},{provide:Fi,useClass:Fi,deps:[K,tt,a.AFp]},{provide:a.FYo,useExisting:Fi},{provide:Ze,useExisting:tt},{provide:tt,useClass:tt,deps:[ue]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:K,useClass:K,deps:[P,a.R0b]},{provide:class Rn{},useClass:N,deps:[]}];let zl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:xr,useExisting:a.AFp},Ho]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Md,imports:[ls,a.hGG]}),n})(),Fu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function cp(){return new Fu((0,a.LFG)(ue))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):a.LFG(Ql),r},providedIn:"root"}),n})(),Ql=(()=>{class n extends Uu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(r),(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qa(n){return new Ql(n.get(ue))}(a.LFG(a.zs3)),r},providedIn:"root"}),n})();var nr=M(8996),Os=M(8306);const{isArray:Qm}=Array,{getPrototypeOf:Nd,prototype:Jl,keys:Pd}=Object;function Vu(n){if(1===n.length){const e=n[0];if(Qm(e))return{args:e,keys:null};if(function Ha(n){return n&&"object"==typeof n&&Nd(n)===Jl}(e)){const t=Pd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ga=M(8421),Cn=M(7669),Jr=M(5403),kt=M(4004);const{isArray:Od}=Array;function Jm(n){return(0,kt.U)(e=>function za(n,e){return Od(e)?n(...e):n(e)}(n,e))}function Rd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let pp=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),ps=(()=>{class n extends pp{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const ii=new a.OlP("NgValueAccessor"),Xl={provide:ii,useExisting:(0,a.Gpc)(()=>si),multi:!0},gp=new a.OlP("CompositionEventMode");let si=(()=>{class n extends pp{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wa(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(gp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([Xl]),a.qOj]}),n})();function Rs(n){return null==n||0===n.length}function Bu(n){return null!=n&&"number"==typeof n.length}const Nr=new a.OlP("NgValidators"),co=new a.OlP("NgAsyncValidators"),Xm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(e){return function Ko(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function mp(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Fd(n){return Rs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Ld(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ks(n){return Rs(n.value)||Xm.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ud(n){return e=>Rs(e.value)||!Bu(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ju(n){return e=>Bu(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Zu(n){if(!n)return Fs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return yp(e)}static composeAsync(e){return _p(e)}}function Fs(n){return null}function Yo(n){return null!=n}function gs(n){const e=(0,a.QGY)(n)?(0,nr.D)(n):n;return(0,a.CqO)(e),e}function Vd(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ec(n,e){return e.map(t=>t(n))}function Bd(n){return n.map(e=>function Ka(n){return!n.validate}(e)?e:t=>e.validate(t))}function yp(n){if(!n)return null;const e=n.filter(Yo);return 0==e.length?null:function(t){return Vd(ec(t,e))}}function qn(n){return null!=n?yp(Bd(n)):null}function _p(n){if(!n)return null;const e=n.filter(Yo);return 0==e.length?null:function(t){return function kd(...n){const e=(0,Cn.jO)(n),{args:t,keys:r}=Vu(n),i=new Os.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,w=d;for(let I=0;I<d;I++){let S=!1;(0,Ga.Xf)(t[I]).subscribe((0,Jr.x)(l,F=>{S||(S=!0,w--),f[I]=F},()=>_--,void 0,()=>{(!_||!S)&&(w||l.next(r?Rd(r,f):f),l.complete())}))}});return e?i.pipe(Jm(e)):i}(ec(t,e).map(gs)).pipe((0,kt.U)(Vd))}}function vp(n){return null!=n?_p(Bd(n)):null}function ey(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ep(n){return n._rawValidators}function ty(n){return n._rawAsyncValidators}function bp(n){return n?Array.isArray(n)?n:[n]:[]}function jd(n,e){return Array.isArray(n)?n.includes(e):n===e}function ho(n,e){const t=bp(e);return bp(n).forEach(i=>{jd(t,i)||t.push(i)}),t}function ny(n,e){return bp(e).filter(t=>!jd(n,t))}class rr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qn(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ur extends rr{get formDirective(){return null}get path(){return null}}class ry{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let lr=(()=>{class n extends ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ms,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),Ii=(()=>{class n extends ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ur,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function Hu(n,e){nc(n,e),e.valueAccessor.writeValue(n.value),function Gu(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Gd(n,e)})}(n,e),function Ip(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rc(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Gd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tc(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ls(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ys(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nc(n,e){const t=Ep(n);null!==e.validator?n.setValidators(ey(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ty(n);null!==e.asyncValidator?n.setAsyncValidators(ey(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Qa(e._rawValidators,i),Qa(e._rawAsyncValidators,i)}function ys(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ep(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=ty(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Qa(e._rawValidators,r),Qa(e._rawAsyncValidators,r),t}function Gd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zd(n,e){nc(n,e)}function Sp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ea="VALID",mo="INVALID",Li="PENDING",Ja="DISABLED";function ic(n){return(ta(n)?n.validators:n)||null}function sc(n){return Array.isArray(n)?qn(n):n||null}function Wu(n,e){return(ta(e)?e.asyncValidators:n)||null}function eu(n){return Array.isArray(n)?vp(n):n||null}function ta(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Kd=n=>n instanceof Yd,oc=n=>n instanceof tu,na=n=>n instanceof Np;function yo(n){return Kd(n)?n.value:n.getRawValue()}function xp(n,e){const t=oc(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")}function oy(n,e){oc(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})}class Ku{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sc(this._rawValidators),this._composedAsyncValidatorFn=eu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ea}get invalid(){return this.status===mo}get pending(){return this.status==Li}get disabled(){return this.status===Ja}get enabled(){return this.status!==Ja}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=eu(e)}addValidators(e){this.setValidators(ho(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ho(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ny(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ny(e,this._rawAsyncValidators))}hasValidator(e){return jd(this._rawValidators,e)}hasAsyncValidator(e){return jd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Li,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ea,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===Li)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ja:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Li,this._hasOwnPendingAsyncValidator=!0;const t=gs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Xa(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=oc(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:na(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ja:this.errors?mo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Li)?Li:this._anyControlsHaveStatus(mo)?mo:ea}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ta(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yd extends Ku{constructor(e=null,t,r){super(ic(t),Wu(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ta(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tu extends Ku{constructor(e,t,r){super(ic(t),Wu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oy(this,e),Object.keys(e).forEach(r=>{xp(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=yo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Np extends Ku{constructor(e,t,r){super(ic(t),Wu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oy(this,e),e.forEach((r,i)=>{xp(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>yo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ay={provide:ur,useExisting:(0,a.Gpc)(()=>_o)},Yu=(()=>Promise.resolve(null))();let _o=(()=>{class n extends ur{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new tu({},qn(t),vp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Hu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Yu.then(()=>{const r=this._findContainer(t.path),i=new tu({});zd(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Yu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Sp(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nr,10),a.Y36(co,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ay]),a.qOj]}),n})(),Tr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const eh=new a.OlP("NgModelWithFormControlWarning"),Fp={provide:ur,useExisting:(0,a.Gpc)(()=>yi)};let yi=(()=>{class n extends ur{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Hu(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ls(t.control||null,t,!1),Xo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Sp(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ls(r||null,t),Kd(i)&&(Hu(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);zd(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ap(n,e){return ys(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nc(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nr,10),a.Y36(co,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Fp]),a.qOj,a.TTD]}),n})();const g={provide:ms,useExisting:(0,a.Gpc)(()=>m)};let m=(()=>{class n extends ms{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Jo(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===si?t=l:function Dp(n){return Object.getPrototypeOf(n.constructor)===ps}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function cr(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ya(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(ur,13),a.Y36(Nr,10),a.Y36(co,10),a.Y36(ii,10),a.Y36(eh,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([g]),a.qOj,a.TTD]}),n})(),lT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[cc]]}),n})(),fS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lT]}),n})(),Xu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:eh,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lT]}),n})(),Qi=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,l=null,d=null;return null!=r&&(function Di(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new tu(i,{asyncValidators:d,updateOn:f,validators:l})}control(t,r,i){return new Yd(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new Np(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return Kd(t)||oc(t)||na(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:Xu}),n})();var oi=M(7579);function gt(...n){const e=(0,Cn.yG)(n);return(0,nr.D)(n,e)}var oh=M(6451),pc=M(5363),Ui=M(4482);function ai(n,e){return(0,Ui.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,Jr.x)(r,_=>{null==i||i.unsubscribe();let w=0;const I=l++;(0,Ga.Xf)(n(_,I)).subscribe(i=(0,Jr.x)(r,S=>r.next(e?e(_,S,I,w++):S),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var H0=M(6063);class dT extends oi.x{constructor(e=1/0,t=1/0,r=H0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var G0=M(3099);function z0(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,G0.B)({connector:()=>new dT(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Vp=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function js(n,e){return(0,Ui.e)((t,r)=>{let i=0;t.subscribe((0,Jr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var ah=M(5698);function K0(n){return(0,Ui.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Y0(n=yy){return(0,Ui.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yy(){return new Vp}var uh=M(4671);function el(n,e){const t=arguments.length>=2;return r=>r.pipe(n?js((i,l)=>n(i,l,r)):uh.y,(0,ah.q)(1),t?K0(e):Y0(()=>new Vp))}var gc=M(576);function Q0(n,e){return(0,gc.m)(e)?ai(()=>n,e):ai(()=>n)}var _y=M(9468),xn=M(880),Vi=M(2011),Bp=M(5867),Ne=M(5861),nl=M(9681),ch=M(4859),en=M(2090),oa=M(1877);const Ey=new Map,by={activated:!1,tokenObservers:[]},wy={initialized:!1,enabled:!1};function jr(n){return Ey.get(n)||by}function vo(n,e){Ey.set(n,e)}function aa(){return wy}class vT{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new en.BH,yield function ET(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new en.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Si=new en.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jp(n){if(!jr(n).activated)throw Si.create("use-before-activation",{appName:n.name})}function Ty(n,e){return $p.apply(this,arguments)}function $p(){return($p=(0,Ne.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,l)}catch(S){throw Si.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==d.status)throw Si.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(S){throw Si.create("fetch-parse-error",{originalErrorMessage:S.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}})).apply(this,arguments)}function rE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ru="firebase-app-check-store";let ph=null;function Iy(){return ph||(ph=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ru,{keyPath:"compositeKey"})}}catch(t){e(Si.create("storage-open",{originalErrorMessage:t.message}))}}),ph)}function Hp(){return(Hp=(0,Ne.Z)(function*(n,e){const r=(yield Iy()).transaction(ru,"readwrite"),l=r.objectStore(ru).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;f(Si.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const ua=new oa.Yd("@firebase/app-check");function uE(n,e){return(0,en.hl)()?function Ay(n,e){return function gh(n,e){return Hp.apply(this,arguments)}(function Wp(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ua.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qp(){return aa().enabled}function Dy(){return lE.apply(this,arguments)}function lE(){return(lE=(0,Ne.Z)(function*(){const n=aa();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const IT={error:"UNKNOWN_ERROR"};function dE(n){return en.US.encodeString(JSON.stringify(n),!1)}function Jp(n){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,Ne.Z)(function*(n,e=!1){const t=n.app;jp(t);const r=jr(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&Xp(_)&&(i=_)}if(!e&&i&&Xp(i))return{token:i.token};let f,d=!1;if(Qp()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ty(rE(t,yield Dy()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield uE(t,_),vo(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ua.warn(_.message):ua.error(_),l=_}return i?(f={token:i.token},vo(t,Object.assign(Object.assign({},r),{token:i})),yield uE(t,i)):f=DT(l),d&&hE(t,f),f})).apply(this,arguments)}function My(n,e){const t=jr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function xy(n){const{app:e}=n,t=jr(e);let r=t.tokenRefresher;r||(r=function AT(n){const{app:e}=n;return new vT((0,Ne.Z)(function*(){let r;if(r=jr(e).token?yield Jp(n,!0):yield Jp(n),r.error)throw r.error}),()=>!0,()=>{const t=jr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),vo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hE(n,e){const t=jr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Xp(n){return n.expireTimeMillis-Date.now()>0}function DT(n){return{token:dE(IT),error:n}}class fE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=jr(this.app);for(const t of e)My(this.app,t.next);return Promise.resolve()}}const wE="app-check-internal";!function RT(){(0,nl._registerComponent)(new ch.wA("app-check",n=>function ST(n,e){return new fE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wE).initialize()})),(0,nl._registerComponent)(new ch.wA(wE,n=>function MT(n){return{getToken:e=>Jp(n,e),addTokenListener:e=>function Ji(n,e,t,r){const{app:i}=n,l=jr(i),d={next:t,error:r,type:e};if(vo(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Xp(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),xy(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>xy(n))}(n,"INTERNAL",e),removeTokenListener:e=>My(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nl.registerVersion)("@firebase/app-check","0.5.8")}();class Ly{constructor(){return(0,xn.vb)("app-check")}}"undefined"!=typeof window&&window;var ca=M(127);const IE=new a.OlP("angularfire2.auth.use-emulator"),Vy=new a.OlP("angularfire2.auth.settings"),rg=new a.OlP("angularfire2.auth.tenant-id"),By=new a.OlP("angularfire2.auth.langugage-code"),ig=new a.OlP("angularfire2.auth.use-device-language"),AE=new a.OlP("angularfire.auth.persistence"),da=(n,e,t,r,i,l,d,f)=>(0,Vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,I]of Object.entries(d))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,l,d,f]);let iu=(()=>{class n{constructor(t,r,i,l,d,f,_,w,I,S,F,H){const Y=new oi.x,ge=gt(void 0).pipe((0,pc.Q)(d.outsideAngular),ai(()=>l.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,kt.U)(()=>(0,Vi.on)(t,l,r)),(0,kt.U)($e=>da($e,l,f,w,I,S,_,F)),z0({bufferSize:1,refCount:!1}));if(Cr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{ge.pipe(el()).subscribe();const bt=ge.pipe(ai(Ct=>Ct.getRedirectResult().then(Qt=>Qt,()=>null)),xn.iC,z0({bufferSize:1,refCount:!1})),vt=ge.pipe(ai(Ct=>new Os.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>Ct.onAuthStateChanged(on=>Qt.next(on),on=>Qt.error(on),()=>Qt.complete()))})))),Nt=ge.pipe(ai(Ct=>new Os.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>Ct.onIdTokenChanged(on=>Qt.next(on),on=>Qt.error(on),()=>Qt.complete()))}))));this.authState=bt.pipe(Q0(vt),(0,_y.R)(d.outsideAngular),(0,pc.Q)(d.insideAngular)),this.user=bt.pipe(Q0(Nt),(0,_y.R)(d.outsideAngular),(0,pc.Q)(d.insideAngular)),this.idToken=this.user.pipe(ai(Ct=>Ct?(0,nr.D)(Ct.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(ai(Ct=>Ct?(0,nr.D)(Ct.getIdTokenResult()):gt(null))),this.credential=(0,oh.T)(bt,Y,this.authState.pipe(js(Ct=>!Ct))).pipe((0,kt.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,_y.R)(d.outsideAngular),(0,pc.Q)(d.insideAngular))}return(0,Vi.pX)(this,ge,l,{spy:{apply:($e,bt,vt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&vt.then(Nt=>Y.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vi.Dh),a.LFG(Vi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(xn.HU),a.LFG(IE,8),a.LFG(Vy,8),a.LFG(rg,8),a.LFG(By,8),a.LFG(ig,8),a.LFG(AE,8),a.LFG(Ly,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LT=(()=>{class n{constructor(){ca.Z.registerVersion("angularfire",xn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[iu]}),n})();var jy=M(4986),sg=M(8189);function Zy(...n){return function DE(){return(0,sg.J)(1)}()((0,nr.D)(n,(0,Cn.yG)(n)))}function _h(...n){const e=(0,Cn.yG)(n);return(0,Ui.e)((t,r)=>{(e?Zy(n,t,e):Zy(n,t)).subscribe(r)})}function su(){return(0,Ui.e)((n,e)=>{let t,r=!1;n.subscribe((0,Jr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function mc(n,e,t,r,i){return(l,d)=>{let f=t,_=e,w=0;l.subscribe((0,Jr.x)(d,I=>{const S=w++;_=f?n(_,I,S):(f=!0,I),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function il(n,e){return(0,Ui.e)(mc(n,e,arguments.length>=2,!0))}function sl(n,e=uh.y){return n=null!=n?n:vh,(0,Ui.e)((t,r)=>{let i,l=!0;t.subscribe((0,Jr.x)(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}function vh(n,e){return n===e}M(5881);var dt,UT=M(3942),SE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Eo={},bh=bh||{},jt=SE||self;function ol(){}function $y(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var og="closure_uid_"+(1e9*Math.random()>>>0),ME=0;function VT(n,e,t){return n.call.apply(n.bind,arguments)}function xE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ui(n,e,t){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VT:xE).apply(null,arguments)}function ag(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Nn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function ou(){this.s=this.s,this.o=this.o}var wS={};ou.prototype.s=!1,ou.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function bS(n){return Object.prototype.hasOwnProperty.call(n,og)&&n[og]||(n[og]=++ME)}(this);delete wS[n]}},ou.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},qy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function NE(n){return Array.prototype.concat.apply([],arguments)}function wh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ch(n){return/^[\s\xa0]*$/.test(n)}var vi,PE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mi(n,e){return-1!=n.indexOf(e)}function Hy(n,e){return n<e?-1:n>e?1:0}e:{var OE=jt.navigator;if(OE){var Gy=OE.userAgent;if(Gy){vi=Gy;break e}}vi=""}function zy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function RE(n){const e={};for(const t in n)e[t]=n[t];return e}var Wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ky(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Wy.length;l++)t=Wy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yy(n){return Yy[" "](n),n}Yy[" "]=ol;var ug,n,Qy=Mi(vi,"Opera"),_c=Mi(vi,"Trident")||Mi(vi,"MSIE"),kE=Mi(vi,"Edge"),FE=kE||_c,Jy=Mi(vi,"Gecko")&&!(Mi(vi.toLowerCase(),"webkit")&&!Mi(vi,"Edge"))&&!(Mi(vi,"Trident")||Mi(vi,"MSIE"))&&!Mi(vi,"Edge"),ZT=Mi(vi.toLowerCase(),"webkit")&&!Mi(vi,"Edge");function LE(){var n=jt.document;return n?n.documentMode:void 0}e:{var Th="",Xy=(n=vi,Jy?/rv:([^\);]+)(\)|;)/.exec(n):kE?/Edge\/([\d\.]+)/.exec(n):_c?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZT?/WebKit\/(\S+)/.exec(n):Qy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xy&&(Th=Xy?Xy[1]:""),_c){var e_=LE();if(null!=e_&&e_>parseFloat(Th)){ug=String(e_);break e}}ug=Th}var lg={};var r_=jt.document&&_c&&(LE()||parseInt(ug,10))||void 0,UE=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",ol,e),jt.removeEventListener("test",ol,e)}catch(t){}return n}();function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function dg(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jy){e:{try{Yy(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:i_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dg.Z.h.call(this)}}xi.prototype.h=function(){this.defaultPrevented=!0},Nn(dg,xi);var i_={2:"touch",3:"pen",4:"mouse"};dg.prototype.h=function(){dg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hg="closure_listenable_"+(1e6*Math.random()|0),$T=0;function VE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++$T,this.ca=this.fa=!1}function Ih(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ah(n){this.src=n,this.g={},this.h=0}function fg(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=jT(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Ih(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pg(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Ah.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=pg(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new VE(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Zs="closure_lm_"+(1e6*Math.random()|0),vc={};function BE(n,e,t,r,i){if(r&&r.once)return gg(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)BE(n,e[l],t,r,i);return null}return t=yg(t),n&&n[hg]?n.N(e,t,yc(r)?!!r.capture:!!r,i):jE(n,e,t,!1,r,i)}function jE(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=yc(i)?!!i.capture:!!i,f=Sh(n);if(f||(n[Zs]=f=new Ah(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function TS(){var e=qT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)UE||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ec(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function gg(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)gg(n,e[l],t,r,i);return null}return t=yg(t),n&&n[hg]?n.O(e,t,yc(r)?!!r.capture:!!r,i):jE(n,e,t,!0,r,i)}function s_(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)s_(n,e[l],t,r,i);else r=yc(r)?!!r.capture:!!r,t=yg(t),n&&n[hg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pg(l=n.g[e],t,r,i))&&(Ih(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Sh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pg(e,t,r,i)),(t=-1<n?e[n]:null)&&Dh(t))}function Dh(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hg])fg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ec(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sh(e))?(fg(t,n),0==t.h&&(t.src=null,e[Zs]=null)):Ih(n)}}}function Ec(n){return n in vc?vc[n]:vc[n]="on"+n}function qT(n,e){if(n.ca)n=!0;else{e=new dg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Dh(n),n=t.call(r,e)}return n}function Sh(n){return(n=n[Zs])instanceof Ah?n:null}var mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function yg(n){return"function"==typeof n?n:(n[mg]||(n[mg]=function(e){return n.handleEvent(e)}),n[mg])}function Zr(){ou.call(this),this.i=new Ah(this),this.P=this,this.I=null}function li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var i=e;Ky(e=new xi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=bc(d,r,!0,e)&&i}if(i=bc(d=e.g=n,r,!0,e)&&i,i=bc(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=bc(d=e.g=t[l],r,!1,e)&&i}function bc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&fg(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Nn(Zr,ou),Zr.prototype[hg]=!0,Zr.prototype.removeEventListener=function(n,e,t,r){s_(this,n,e,t,r)},Zr.prototype.M=function(){if(Zr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ih(t[r]);delete n.g[e],n.h--}}this.I=null},Zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var o_=jt.JSON.stringify;function HT(){var n=qE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var au,al=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $E,n=>n.reset());class $E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function GT(n){jt.setTimeout(()=>{throw n},0)}function a_(n,e){au||function zT(){var n=jt.Promise.resolve(void 0);au=function(){n.then(WT)}}(),u_||(au(),u_=!0),qE.add(n,e)}var u_=!1,qE=new class ZE{constructor(){this.h=this.g=null}add(e,t){const r=al.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function WT(){for(var n;n=HT();){try{n.h.call(n.g)}catch(t){GT(t)}var e=al;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}u_=!1}function Xi(n,e){Zr.call(this),this.h=n||1,this.g=e||jt,this.j=ui(this.kb,this),this.l=Date.now()}function Mh(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function _g(n,e,t){if("function"==typeof n)t&&(n=ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function l_(n){n.g=_g(()=>{n.g=null,n.i&&(n.i=!1,l_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Nn(Xi,Zr),(dt=Xi.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),li(this,"tick"),this.da&&(Mh(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Xi.Z.M.call(this),Mh(this),delete this.g};class HE extends ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l_(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wc(n){ou.call(this),this.h=n,this.g={}}Nn(wc,ou);var GE=[];function zE(n,e,t,r){Array.isArray(t)||(t&&(GE[0]=t.toString()),t=GE);for(var i=0;i<t.length;i++){var l=BE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function WE(n){zy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dh(e)},n),n.g={}}function vg(){this.g=!0}function ul(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function YT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return o_(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}wc.prototype.M=function(){wc.Z.M.call(this),WE(this)},wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vg.prototype.Aa=function(){this.g=!1},vg.prototype.info=function(){};var Cc={},QT=null;function Tc(){return QT=QT||new Zr}function YE(n){xi.call(this,Cc.Ma,n)}function Ic(n){const e=Tc();li(e,new YE(e,n))}function c_(n,e){xi.call(this,Cc.STAT_EVENT,n),this.stat=e}function ji(n){const e=Tc();li(e,new c_(e,n))}function vs(n,e){xi.call(this,Cc.Na,n),this.size=e}function Eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Cc.Ma="serverreachability",Nn(YE,xi),Cc.STAT_EVENT="statevent",Nn(c_,xi),Cc.Na="timingevent",Nn(vs,xi);var d_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},h_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bg(){}function QE(){}bg.prototype.h=null;var p_,wg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cg(){xi.call(this,"d")}function xh(){xi.call(this,"c")}function Ac(){}function Nh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new wc(this),this.P=JT,this.W=new Xi(n=FE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}Nn(Cg,xi),Nn(xh,xi),Nn(Ac,bg),Ac.prototype.g=function(){return new XMLHttpRequest},Ac.prototype.i=function(){return{}},p_=new Ac;var JT=45e3,g_={},Tg={};function m_(n,e,t){n.K=1,n.v=Fh($i(e)),n.s=t,n.U=!0,Ph(n,null)}function Ph(n,e){n.F=Date.now(),Rh(n),n.A=$i(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),__(t.h,"t",r),n.C=0,t=n.l.H,n.h=new JE,n.g=A_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new HE(ui(n.Ia,n,n.g),n.O)),zE(n.V,n.g,"readystatechange",n.gb),e=n.H?RE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ic(1),function KE(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var S=I.split("_");d=2<=S.length&&"type"==S[1]?d+(I+"=")+w+"&":d+(I+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ll(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function XE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Oh(n,t),i==Tg){4==e&&(n.o=4,ji(14),r=!1),ul(n.j,n.m,null,"[Incomplete Response]");break}if(i==g_){n.o=4,ji(15),ul(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ul(n.j,n.m,i,null),Xr(n,i)}ll(n)&&i!=Tg&&i!=g_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pg(e),e.L=!0,ji(11))):(ul(n.j,n.m,t,"[Invalid Chunked Response]"),$s(n),Zi(n))}function Oh(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Tg:(t=Number(e.substring(t,r)),isNaN(t)?g_:(r+=1)+t>e.length?Tg:(e=e.substr(r,t),n.C=r+t,e))}function Rh(n){n.Y=Date.now()+n.P,eb(n,n.P)}function eb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eg(ui(n.eb,n),e)}function Dc(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Zi(n){0==n.l.G||n.I||T_(n.l,n)}function $s(n){Dc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Mh(n.W),WE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xr(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Uh(t.i,n)))if(t.I=n.N,!n.J&&Uh(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Eg(ui(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;qh(t),Rc(t)}Ng(t),ji(18)}if(1>=Ig(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else cu(t,11)}else if((n.J||t.g==n)&&qh(t),!Ch(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const S=w[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const Y=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var l=r.i;!l.g&&(Mi(Y,"spdy")||Mi(Y,"quic")||Mi(Y,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(v_(l,l.h),l.h=null))}if(r.D){const ge=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.sa=ge,Kn(r.F,r.D,ge))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=I_(r,r.H?r.la:null,r.W),d.J){nI(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(Dc(f),Rh(f)),r.g=d}else $h(r);0<t.l.length&&fl(t)}else"stop"!=w[0]&&"close"!=w[0]||cu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?cu(t,7):Bh(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}Ic(4)}catch(w){}}function Sc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($y(n)||"string"==typeof n)qy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if($y(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function cl(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if($y(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function ci(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ci)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kh(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Es(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Es(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Es(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Nh.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==lu(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const I=lu(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>I)&&(3!=I||FE||this.g&&(this.h.h||this.g.ga()||xg(this.g)))){this.I||4!=I||7==e||Ic(8==e||0>=S?3:2),Dc(this);var t=this.g.ba();this.N=t;t:if(ll(this)){var r=xg(this.g);n="";var i=r.length,l=4==lu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$s(this),Zi(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function IS(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ch(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ji(12),$s(this),Zi(this);break e}ul(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xr(this,t)}this.U?(XE(this,I,d),FE&&this.i&&3==I&&(zE(this.V,this.W,"tick",this.fb),this.W.start())):(ul(this.j,this.m,d,null),Xr(this,d)),4==I&&$s(this),this.i&&!this.I&&(4==I?T_(this.l,this):(this.i=!1,Rh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ji(12)):(this.o=0,ji(13)),$s(this),Zi(this)}}}catch(I){}},dt.fb=function(){if(this.g){var n=lu(this.g),e=this.g.ga();this.C<e.length&&(Dc(this),XE(this,n,e),this.i&&4!=n&&Rh(this))}},dt.cancel=function(){this.I=!0,$s(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ic(3),ji(17)),$s(this),this.o=2,Zi(this)):eb(this,this.Y-n)},(dt=ci.prototype).R=function(){kh(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return kh(this),this.g.concat()},dt.get=function(n,e){return Es(this.h,n)?this.h[n]:e},dt.set=function(n,e){Es(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var dl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bs){this.g=void 0!==e?e:n.g,ha(this,n.j),this.s=n.s,fa(this,n.i),pa(this,n.m),this.l=n.l,e=n.h;var t=new Lh;t.i=e.i,e.g&&(t.g=new ci(e.g),t.h=e.h),hl(this,t),this.o=n.o}else n&&(t=String(n).match(dl))?(this.g=!!e,ha(this,t[1]||"",!0),this.s=xc(t[2]||""),fa(this,t[3]||"",!0),pa(this,t[4]),this.l=xc(t[5]||"",!0),hl(this,t[6]||"",!0),this.o=xc(t[7]||"")):(this.g=!!e,this.h=new Lh(null,this.g))}function $i(n){return new bs(n)}function ha(n,e,t){n.j=t?xc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fa(n,e,t){n.i=t?xc(e,!0):e}function pa(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hl(n,e,t){e instanceof Lh?(n.h=e,function ub(n,e){e&&!n.j&&(ga(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ob(this,r),__(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Nc(e,sb)),n.h=new Lh(e,n.g))}function Kn(n,e,t){n.h.set(e,t)}function Fh(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Nc(e,y_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Nc(e,y_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Nc(t,"/"==t.charAt(0)?XT:ib,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Nc(t,eI)),n.join("")};var y_=/[#\/\?@]/g,ib=/[#\?:]/g,XT=/[#\?]/g,sb=/[#\?@]/g,eI=/#/g;function Lh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ga(n){n.g||(n.g=new ci,n.h=0,n.i&&function Mc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ob(n,e){ga(n),e=Pc(n,e),Es(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Es((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kh(n)))}function ab(n,e){return ga(n),e=Pc(n,e),Es(n.g.h,e)}function __(n,e,t){ob(n,e),0<t.length&&(n.i=null,n.g.set(Pc(n,e),wh(t)),n.h+=t.length)}function Pc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lb(n){this.l=n||AS,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Lh.prototype).add=function(n,e){ga(this),this.i=null,n=Pc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){ga(this),this.g.forEach(function(t,r){qy(t,function(i){n.call(e,i,r,this)},this)},this)},dt.T=function(){ga(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},dt.R=function(n){ga(this);var e=[];if("string"==typeof n)ab(this,n)&&(e=NE(e,this.g.get(Pc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=NE(e,n[t])}return e},dt.set=function(n,e){return ga(this),this.i=null,ab(this,n=Pc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var AS=10;function cb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ig(n){return n.h?1:n.g?n.g.size:0}function Uh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function v_(n,e){n.g?n.g.add(e):n.h=e}function nI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wh(n.i)}function db(){}function iI(){this.g=new db}function hb(n,e,t){const r=t||"";try{Sc(n,function(i,l){let d=i;yc(i)&&(d=o_(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ag(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function wo(n){this.l=n.$b||null,this.j=n.ib||!1}function Dg(n,e){Zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Sg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lb.prototype.cancel=function(){if(this.i=rI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},db.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},db.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Nn(wo,bg),wo.prototype.g=function(){return new Dg(this.l,this.j)},wo.prototype.i=function(n){return function(){return n}}({}),Nn(Dg,Zr);var Sg=0;function fb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Oc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uu(n)}function uu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Dg.prototype).open=function(n,e){if(this.readyState!=Sg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uu(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oc(this)),this.readyState=Sg},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Oc(this):uu(this),3==this.readyState&&fb(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Oc(this))},dt.Ta=function(n){this.g&&(this.response=n,Oc(this))},dt.ha=function(){this.g&&Oc(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sI=jt.JSON.parse;function Ir(n){Zr.call(this),this.headers=new ci,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pb,this.K=this.L=!1}Nn(Ir,Zr);var pb="",oI=/^https?$/i,aI=["POST","PUT"];function lI(n){return"content-type"==n.toLowerCase()}function E_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gb(n),Vh(n)}function gb(n){n.D||(n.D=!0,li(n,"complete"),li(n,"error"))}function b_(n){if(n.h&&void 0!==bh&&(!n.C[1]||4!=lu(n)||2!=n.ba()))if(n.v&&4==lu(n))_g(n.Fa,0,n);else if(li(n,"readystatechange"),4==lu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(dl)[1]||null;if(!i&&jt.self&&jt.self.location){var l=jt.self.location.protocol;i=l.substr(0,l.length-1)}r=!oI.test(i?i.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var d=2<lu(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",gb(n)}}finally{Vh(n)}}}function Vh(n,e){if(n.g){Mg(n);const t=n.g,r=n.C[0]?ol:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Mg(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function lu(n){return n.g?n.g.readyState:0}function xg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function cI(n){let e="";return zy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Kn(n,e,t))}function ma(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function w_(n){this.za=0,this.l=[],this.h=new vg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ma("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ma("baseRetryDelayMs",5e3,n),this.$a=ma("retryDelaySeedMs",1e4,n),this.Ya=ma("forwardChannelMaxRetries",2,n),this.ra=ma("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lb(n&&n.concurrentRequestLimit),this.Ca=new iI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Bh(n){if(yb(n),3==n.G){var e=n.V++,t=$i(n.F);Kn(t,"SID",n.J),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),jh(n,t),(e=new Nh(n,n.h,e,void 0)).K=2,e.v=Fh($i(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=A_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Rh(e)}_b(n)}function Rc(n){n.g&&(Pg(n),n.g.cancel(),n.g=null)}function yb(n){Rc(n),n.u&&(jt.clearTimeout(n.u),n.u=null),qh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function kc(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&fl(n)}function fl(n){cb(n.i)||n.m||(n.m=!0,a_(n.Ha,n),n.C=0)}function dI(n,e){var t;t=e?e.m:n.V++;const r=$i(n.F);Kn(r,"SID",n.J),Kn(r,"RID",t),Kn(r,"AID",n.U),jh(n,r),n.o&&n.s&&mb(r,n.o,n.s),t=new Nh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Zh(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),v_(n.i,t),m_(t,r,e)}function jh(n,e){n.j&&Sc({},function(t,r){Kn(e,r,t)})}function Zh(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ui(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),f=!1;else try{hb(I,d,"req"+w+"_")}catch(S){r&&r(I)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $h(n){n.g||n.u||(n.Y=1,a_(n.Ga,n),n.A=0)}function Ng(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Eg(ui(n.Ga,n),Rg(n,n.A)),n.A++,0))}function Pg(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Og(n){n.g=new Nh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=$i(n.oa);Kn(e,"RID","rpc"),Kn(e,"SID",n.J),Kn(e,"CI",n.N?"0":"1"),Kn(e,"AID",n.U),jh(n,e),Kn(e,"TYPE","xmlhttp"),n.o&&n.s&&mb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Fh($i(e)),t.s=null,t.U=!0,Ph(t,n)}function qh(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function T_(n,e){var t=null;if(n.g==e){qh(n),Pg(n),n.g=null;var r=2}else{if(!Uh(n.i,e))return;t=e.D,nI(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;li(r=Tc(),new vs(r,t,e,i)),fl(n)}else $h(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function C_(n,e){return!(Ig(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Eg(ui(n.Ha,n,e),Rg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ng(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:cu(n,5);break;case 4:cu(n,10);break;case 3:cu(n,6);break;default:cu(n,2)}}function Rg(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function cu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ui(n.jb,n);t||(t=new bs("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||ha(t,"https"),Fh(t)),function DS(n,e){const t=new vg;if(jt.Image){const r=new Image;r.onload=ag(Ag,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ag(Ag,t,r,"TestLoadImage: error",!1,e),r.onabort=ag(Ag,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ag(Ag,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ji(2);n.G=0,n.j&&n.j.va(e),_b(n),yb(n)}function _b(n){n.G=0,n.I=-1,n.j&&((0!=rI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wh(n.l),n.l.length=0),n.j.ua())}function I_(n,e,t){let r=function tb(n){return n instanceof bs?$i(n):new bs(n,void 0)}(t);if(""!=r.i)e&&fa(r,e+"."+r.i),pa(r,r.m);else{const i=jt.location;r=function nb(n,e,t,r){var i=new bs(null,void 0);return n&&ha(i,n),e&&fa(i,e),t&&pa(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&zy(n.aa,function(i,l){Kn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Kn(r,e,t),Kn(r,"VER",n.ma),jh(n,r),r}function A_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Ba&&!n.qa?new wo({ib:!0}):n.qa)).L=n.H,e}function kg(){}function Hh(){if(_c&&!(10<=Number(r_)))throw Error("Environmental error: no available transport.")}function es(n,e){Zr.call(this),this.g=new w_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ch(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ch(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pl(this)}function vb(n){Cg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Eb(){xh.call(this),this.status=1}function pl(n){this.g=n}(dt=Ir.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():p_.g(),this.C=function f_(n){return n.h||(n.h=n.i())}(this.u?this.u:p_),this.g.onreadystatechange=ui(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void E_(this,l)}n=t||"";const i=new ci(this.headers);r&&Sc(r,function(l,d){i.set(d,l)}),r=function CS(n){e:{var e=lI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=jt.FormData&&n instanceof jt.FormData,!(0<=jT(aI,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mg(this),0<this.B&&((this.K=function uI(n){return _c&&function t_(){return function bo(n){var e=lg;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=PE(String(ug)).split("."),t=PE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Hy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Hy(0==i[2].length,0==l[2].length)||Hy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.pa,this)):this.A=_g(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){E_(this,l)}},dt.pa=function(){void 0!==bh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),Vh(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),Ir.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?b_(this):this.cb())},dt.cb=function(){b_(this)},dt.ba=function(){try{return 2<lu(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sI(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=w_.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Nh(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=RE(l),Ky(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Zh(this,i,e),Kn(t=$i(this.F),"RID",n),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),jh(this,t),this.o&&l&&mb(t,this.o,l),v_(this.i,i),this.Ra&&Kn(t,"TYPE","init"),this.ja?(Kn(t,"$req",e),Kn(t,"SID","null"),i.$=!0,m_(i,t,null)):m_(i,t,e),this.G=2}}else 3==this.G&&(n?dI(this,n):0==this.l.length||cb(this.i)||dI(this))},dt.Ga=function(){if(this.u=null,Og(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Eg(ui(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ji(10),Rc(this),Og(this))},dt.ab=function(){null!=this.v&&(this.v=null,Rc(this),Ng(this),ji(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ji(2)):(this.h.info("Failed to ping google.com"),ji(1))},(dt=kg.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},Hh.prototype.g=function(n,e){return new es(n,e)},Nn(es,Zr),es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),a_(ui(n.hb,n,e))),ji(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=I_(n,null,n.W),fl(n)},es.prototype.close=function(){Bh(this.g)},es.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,kc(this.g,e)}else this.v?((e={}).__data__=o_(n),kc(this.g,e)):kc(this.g,n)},es.prototype.M=function(){this.g.j=null,delete this.j,Bh(this.g),delete this.g,es.Z.M.call(this)},Nn(vb,Cg),Nn(Eb,xh),Nn(pl,kg),pl.prototype.xa=function(){li(this.g,"a")},pl.prototype.wa=function(n){li(this.g,new vb(n))},pl.prototype.va=function(n){li(this.g,new Eb(n))},pl.prototype.ua=function(){li(this.g,"b")},Hh.prototype.createWebChannel=Hh.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,d_.NO_ERROR=0,d_.TIMEOUT=8,d_.HTTP_ERROR=6,h_.COMPLETE="complete",QE.EventType=wg,wg.OPEN="a",wg.CLOSE="b",wg.ERROR="c",wg.MESSAGE="d",Zr.prototype.listen=Zr.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var D_=Eo.createWebChannelTransport=function(){return new Hh},bb=Eo.getStatEventTarget=function(){return Tc()},Fg=Eo.ErrorCode=d_,wb=Eo.EventType=h_,Cb=Eo.Event=Cc,S_=Eo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Tb=Eo.FetchXmlHttpFactory=wo,Gh=Eo.WebChannel=QE,Ib=Eo.XhrIo=Ir;const hI="@firebase/firestore";class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let Fc="9.8.0";const ya=new oa.Yd("@firebase/firestore");function M_(){return ya.logLevel}function Qe(n,...e){if(ya.logLevel<=oa.in.DEBUG){const t=e.map(Lg);ya.debug(`Firestore (${Fc}): ${n}`,...t)}}function Pr(n,...e){if(ya.logLevel<=oa.in.ERROR){const t=e.map(Lg);ya.error(`Firestore (${Fc}): ${n}`,...t)}}function zh(n,...e){if(ya.logLevel<=oa.in.WARN){const t=e.map(Lg);ya.warn(`Firestore (${Fc}): ${n}`,...t)}}function Lg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Ft(n,e){n||_t()}function it(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Db{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(di.UNAUTHENTICATED))}shutdown(){}}class SS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x_{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new qr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Ne.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new Db(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new di(e)}}class N_{constructor(e,t,r){this.type="FirstParty",this.user=di.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Co{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new N_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Qe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new Mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class dr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function qs(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}dr.A=-1;class P_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qs(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Nb(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Ar(0,0))}static max(){return new Rt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ug(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Uc{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Uc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends Uc{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const Ob=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends Uc{construct(e,t,r){return new Or(e,t,r)}static isValidIdentifier(e){return Ob.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Be(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Be(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Be(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new Be(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class va{constructor(e){this.fields=e,e.sort(Or.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const Rb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=Rb.exec(n);if(Ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function du(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function Vg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function O_(n){const e=n.mapValue.fields.__previous_value__;return Vg(e)?O_(e):e}function Vc(n){const e=To(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class kb{constructor(e,t,r,i,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Io{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}function Bc(n){return null==n}function jc(n){return 0===n&&1/n==-1/0}function Fb(n){return"number"==typeof n&&Number.isInteger(n)&&!jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(pn.fromString(e))}static fromName(e){return new ot(pn.fromString(e).popFirst(5))}static empty(){return new ot(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new pn(e.slice()))}}const hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bg={nullValue:"NULL_VALUE"};function gl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:F_(n)?9007199254740991:10:_t()}function Ao(n,e){if(n===e)return!0;const t=gl(n);if(t!==gl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vc(n).isEqual(Vc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=To(r.timestampValue),d=To(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,du(n.bytesValue).isEqual(du(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Yn(r.geoPointValue.latitude)===Yn(i.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yn(r.integerValue)===Yn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Yn(r.doubleValue),d=Yn(i.doubleValue);return l===d?jc(l)===jc(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Lc(n.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Ug(l)!==Ug(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!Ao(l[f],d[f])))return!1;return!0}(n,e);default:return _t()}var i}function Wh(n,e){return void 0!==(n.values||[]).find(t=>Ao(t,e))}function fu(n,e){if(n===e)return 0;const t=gl(n),r=gl(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Yn(i.integerValue||i.doubleValue),f=Yn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Lb(n.timestampValue,e.timestampValue);case 4:return Lb(Vc(n),Vc(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=du(i),f=du(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Yt(d[_],f[_]);if(0!==w)return w}return Yt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Yt(Yn(i.latitude),Yn(l.latitude));return 0!==d?d:Yt(Yn(i.longitude),Yn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=fu(d[_],f[_]);if(w)return w}return Yt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===hu.mapValue&&l===hu.mapValue)return 0;if(i===hu.mapValue)return 1;if(l===hu.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const S=Yt(f[I],w[I]);if(0!==S)return S;const F=fu(d[f[I]],_[w[I]]);if(0!==F)return F}return Yt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw _t()}}function Lb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=To(n),r=To(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Zc(n){return R_(n)}function R_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=To(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?du(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=R_(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${R_(r.fields[f])}`;return l+"}"}(n.mapValue):_t();var e}function ml(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function k_(n){return!!n&&"integerValue"in n}function Kh(n){return!!n&&"arrayValue"in n}function Ub(n){return!!n&&"nullValue"in n}function Vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jg(n){return!!n&&"mapValue"in n}function Yh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function F_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bb(n){return"nullValue"in n?Bg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ml(Io.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function jb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ml(Io.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hu:_t()}function L_(n,e){const t=fu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function U_(n,e){const t=fu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yh(t)}setAll(e){let t=Or.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Yh(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());jg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hs(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new hi(Yh(this.value))}}function V_(n){const e=[];return Hs(n.fields,(t,r)=>{const i=new Or([t]);if(jg(r)){const l=V_(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new va(e)}class Hn{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Hn(e,0,Rt.min(),Rt.min(),hi.empty(),0)}static newFoundDocument(e,t,r){return new Hn(e,1,t,Rt.min(),r,0)}static newNoDocument(e,t){return new Hn(e,2,t,Rt.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,Rt.min(),hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Zg(n){return n.fields.find(e=>2===e.kind)}function Ea(n){return n.fields.filter(e=>2!==e.kind)}Qh.UNKNOWN_ID=-1;class Do{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jh(0,So.min())}}function Zb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new So(i,ot.empty(),e)}function $c(n){return new So(n.readTime,n.key,-1)}class So{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new So(Rt.min(),ot.empty(),-1)}static max(){return new So(Rt.max(),ot.empty(),-1)}}function $g(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class kr{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:ei.RED,this.left=null!=i?i:ei.EMPTY,this.right=null!=l?l:ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new ei(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new St(this.data.getIterator())}getIteratorFrom(e){return new St(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class St{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qc(n){return n.hasNext()?n.getNext():void 0}class pI{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.P=null}}function $b(n,e=null,t=[],r=[],i=null,l=null,d=null){return new pI(n,e,t,r,i,l,d)}function Mo(n){const e=it(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Zc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zc(r)).join(",")),e.P=t}return e.P}function pu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!bI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ao(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ef(n.startAt,e.startAt)&&ef(n.endAt,e.endAt)}function yl(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Jn(n,e){return n.filters.filter(t=>t instanceof fi&&t.field.isEqual(e))}function mI(n,e,t){let r=Bg,i=!0;for(const l of Jn(n,e)){let d=Bg,f=!0;switch(l.op){case"<":case"<=":d=Bb(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,f=!1;break;case"!=":case"not-in":d=Bg}L_({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];L_({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function B_(n,e,t){let r=hu,i=!0;for(const l of Jn(n,e)){let d=hu,f=!0;switch(l.op){case">=":case">":d=jb(l.value),f=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,f=!1;break;case"!=":case"not-in":d=hu}U_({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];U_({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class fi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new yI(e,t,r):"array-contains"===t?new Gb(e,r):"in"===t?new _I(e,r):"not-in"===t?new vI(e,r):"array-contains-any"===t?new EI(e,r):new fi(e,t,r)}static V(e,t,r){return"in"===t?new qb(e,r):new Hb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fu(t,this.value)):null!==t&&gl(this.value)===gl(t)&&this.v(fu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yI extends fi{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.v(t)}}class qb extends fi{constructor(e,t){super(e,"in",t),this.keys=j_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hb extends fi{constructor(e,t){super(e,"not-in",t),this.keys=j_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}class Gb extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kh(t)&&Wh(t.arrayValue,this.value)}}class _I extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wh(this.value.arrayValue,t)}}class vI extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wh(this.value.arrayValue,t)}}class EI extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}class ws{constructor(e,t){this.position=e,this.inclusive=t}}class Hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function bI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function zb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?ot.comparator(ot.fromName(d.referenceValue),t.key):fu(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function ef(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ao(n.position[t],e.position[t]))return!1;return!0}class xo{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Z_(n,e,t,r,i,l,d,f){return new xo(n,e,t,r,i,l,d,f)}function _l(n){return new xo(n)}function vl(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function El(n){for(const e of n.filters)if(e.S())return e.field;return null}function $_(n){return null!==n.collectionGroup}function Gc(n){const e=it(n);if(null===e.D){e.D=[];const t=El(e),r=vl(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Hc(t)),e.D.push(new Hc(Or.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Hc(Or.keyField(),l))}}}return e.D}function Cs(n){const e=it(n);if(!e.C)if("F"===e.limitType)e.C=$b(e.path,e.collectionGroup,Gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Gc(e))t.push(new Hc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ws(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ws(e.startAt.position,e.startAt.inclusive):null;e.C=$b(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function q_(n,e,t){return new xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zc(n,e){return pu(Cs(n),Cs(e))&&n.limitType===e.limitType}function H_(n){return`${Mo(Cs(n))}|lt:${n.limitType}`}function G_(n){return`Query(target=${function gI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Zc(r.value)}`;var r}).join(", ")}]`),Bc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Zc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Zc(t)).join(",")),`Target(${e})`}(Cs(n))}; limitType=${n.limitType})`}function qg(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ot.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const f=zb(i,l,d);return i.inclusive?f<=0:f<0}(t.startAt,Gc(t),r)||t.endAt&&!function(i,l,d){const f=zb(i,l,d);return i.inclusive?f>=0:f>0}(t.endAt,Gc(t),r)));var t,r}function Wb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kb(n){return(e,t)=>{let r=!1;for(const i of Gc(n)){const l=MS(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function MS(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),_=d.data.field(i);return null!==f&&null!==_?fu(f,_):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}function CI(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function TI(n){return{integerValue:""+n}}function II(n,e){return Fb(e)?TI(e):CI(n,e)}class tf{constructor(){this._=void 0}}function Hg(n,e,t){return n instanceof bl?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Gs?Qb(n,e):n instanceof wl?Jb(n,e):function(r,i){const l=Yb(r,i),d=Xb(l)+Xb(r.k);return k_(l)&&k_(r.k)?TI(d):CI(r.M,d)}(n,e)}function AI(n,e,t){return n instanceof Gs?Qb(n,e):n instanceof wl?Jb(n,e):t}function Yb(n,e){return n instanceof Wc?k_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class bl extends tf{}class Gs extends tf{constructor(e){super(),this.elements=e}}function Qb(n,e){const t=z_(e);for(const r of n.elements)t.some(i=>Ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class wl extends tf{constructor(e){super(),this.elements=e}}function Jb(n,e){let t=z_(e);for(const r of n.elements)t=t.filter(i=>!Ao(i,r));return{arrayValue:{values:t}}}class Wc extends tf{constructor(e,t){super(),this.M=e,this.k=t}}function Xb(n){return Yn(n.integerValue||n.doubleValue)}function z_(n){return Kh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nf{constructor(e,t){this.field=e,this.transform=t}}class Kc{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gg{}function ew(n,e,t){n instanceof sf?function(r,i,l){const d=r.value.clone(),f=rw(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof gu?function(r,i,l){if(!rf(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=rw(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(K_(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function W_(n,e,t){var i;n instanceof sf?function(r,i,l){if(!rf(r.precondition,i))return;const d=r.value.clone(),f=iw(r.fieldTransforms,l,i);d.setAll(f),i.convertToFoundDocument(zg(i),d).setHasLocalMutations()}(n,e,t):n instanceof gu?function(r,i,l){if(!rf(r.precondition,i))return;const d=iw(r.fieldTransforms,l,i),f=i.data;f.setAll(K_(r)),f.setAll(d),i.convertToFoundDocument(zg(i),f).setHasLocalMutations()}(n,e,t):rf(n.precondition,i=e)&&i.convertToNoDocument(Rt.min())}function tw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Yb(r.transform,i||null);null!=l&&(null==t&&(t=hi.empty()),t.set(r.field,l))}return t||null}function nw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Lc(t,r,(i,l)=>function DI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Gs&&r instanceof Gs||t instanceof wl&&r instanceof wl?Lc(t.elements,r.elements,Ao):t instanceof Wc&&r instanceof Wc?Ao(t.k,r.k):t instanceof bl&&r instanceof bl);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function zg(n){return n.isFoundDocument()?n.version:Rt.min()}class sf extends Gg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class gu extends Gg{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function K_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rw(n,e,t){const r=new Map;Ft(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,AI(d,f,t[i]))}return r}function iw(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,Hg(l,d,e))}return r}class af extends Gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class uf extends Gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class SI{constructor(e){this.count=e}}var Dr,gn;function sw(n){switch(n){default:return _t();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function ow(n){if(void 0===n)return Pr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Dr.OK:return Ee.OK;case Dr.CANCELLED:return Ee.CANCELLED;case Dr.UNKNOWN:return Ee.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return Ee.INTERNAL;case Dr.UNAVAILABLE:return Ee.UNAVAILABLE;case Dr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Dr.NOT_FOUND:return Ee.NOT_FOUND;case Dr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Dr.ABORTED:return Ee.ABORTED;case Dr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Dr.DATA_LOSS:return Ee.DATA_LOSS;default:return _t()}}(gn=Dr||(Dr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}const MI=new kr(ot.comparator);function Ts(){return MI}const xI=new kr(ot.comparator);function Y_(...n){let e=xI;for(const t of n)e=e.insert(t.key,t);return e}function Yc(){return new mu(n=>n.toString(),(n,e)=>n.isEqual(e))}const aw=new kr(ot.comparator),NI=new Qn(ot.comparator);function Dn(...n){let e=NI;for(const t of n)e=e.add(t);return e}const uw=new Qn(Yt);function Wg(){return uw}class lf{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,t)),new lf(Rt.min(),r,Wg(),Ts(),Dn())}}class cf{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new cf(Rr.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class Qc{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Kg{constructor(e,t){this.targetId=e,this.$=t}}class Q_{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Yg{constructor(){this.B=0,this.L=Qg(),this.U=Rr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Dn(),t=Dn(),r=Dn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new cf(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Qg()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class PI{constructor(e){this.nt=e,this.st=new Map,this.it=Ts(),this.rt=lw(),this.ot=new Qn(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(yl(l))if(0===r){const d=new ot(l.path);this.ct(t,d,Hn.newNoDocument(d,Rt.min()))}else Ft(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const f=this.wt(d);if(f){if(l.current&&yl(f.target)){const _=new ot(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Hn.newNoDocument(_,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=Dn();this.rt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new lf(e,t,this.ot,this.it,r);return this.it=Ts(),this.rt=lw(),this.ot=new Qn(Yt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Yg,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Qn(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Yg),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function lw(){return new kr(ot.comparator)}function Qg(){return new kr(ot.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RI{constructor(e,t){this.databaseId=e,this.N=t}}function Jc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(n,e){return n.N?e.toBase64():e.toUint8Array()}function hw(n,e){return Jc(n,e.toTimestamp())}function pi(n){return Ft(!!n),Rt.fromTimestamp(function(e){const t=To(e);return new Ar(t.seconds,t.nanos)}(n))}function J_(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function df(n){const e=pn.fromString(n);return Ft(Tl(e)),e}function hf(n,e){return J_(n.databaseId,e.path)}function Ni(n,e){const t=df(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(X_(t))}function Cl(n,e){return J_(n.databaseId,e)}function fw(n){const e=df(n);return 4===e.length?pn.emptyPath():X_(e)}function Jg(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function X_(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pw(n,e,t){return{name:hf(n,e),fields:t.value.mapValue.fields}}function gw(n,e,t){const r=Ni(n,e.name),i=pi(e.updateTime),l=new hi({mapValue:{fields:e.fields}}),d=Hn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Xc(n,e){let t;if(e instanceof sf)t={update:pw(n,e.key,e.value)};else if(e instanceof af)t={delete:hf(n,e.key)};else if(e instanceof gu)t={update:pw(n,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof uf))return _t();t={verify:hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof bl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gs)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wc)return{fieldPath:l.field.canonicalString(),increment:d.k};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:hw(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function Xg(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Fr.updateTime(pi(i.updateTime)):void 0!==i.exists?Fr.exists(i.exists):Fr.none():Fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),f=new bl):"appendMissingElements"in d?f=new Gs(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new wl(d.removeAllFromArray.values||[]):"increment"in d?f=new Wc(l,d.increment):_t();const _=Or.fromServerFormat(d.fieldPath);return new nf(_,f)}(n,i)):[];var i;if(e.update){const i=Ni(n,e.update.name),l=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new va((e.updateMask.fieldPaths||[]).map(w=>Or.fromServerFormat(w)));return new gu(i,l,d,t,r)}return new sf(i,l,t,r)}if(e.delete){const i=Ni(n,e.delete);return new af(i,t)}if(e.verify){const i=Ni(n,e.verify);return new uf(i,t)}return _t()}function ff(n,e){return{documents:[Cl(n,e.path)]}}function ed(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Cl(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Cl(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(S){if("=="===S.op){if(Vb(S.value))return{unaryFilter:{field:yu(S.field),op:"IS_NAN"}};if(Ub(S.value))return{unaryFilter:{field:yu(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Vb(S.value))return{unaryFilter:{field:yu(S.field),op:"IS_NOT_NAN"}};if(Ub(S.value))return{unaryFilter:{field:yu(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(S.field),op:UI(S.op),value:S.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:yu((I=w).field),direction:LI(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.N||Bc(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function mw(n){let e=fw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ft(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let l=[];t.where&&(l=tv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Hc(td((S=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(I){let S;return S="object"==typeof I?I.value:I,Bc(S)?null:S}(t.limit));let _=null;var I;t.startAt&&(_=new ws((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new ws(I.values||[],!I.before)}(t.endAt)),Z_(e,i,d,l,f,"F",_,w)}function tv(n){return n?void 0!==n.unaryFilter?[VI(n)]:void 0!==n.fieldFilter?[xS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tv(e)).reduce((e,t)=>e.concat(t)):_t():[]}function LI(n){return OI[n]}function UI(n){return cw[n]}function yu(n){return{fieldPath:n.canonicalString()}}function td(n){return Or.fromServerFormat(n.fieldPath)}function xS(n){return fi.create(td(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function VI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=td(n.unaryFilter.field);return fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=td(n.unaryFilter.field);return fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=td(n.unaryFilter.field);return fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=td(n.unaryFilter.field);return fi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function BI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tl(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jI(e)),e=nd(n.get(t),e);return jI(e)}function nd(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function jI(n){return n+"\x01\x01"}function zs(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&_t(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:_t()}l=d+2}return new pn(r)}const _w=["userId","batchId"];function nv(n,e){return[n,Ei(e)]}function rv(n,e,t){return[n,Ei(e),t]}const NS={},vw=["prefixPath","collectionGroup","readTime","documentId"],iv=["prefixPath","collectionGroup","documentId"],ZI=["collectionGroup","readTime","prefixPath","documentId"],Ew=["canonicalId","targetId"],$I=["targetId","path"],qI=["path","targetId"],HI=["collectionId","parent"],GI=["indexId","uid"],zI=["uid","sequenceNumber"],WI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KI=["indexId","uid","orderedDocumentKey"],YI=["userId","collectionPath","documentId"],pf=["userId","collectionPath","largestBatchId"],bw=["userId","collectionGroup","largestBatchId"],sv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ww=[...sv,"documentOverlays"],ov=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cw=[...ov,"indexConfiguration","indexState","indexEntries"],av="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(i=>i?be.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class em{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new qr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new gf(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=uv(r.target.error);this.At.reject(new gf(e,i))}}static open(e,t,r,i){try{return new em(t,e.transaction(i,r))}catch(l){throw new gf(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JI(t)}}class Ws{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ws.Vt((0,en.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,en.hl)())return!1;if(Ws.St())return!0;const e=(0,en.z$)(),t=Ws.Vt(e),r=0<t&&t<10,i=Ws.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new gf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Be(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Be(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new gf(e,f))},l.onupgradeneeded=d=>{Qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ne.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=em.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(I=>(_.bt(),I)).catch(I=>(_.abort(I),be.reject(I))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(Qe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QI{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ba(this.Ft.delete())}}class gf extends Be{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ks(n){return"IndexedDbTransactionError"===n.name}class JI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Qe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),ba(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(d,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new be((l,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new be((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new be((r,i)=>{t.onerror=l=>{const d=uv(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new be((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new QI(f),w=t(f.primaryKey,f.value,_);if(w instanceof be){const I=w.catch(S=>(_.done(),be.reject(S)));r.push(I)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>be.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(n){return new be((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=uv(r.target.error);t(i)}})}let Ys=!1;function uv(n){const e=Ws.Vt((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ys||(Ys=!0,setTimeout(()=>{throw r},0)),r}}return n}class tm extends Tw{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _r(n,e){const t=it(n);return Ws.xt(t.Ht,e)}class lv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&ew(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&W_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&W_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(t,r)=>nw(t,r))&&Lc(this.baseMutations,e.baseMutations,(t,r)=>nw(t,r))}}class cv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ft(e.mutations.length===r.length);let i=aw;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new cv(e,t,r,i)}}class dv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qs{constructor(e,t,r,i,l=Rt.min(),d=Rt.min(),f=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mf{constructor(e){this.Jt=e}}function Iw(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:hf(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Jc(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_u(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:_u(e.version)}}var i,l;return r}function yf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _u(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wa(n){const e=new Ar(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Il(n,e){const t=(e.baseMutations||[]).map(l=>Xg(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Xg(n.Jt,l)),i=Ar.fromMillis(e.localWriteTimeMs);return new lv(e.batchId,i,t,r)}function _f(n){const e=wa(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wa(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(Ft(1===(i=n.query).documents.length),r=Cs(_l(fw(i.documents[0])))):r=Cs(mw(n.query)),new Qs(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function Aw(n,e){const t=_u(e.snapshotVersion),r=_u(e.lastLimboFreeSnapshotVersion);let i;i=yl(e.target)?ff(n.Jt,e.target):ed(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mo(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Dw(n){const e=mw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?q_(e,e.limit,"L"):e}function vf(n,e){return new dv(e.largestBatchId,Xg(n.Jt,e.overlayMutation))}function nm(n,e){const t=e.path.lastSegment();return[n,Ei(e.path.popLast()),t]}class Sw{getBundleMetadata(e,t){return rm(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wa(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return rm(e).put({bundleId:(r=t).id,createTime:_u(pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return im(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Dw(i.bundledQuery),readTime:wa(i.readTime)};var i})}saveNamedQuery(e,t){return im(e).put({name:(r=t).name,readTime:_u(pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function rm(n){return _r(n,"bundles")}function im(n){return _r(n,"namedQueries")}class hv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new hv(e,t.uid||"")}getOverlay(e,t){return Ef(e).get(nm(this.userId,t)).next(r=>r?vf(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const f=new dv(t,d);i.push(this.Xt(e,f))}),be.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ei(d.getCollectionPath())));const l=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Ef(e).Qt("collectionPathOverlayIndex",f))}),be.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Yc(),l=Ei(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ef(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=vf(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Yc();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ef(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const S=vf(this.M,w);l.size()<i||S.largestBatchId===d?(l.set(S.getKey(),S),d=S.largestBatchId):I.done()}).next(()=>l)}Xt(e,t){return Ef(e).put(function(r,i,l){const[d,f,_]=nm(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Xc(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Ef(n){return _r(n,"documentOverlays")}class Al{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),jc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(du(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?F_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_t()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),ot.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function eA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function fv(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=eA(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Al.fe=new Al;class pv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=fv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=fv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Mw{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class xw{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class rd{constructor(){this.De=new pv,this.Ce=new Mw(this.De),this.xe=new xw(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class vu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vu(this.indexId,this.documentKey,this.arrayValue,r)}}function Dl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gv(n.arrayValue,e.arrayValue),0!==t?t:(t=gv(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function gv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Nw{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Zg(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ea(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tA{constructor(){this.qe=new sm}addToCollectionParentIndex(e,t){return this.qe.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(So.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class sm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qn(pn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(pn.comparator)).toArray()}}const om=new Uint8Array(0);class Pi{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new sm,this.Ge=new mu(r=>Mo(r),(r,i)=>pu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:Ei(i)};return Sl(e).put(l)}return be.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Nb(t),""],!1,!0);return Sl(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(zs(d.parent))}return r})}addFieldIndex(e,t){const r=am(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=am(e),i=mv(e),l=bf(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=bf(e);let i=!0;const l=new Map;return be.forEach(this.Qe(t),d=>this.je(e,d).next(f=>{i&&(i=!!f),l.set(d,f)})).next(()=>{if(i){let d=Dn();const f=[];return be.forEach(l,(_,w)=>{var I;Qe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Mo(t)}`);const S=function(Nt,Ct){const Qt=Zg(Ct);if(void 0===Qt)return null;for(const on of Jn(Nt,Qt.fieldPath))switch(on.op){case"array-contains-any":return on.value.arrayValue.values||[];case"array-contains":return[on.value]}return null}(w,_),F=function(Nt,Ct){const Qt=new Map;for(const on of Ea(Ct))for(const Sn of Jn(Nt,on.fieldPath))switch(Sn.op){case"==":case"in":Qt.set(on.fieldPath.canonicalString(),Sn.value);break;case"not-in":case"!=":return Qt.set(on.fieldPath.canonicalString(),Sn.value),Array.from(Qt.values())}return null}(w,_),H=function(Nt,Ct){const Qt=[];let on=!0;for(const Sn of Ea(Ct)){const is=0===Sn.kind?mI(Nt,Sn.fieldPath,Nt.startAt):B_(Nt,Sn.fieldPath,Nt.startAt);Qt.push(is.value),on&&(on=is.inclusive)}return new ws(Qt,on)}(w,_),Y=function(Nt,Ct){const Qt=[];let on=!0;for(const Sn of Ea(Ct)){const is=0===Sn.kind?B_(Nt,Sn.fieldPath,Nt.endAt):mI(Nt,Sn.fieldPath,Nt.endAt);Qt.push(is.value),on&&(on=is.inclusive)}return new ws(Qt,on)}(w,_),ge=this.We(_,w,H),$e=this.We(_,w,Y),bt=this.ze(_,w,F),vt=this.He(_.indexId,S,ge,H.inclusive,$e,Y.inclusive,bt);return be.forEach(vt,Nt=>r.Gt(Nt,t.limit).next(Ct=>{Ct.forEach(Qt=>{const on=ot.fromSegments(Qt.documentKey);d.has(on)||(d=d.add(on),f.push(on))})}))}).next(()=>f)}return be.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,l,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),I=[];for(let S=0;S<_;++S){const F=t?this.Je(t[S/w]):om,H=this.Ye(e,F,r[S%w],i),Y=this.Xe(e,F,l[S%w],d),ge=f.map($e=>this.Ye(e,F,$e,!0));I.push(...this.createRange(H,Y,ge))}return I}Ye(e,t,r,i){const l=new vu(e,ot.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new vu(e,ot.empty(),t,r);return i?l.ke():l}je(e,t){const r=new Nw(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const f of l)r.$e(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return be.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let f=new Qn(Or.comparator),_=!1;for(const w of d.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new rd;for(const i of Ea(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);Al.fe.Zt(l,d)}return r.Se()}Je(e){const t=new rd;return Al.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new rd;return Al.fe.Zt(ml(this.databaseId,t),r.Ne(function(i){const l=Ea(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new rd);let l=0;for(const d of Ea(e)){const f=r[l++];for(const _ of i)if(this.en(t,d.fieldPath)&&Kh(f))i=this.nn(i,d,f);else{const w=_.Ne(d.kind);Al.fe.Zt(f,w)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new rd;_.seed(f.Se()),Al.fe.Zt(d,_.Ne(t.kind)),l.push(_)}return l}en(e,t){return!!e.filters.find(r=>r instanceof fi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=am(e),i=mv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return be.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,I){const S=I?new Jh(I.sequenceNumber,new So(wa(I.readTime),new ot(zs(I.documentKey)),I.largestBatchId)):Jh.empty(),F=w.fields.map(([H,Y])=>new Do(Or.fromServerFormat(H),Y));return new Qh(w.indexId,w.collectionGroup,F,S)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=am(e),l=mv(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>be.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:_u((F=r).readTime),documentKey:Ei(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return be.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),be.forEach(f,_=>this.on(e,i,_).next(w=>{const I=this.un(l,_);return w.isEqual(I)?be.resolve():this.an(e,l,_,w,I)}))))})}cn(e,t,r,i){return bf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return bf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=bf(e);let l=new Qn(Dl);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{l=l.add(new vu(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}un(e,t){let r=new Qn(Dl);const i=this.Ze(t,e);if(null==i)return r;const l=Zg(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Kh(d))for(const f of d.arrayValue.values||[])r=r.add(new vu(t.indexId,e.key,this.Je(f),i))}else r=r.add(new vu(t.indexId,e.key,om,i));return r}an(e,t,r,i,l){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,I,S){const F=f.getIterator(),H=_.getIterator();let Y=qc(F),ge=qc(H);for(;Y||ge;){let $e=!1,bt=!1;if(Y&&ge){const vt=w(Y,ge);vt<0?bt=!0:vt>0&&($e=!0)}else null!=Y?bt=!0:$e=!0;$e?(I(ge),ge=qc(H)):bt?(S(Y),Y=qc(F)):(Y=qc(F),ge=qc(H))}}(i,l,Dl,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),be.waitFor(d)}rn(e){let t=1;return mv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Dl(d,f)).filter((d,f,_)=>!f||0!==Dl(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Dl(d,e),_=Dl(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,om,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,om,[]]));return l}getMinOffset(e,t){let r;return be.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?(!r||$g(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=So.min()})).next(()=>r)}}function Sl(n){return _r(n,"collectionParents")}function bf(n){return _r(n,"indexEntries")}function am(n){return _r(n,"indexConfiguration")}function mv(n){return _r(n,"indexState")}const id={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function um(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(I,S,F)=>(f++,F.delete()));l.push(_.next(()=>{Ft(1===f)}));const w=[];for(const I of t.mutations){const S=rv(e,I.key.path,t.batchId);l.push(i.delete(S)),w.push(I.key)}return be.waitFor(l).next(()=>w)}function lm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class cm{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Ft(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new cm(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=bu(e),d=Eu(e);return d.add({}).next(f=>{Ft("number"==typeof f);const _=new lv(f,t,r,i),w=function(F,H,Y){const ge=Y.baseMutations.map(bt=>Xc(F.Jt,bt)),$e=Y.mutations.map(bt=>Xc(F.Jt,bt));return{userId:H,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:ge,mutations:$e}}(this.M,this.userId,_),I=[];let S=new Qn((F,H)=>Yt(F.canonicalString(),H.canonicalString()));for(const F of i){const H=rv(this.userId,F.key.path,f);S=S.add(F.key.path.popLast()),I.push(d.put(w)),I.push(l.put(H,NS))}return S.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),be.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Eu(e).get(t).next(r=>r?(Ft(r.userId===this.userId),Il(this.M,r)):null)}fn(e,t){return this.ln[t]?be.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Eu(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(Ft(f.batchId>=r),l=Il(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Eu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Il(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=nv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return bu(e).Wt({range:i},(d,f,_)=>{const[w,I,S]=d,F=zs(I);if(w===this.userId&&t.path.isEqual(F))return Eu(e).get(S).next(H=>{if(!H)throw _t();Ft(H.userId===this.userId),l.push(Il(this.M,H))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Yt);const i=[];return t.forEach(l=>{const d=nv(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=bu(e).Wt({range:f},(w,I,S)=>{const[F,H,Y]=w,ge=zs(H);F===this.userId&&l.path.isEqual(ge)?r=r.add(Y):S.done()});i.push(_)}),be.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=nv(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new Qn(Yt);return bu(e).Wt({range:d},(_,w,I)=>{const[S,F,H]=_,Y=zs(F);S===this.userId&&r.isPrefixOf(Y)?Y.length===i&&(f=f.add(H)):I.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Eu(e).get(l).next(d=>{if(null===d)throw _t();Ft(d.userId===this.userId),r.push(Il(this.M,d))}))}),be.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return um(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),be.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return bu(e).Wt({range:r},(l,d,f)=>{if(l[0]===this.userId){const _=zs(l[1]);i.push(_)}else f.done()}).next(()=>{Ft(0===i.length)})})}containsKey(e,t){return Pw(e,this.userId,t)}wn(e){return yv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pw(n,e,t){const r=nv(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return bu(n).Wt({range:l,jt:!0},(f,_,w)=>{const[I,S,F]=f;I===e&&S===i&&(d=!0),w.done()}).next(()=>d)}function Eu(n){return _r(n,"mutations")}function bu(n){return _r(n,"documentMutations")}function yv(n){return _r(n,"mutationQueues")}class wu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new wu(0)}static yn(){return new wu(-1)}}class dm{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new wu(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Rt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cu(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Cu(e).Wt((d,f)=>{const _=_f(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>be.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Cu(e).Wt((r,i)=>{const l=_f(i);t(l)})}pn(e){return nA(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}In(e,t){return nA(e).put("targetGlobalKey",t)}Tn(e,t){return Cu(e).put(Aw(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Mo(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Cu(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const w=_f(f);pu(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Ca(e);return t.forEach(d=>{const f=Ei(d.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),be.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ca(e);return be.forEach(t,l=>{const d=Ei(l.path);return be.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ca(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ca(e);let l=Dn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const w=zs(d[1]),I=new ot(w);l=l.add(I)}).next(()=>l)}containsKey(e,t){const r=Ei(t.path),i=IDBKeyRange.bound([r],[Nb(r)],!1,!0);let l=0;return Ca(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return Cu(e).get(t).next(r=>r?_f(r):null)}}function Cu(n){return _r(n,"targets")}function nA(n){return _r(n,"targetGlobal")}function Ca(n){return _r(n,"targetDocuments")}function Ml(n){return hm.apply(this,arguments)}function hm(){return hm=(0,Ne.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==av)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),hm.apply(this,arguments)}function wf([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class Ow{constructor(e){this.An=e,this.buffer=new Qn(wf),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wf(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rA{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Qe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ne.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ks(i)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ml(i)}yield t.Sn(e)}))}}class _v{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return be.resolve(dr.A);const r=new Ow(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(id)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),id):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,d,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,d=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(l=S,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),M_()<=oa.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:S})))}}class vv{constructor(e,t){this.db=e,this.garbageCollector=new _v(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Ev(e,r)}removeReference(e,t,r){return Ev(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ev(e,t)}On(e,t){return function(r,i){let l=!1;return yv(r).zt(d=>Pw(r,d,i).next(f=>(f&&(l=!0),be.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Rt.min()),Ca(e).delete([0,Ei(d.path)])))});i.push(_)}}).next(()=>be.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ev(e,t)}Mn(e,t){const r=Ca(e);let i,l=dr.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(l!==dr.A&&t(new ot(zs(i)),l),l=w,i=_):l=dr.A}).next(()=>{l!==dr.A&&t(new ot(zs(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ev(n,e){return Ca(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ei(e.path),sequenceNumber:r}));var r}class Rw{constructor(){this.changes=new mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iA{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xl(e).put(r)}removeEntry(e,t,r){return xl(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],yf(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Hn.newInvalidDocument(t);return xl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(sd(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Hn.newInvalidDocument(t)};return xl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(sd(t))},(i,l)=>{r={document:this.$n(t,l),size:lm(l)}}).next(()=>r)}getEntries(e,t){let r=Ts();return this.Ln(e,t,(i,l)=>{const d=this.$n(i,l);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=Ts(),i=new kr(ot.comparator);return this.Ln(e,t,(l,d)=>{const f=this.$n(l,d);r=r.insert(l,f),i=i.insert(l,lm(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return be.resolve();let i=new Qn(Fw);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(sd(i.first()),sd(i.last())),d=i.getIterator();let f=d.getNext();return xl(e).Wt({index:"documentKeyIndex",range:l},(_,w,I)=>{const S=ot.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Fw(f,S)<0;)r(f,null),f=d.getNext();f&&f.isEqual(S)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?I.Ut(sd(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),yf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xl(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let f=Ts();for(const _ of d){const w=this.$n(ot.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=Ts();const d=wv(t,r),f=wv(t,So.max());return xl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,I)=>{const S=this.$n(ot.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(S.key,S),l.size===i&&I.done()}).next(()=>l)}newChangeBuffer(e){return new kw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bv(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Fn(e,t){return bv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function XI(n,e){let t;if(e.document)t=gw(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),i=wa(e.noDocument.readTime);t=Hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=ot.fromSegments(e.unknownDocument.path),i=wa(e.unknownDocument.version);t=Hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ar(r[0],r[1]);return Rt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return Hn.newInvalidDocument(e)}}class kw extends Rw{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new mu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Qn((l,d)=>Yt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const _=Iw(this.Kn.M,d);i=i.add(l.path.popLast()),r+=lm(_)-f.size,t.push(this.Kn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=Iw(this.Kn.M,d.convertToNoDocument(Rt.min()));t.push(this.Kn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),be.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function bv(n){return _r(n,"remoteDocumentGlobal")}function xl(n){return _r(n,"remoteDocumentsV14")}function sd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wv(n,e){const t=e.documentKey.path.toArray();return[n,yf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Fw(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Yt(t[l],r[l]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class sA{constructor(e){this.M=e}kt(e,t,r,i){const l=new em("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_w,{unique:!0}),f.createObjectStore("documentMutations"),Cv(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=be.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Cv(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_w,{unique:!0});const I=_.store("mutations"),S=w.map(F=>I.put(F));return be.waitFor(S)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(l))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:YI});_.createIndex("collectionPathOverlayIndex",pf,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",bw,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:vw});_.createIndex("documentKeyIndex",iv),_.createIndex("collectionGroupIndex",ZI)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:GI}).createIndex("sequenceNumberIndex",zI,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:WI}).createIndex("documentKeyIndex",KI,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=lm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>be.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>be.forEach(f,_=>{Ft(_.userId===l.userId);const w=Il(this.M,_);return um(e,l.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,f)=>{const _=new pn(d),w=[0,Ei(_)];l.push(t.get(w).next(I=>I?be.resolve():t.put({targetId:0,path:Ei(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>be.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:HI});const r=t.store("collectionParents"),i=new sm,l=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Ei(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new pn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],w)=>{const I=zs(f);return l(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=_f(i),d=Aw(this.M,l);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new ot(pn.fromString(w.document.name).popFirst(5)):w.noDocument?ot.fromSegments(w.noDocument.path):w.unknownDocument?ot.fromSegments(w.unknownDocument.path):_t()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(I))}).next(()=>be.waitFor(i))}}function Cv(n){n.createObjectStore("targetDocuments",{keyPath:$I}).createIndex("documentTargetsIndex",qI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ew,{unique:!0}),n.createObjectStore("targetGlobal")}const Tv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fm{constructor(e,t,r,i,l,d,f,_,w,I,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=d,this.document=f,this.Xn=w,this.Zn=I,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!fm.vt())throw new Be(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vv(this,i),this.hs=t+"main",this.M=new mf(_),this.ls=new Ws(this.hs,this.ts,new sA(this.M)),this.fs=new dm(this.referenceDelegate,this.M),this.ds=new iA(this.M),this._s=new Sw,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(Ee.FAILED_PRECONDITION,Tv);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new dr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Ks(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return od(e).get("owner").next(t=>be.resolve(this.Ps(t)))}Vs(e){return Cf(e).delete(this.clientId)}vs(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=_r(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ds(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return be.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?be.resolve(!0):od(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Be(Ee.FAILED_PRECONDITION,Tv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cf(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new tm(t,dr.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Cf(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return cm.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Pi(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return hv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Qe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.ts)?Cw:13===d?ov:12===d?ww:11===d?sv:void _t();var d;let f;return this.ls.runTransaction(e,i,l,_=>(f=new tm(_,this.es?this.es.next():dr.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Be(Ee.FAILED_PRECONDITION,av);return r(f)}).next(w=>this.bs(f).next(()=>w)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return od(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(Ee.FAILED_PRECONDITION,Tv)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return od(e).put("owner",t)}static vt(){return Ws.vt()}Rs(e){const t=od(e);return t.get("owner").next(r=>this.Ps(r)?(Qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,en.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function od(n){return _r(n,"owner")}function Cf(n){return _r(n,"clientMetadata")}function pm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class oA{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return ot.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):$_(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new ot(t)).next(r=>{let i=Y_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=Y_();return this.indexManager.getCollectionParents(e,i).next(d=>be.forEach(d,f=>{const _=(w=t,I=f.child(i),new xo(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,_,r).next(w=>{w.forEach((I,S)=>{l=l.insert(I,S)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const f of d.mutations){const _=f.key;let w=i.get(_);null==w&&(w=Hn.newInvalidDocument(_),i=i.insert(_,w)),W_(f,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,d)=>{qg(t,d)||(i=i.remove(l))}),i))}}class Iv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Dn(),i=Dn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Iv(e,t.fromCache,r,i)}}class aA{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(l=>l||this.ei(e,t,i,r)).next(l=>l||this.ni(e,t))}ti(e,t){return be.resolve(null)}ei(e,t,r,i){return function wI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Rt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const d=this.si(t,l);return this.ii(t,d,r,i)?this.ni(e,t):(M_()<=oa.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),G_(t)),this.ri(e,d,t,Zb(i,-1)))})}si(e,t){let r=new Qn(Kb(e));return t.forEach((i,l)=>{qg(e,l)&&(r=r.add(l))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ni(e,t){return M_()<=oa.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",G_(t)),this.Zs.Qs(e,t,So.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class Lw{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new kr(Yt),this.ai=new mu(l=>Mo(l),pu),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new oA(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function uA(n,e,t,r){return new Lw(n,e,t,r)}function lA(n,e){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,Ne.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let _=Dn();for(const w of i){d.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of l){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.fi.Ks(r,_).next(w=>({di:w,removedBatchIds:d,addedBatchIds:f}))})})}),Uw.apply(this,arguments)}function PS(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const I=_.batch,S=I.keys();let F=be.resolve();return S.forEach(H=>{F=F.next(()=>w.getEntry(f,H)).next(Y=>{const ge=_.docVersions.get(H);Ft(null!==ge),Y.version.compareTo(ge)<0&&(I.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),w.addEntry(Y)))})}),F.next(()=>d.Bs.removeMutationBatch(f,I))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function cA(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function OS(n,e){const t=it(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((w,I)=>{const S=i.get(I);if(!S)return;f.push(t.fs.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(l,w.addedDocuments,I)));let F=S.withSequenceNumber(l.currentSequenceNumber);var H,Y,ge;e.targetMismatches.has(I)?F=F.withResumeToken(Rr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,r)),i=i.insert(I,F),Y=F,ge=w,(0===(H=S).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(l,F))});let _=Ts();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(dA(l,d,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Rt.min())){const w=t.fs.getLastRemoteSnapshotVersion(l).next(I=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(w)}return be.waitFor(f).next(()=>d.apply(l)).next(()=>t.fi.Gs(l,_)).next(()=>_)}).then(l=>(t.ui=i,l))}function dA(n,e,t){let r=Dn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=Ts();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Rt.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Qe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),l})}function RS(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ta(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,be.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Qs(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Tf(n,e,t){return gm.apply(this,arguments)}function gm(){return gm=(0,Ne.Z)(function*(n,e,t){const r=it(n),i=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ks(d))throw d;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),gm.apply(this,arguments)}function ad(n,e,t){const r=it(n);let i=Rt.min(),l=Dn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const I=it(f),S=I.ai.get(w);return void 0!==S?be.resolve(I.ui.get(S)):I.fs.getTargetData(_,w)}(r,d,Cs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>r.oi.Qs(d,e,t?i:Rt.min(),t?l:Dn())).next(f=>(hA(r,Wb(e),f),{documents:f,_i:l})))}function Av(n,e){const t=it(n),r=it(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function Dv(n,e){const t=it(n),r=t.ci.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,Zb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hA(t,e,i),i))}function hA(n,e,t){let r=Rt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function mm(){return mm=(0,Ne.Z)(function*(n,e,t,r){const i=it(n);let l=Dn(),d=Ts();for(const w of t){const I=e.wi(w.metadata.name);w.document&&(l=l.add(I));const S=e.mi(w);S.setReadTime(e.gi(w.metadata.readTime)),d=d.insert(I,S)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),_=yield Ta(i,(w=r,Cs(_l(pn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>dA(w,f,d).next(I=>(f.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,l,_.targetId)).next(()=>i.fi.Gs(w,I)).next(()=>I)))}),mm.apply(this,arguments)}function fA(n,e){return ym.apply(this,arguments)}function ym(){return ym=(0,Ne.Z)(function*(n,e,t=Dn()){const r=yield Ta(n,Cs(Dw(e.bundledQuery))),i=it(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=pi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(l,e);const f=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(l,f).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),ym.apply(this,arguments)}class kS{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return be.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:pi(r.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Dw(r.bundledQuery),readTime:pi(r.readTime)}),be.resolve();var r}}class pA{constructor(){this.overlays=new kr(ot.comparator),this.Ii=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const i=Yc(),l=t.length+1,d=new ot(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new kr((w,I)=>w-I);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=l.get(w.largestBatchId);null===I&&(I=Yc(),l=l.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Yc(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return be.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new dv(t,r));let l=this.Ii.get(t);void 0===l&&(l=Dn(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class Mv{constructor(){this.Ti=new Qn(Lr.Ei),this.Ai=new Qn(Lr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Lr(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Lr(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new ot(new pn([])),r=new Lr(t,e),i=new Lr(t,e+1),l=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),l.push(d.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new ot(new pn([])),r=new Lr(t,e),i=new Lr(t,e+1);let l=Dn();return this.Ai.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Lr(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Lr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return ot.comparator(e.key,t.key)||Yt(e.Ci,t.Ci)}static Ri(e,t){return Yt(e.Ci,t.Ci)||ot.comparator(e.key,t.key)}}class gA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Qn(Lr.Ei)}checkEmpty(e){return be.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.xi;this.xi++;const d=new lv(l,t,r,i);this.Bs.push(d);for(const f of i)this.Ni=this.Ni.add(new Lr(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),l=i<0?0:i;return be.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return be.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lr(t,0),i=new Lr(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,i],d=>{const f=this.ki(d.Ci);l.push(f)}),be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Yt);return t.forEach(i=>{const l=new Lr(i,0),d=new Lr(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,d],f=>{r=r.add(f.Ci)})}),be.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;ot.isDocumentKey(l)||(l=l.child(""));const d=new Lr(new ot(l),0);let f=new Qn(Yt);return this.Ni.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.Ci)),!0)},d),be.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ft(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return be.forEach(t.mutations,i=>{const l=new Lr(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Lr(t,0),i=this.Ni.firstAfterOrEqual(r);return be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return be.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class FS{constructor(e){this.$i=e,this.docs=new kr(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=Ts();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Hn.newInvalidDocument(i))}),be.resolve(r)}getAllFromCollection(e,t,r){let i=Ts();const l=new ot(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||$g($c(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,t,r,i){_t()}Bi(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LS(this)}getSize(e){return be.resolve(this.size)}}class LS extends Rw{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class US{constructor(e){this.persistence=e,this.Li=new mu(t=>Mo(t),pu),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Mv,this.targetCount=0,this.Ki=wu.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),be.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new wu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Tn(t),be.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Li.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),be.waitFor(l).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),be.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.qi.containsKey(t))}}class mA{constructor(e,t){this.Gi={},this.overlays={},this.es=new dr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new US(this),this.indexManager=new tA,this.ds=new FS(r=>this.referenceDelegate.Qi(r)),this.M=new mf(t),this._s=new kS(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new gA(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const i=new yA(this.es.next());return this.referenceDelegate.ji(),r(i).next(l=>this.referenceDelegate.Wi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}zi(e,t){return be.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class yA extends Tw{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Hi=new Mv,this.Ji=null}static Yi(e){return new xv(e)}get Xi(){if(this.Ji)return this.Ji;throw _t()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xi,r=>{const i=ot.fromPath(r);return this.Zi(e,i).next(l=>{l||t.removeEntry(i,Rt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return be.or([()=>be.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function _A(n,e){return`firestore_clients_${n}_${e}`}function Vw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function If(n,e){return`firestore_targets_${n}_${e}`}class _m{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Be(i.error.code,i.error.message))),d?new _m(e,t,i.state,l):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oi{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Be(r.error.code,r.error.message))),l?new Oi(e,r.state,i):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Wg();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Fb(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new vm(e,l):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Af{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Af(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nv{constructor(){this.activeTargetIds=Wg()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pv{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new kr(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=_A(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Nv),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const l=e.getItem(_A(e.persistenceKey,i));if(l){const d=vm.tr(i,l);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(If(this.persistenceKey,e));if(r){const i=Oi.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(If(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe("SharedClientState","READ",e,t),t}setItem(e,t){Qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(l){let d=dr.A;if(null!=l)try{const f=JSON.parse(l);Ft("number"==typeof f),d=f}catch(f){Pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==dr.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new _m(this.currentUser,e,t,r),l=Vw(this.persistenceKey,this.currentUser,e);this.setItem(l,i.er())}Ar(e){const t=Vw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=If(this.persistenceKey,e),l=new Oi(e,t,r);this.setItem(i,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return vm.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return _m.tr(new di(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return Oi.tr(i,t)}pr(e){return Af.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),l=this.Tr(r),d=[],f=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Lr(d,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Wg();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Em{constructor(){this.Ur=new Nv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Nv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bw{Kr(e){}shutdown(){}}class Ov{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class jw{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class EA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const d=this.ho(e,t);Qe("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,l),this.fo(e,d,f,r).then(_=>(Qe("RestConnection","Received: ",_),_),_=>{throw zh("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,l){return this.co(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.uo}/v1/${t}:${vA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const f=new Ib;f.listenOnce(wb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fg.NO_ERROR:const w=f.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Fg.TIMEOUT:Qe("Connection",'RPC "'+e+'" timed out'),d(new Be(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Fg.HTTP_ERROR:const I=f.getStatus();if(Qe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const F=function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(Y)>=0?Y:Ee.UNKNOWN}(S.status);d(new Be(F,S.message))}else d(new Be(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Be(Ee.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Qe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=D_(),d=bb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Tb({})),this.lo(f.initMessageHeaders,t,r),(0,en.uI)()||(0,en.b$)()||(0,en.d)()||(0,en.w1)()||(0,en.Mn)()||(0,en.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Qe("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let I=!1,S=!1;const F=new jw({Jr:Y=>{S?Qe("Connection","Not sending because WebChannel is closed:",Y):(I||(Qe("Connection","Opening WebChannel transport."),w.open(),I=!0),Qe("Connection","WebChannel sending:",Y),w.send(Y))},Yr:()=>w.close()}),H=(Y,ge,$e)=>{Y.listen(ge,bt=>{try{$e(bt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return H(w,Gh.EventType.OPEN,()=>{S||Qe("Connection","WebChannel transport opened.")}),H(w,Gh.EventType.CLOSE,()=>{S||(S=!0,Qe("Connection","WebChannel transport closed"),F.ro())}),H(w,Gh.EventType.ERROR,Y=>{S||(S=!0,zh("Connection","WebChannel transport errored:",Y),F.ro(new Be(Ee.UNAVAILABLE,"The operation could not be completed")))}),H(w,Gh.EventType.MESSAGE,Y=>{var ge;if(!S){const $e=Y.data[0];Ft(!!$e);const bt=$e,vt=bt.error||(null===(ge=bt[0])||void 0===ge?void 0:ge.error);if(vt){Qe("Connection","WebChannel received error:",vt);const Nt=vt.status;let Ct=function(on){const Sn=Dr[on];if(void 0!==Sn)return ow(Sn)}(Nt),Qt=vt.message;void 0===Ct&&(Ct=Ee.INTERNAL,Qt="Unknown error status: "+Nt+" with message "+vt.message),S=!0,F.ro(new Be(Ct,Qt)),w.close()}else Qe("Connection","WebChannel received:",$e),F.oo($e)}}),H(d,Cb.STAT_EVENT,Y=>{Y.stat===S_.PROXY?Qe("Connection","Detected buffering proxy"):Y.stat===S_.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.io()},0),F}}function Zw(){return"undefined"!=typeof window?window:null}function bm(){return"undefined"!=typeof document?document:null}function Nl(n){return new RI(n,!0)}class Ia{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Rv{constructor(e,t,r,i,l,d,f,_){this.Yn=e,this.Vo=r,this.vo=i,this.So=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ia(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Ne.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Be(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,Ne.Z)(function*(){e.state=0,e.start()}))}jo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $w extends Rv{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function FI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:_t(),i=e.targetChange.targetIds||[],l=function(_,w){return _.N?(Ft(void 0===w||"string"==typeof w),Rr.fromBase64String(w||"")):(Ft(void 0===w||w instanceof Uint8Array),Rr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?Ee.UNKNOWN:ow(_.code);return new Be(w,_.message||"")}(d);t=new Q_(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ni(n,r.document.name),l=pi(r.document.updateTime),d=new hi({mapValue:{fields:r.document.fields}}),f=Hn.newFoundDocument(i,l,d);t=new Qc(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ni(n,r.document),l=r.readTime?pi(r.readTime):Rt.min(),d=Hn.newNoDocument(i,l);t=new Qc([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ni(n,r.document);t=new Qc([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,l=new SI(r.count||0);t=new Kg(r.targetId,l)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Rt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?pi(l.readTime):Rt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Jg(this.M),t.addTarget=function(i,l){let d;const f=l.target;return d=yl(f)?{documents:ff(i,f)}:{query:ed(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=dw(i,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(d.readTime=Jc(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function yw(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Jg(this.M),t.removeTarget=e,this.Lo(t)}}class bA extends Rv{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function ev(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(r,i){let l=pi(r.updateTime?r.updateTime:i);return l.isEqual(Rt.min())&&(l=pi(i)),new Kc(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.tu(r,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Jg(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Xc(this.M,r))};this.Lo(t)}}class VS extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(Ee.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So._o(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(Ee.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class wA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Pr(t),this.uu=!1):Qe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class CA{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(f=>{r.enqueueAndForget((0,Ne.Z)(function*(){var _;No(d)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ne.Z)(function*(w){const I=it(w);I.wu.add(4),yield ud(I),I.yu.set("Unknown"),I.wu.delete(4),yield Df(I)}),function(w){return _.apply(this,arguments)})(d))}))}),this.yu=new wA(r,i)}}function Df(n){return wm.apply(this,arguments)}function wm(){return wm=(0,Ne.Z)(function*(n){if(No(n))for(const e of n.mu)yield e(!0)}),wm.apply(this,arguments)}function ud(n){return kv.apply(this,arguments)}function kv(){return kv=(0,Ne.Z)(function*(n){for(const e of n.mu)yield e(!1)}),kv.apply(this,arguments)}function Fv(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Tm(t)?Lv(t):Tu(t).Mo()&&Cm(t,e))}function Pl(n,e){const t=it(n),r=Tu(t);t._u.delete(e),r.Mo()&&qw(t,e),0===t._u.size&&(r.Mo()?r.$o():No(t)&&t.yu.set("Unknown"))}function Cm(n,e){n.pu.Z(e.targetId),Tu(n).Ho(e)}function qw(n,e){n.pu.Z(e),Tu(n).Jo(e)}function Lv(n){n.pu=new PI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Tu(n).start(),n.yu.au()}function Tm(n){return No(n)&&!Tu(n).ko()&&n._u.size>0}function No(n){return 0===it(n).wu.size}function Im(n){n.pu=void 0}function Hw(n){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,Ne.Z)(function*(n){n._u.forEach((e,t)=>{Cm(n,e)})}),Uv.apply(this,arguments)}function Gw(n,e){return Am.apply(this,arguments)}function Am(){return Am=(0,Ne.Z)(function*(n,e){Im(n),Tm(n)?(n.yu.lu(e),Lv(n)):n.yu.set("Unknown")}),Am.apply(this,arguments)}function TA(n,e,t){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,Ne.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Q_&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bv(n,r)}else if(e instanceof Qc?n.pu.ut(e):e instanceof Kg?n.pu._t(e):n.pu.ht(e),!t.isEqual(Rt.min()))try{const r=yield cA(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.pu.yt(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i._u.get(_);w&&i._u.set(_,w.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=i._u.get(f);if(!_)return;i._u.set(f,_.withResumeToken(Rr.EMPTY_BYTE_STRING,_.snapshotVersion)),qw(i,f);const w=new Qs(_.target,f,1,_.sequenceNumber);Cm(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Qe("RemoteStore","Failed to raise snapshot:",r),yield Bv(n,r)}var r}),Vv.apply(this,arguments)}function Bv(n,e,t){return zw.apply(this,arguments)}function zw(){return zw=(0,Ne.Z)(function*(n,e,t){if(!Ks(e))throw e;n.wu.add(1),yield ud(n),n.yu.set("Offline"),t||(t=()=>cA(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Df(n)}))}),zw.apply(this,arguments)}function jv(n,e){return e().catch(t=>Bv(n,t,e))}function ld(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,Ne.Z)(function*(n){const e=it(n),t=Po(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;IA(e);)try{const i=yield RS(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,BS(e,i)}catch(i){yield Bv(e,i)}AA(e)&&DA(e)}),Zv.apply(this,arguments)}function IA(n){return No(n)&&n.du.length<10}function BS(n,e){n.du.push(e);const t=Po(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function AA(n){return No(n)&&!Po(n).ko()&&n.du.length>0}function DA(n){Po(n).start()}function jS(n){return Ww.apply(this,arguments)}function Ww(){return Ww=(0,Ne.Z)(function*(n){Po(n).nu()}),Ww.apply(this,arguments)}function SA(n){return cd.apply(this,arguments)}function cd(){return cd=(0,Ne.Z)(function*(n){const e=Po(n);for(const t of n.du)e.Zo(t.mutations)}),cd.apply(this,arguments)}function MA(n,e,t){return $v.apply(this,arguments)}function $v(){return $v=(0,Ne.Z)(function*(n,e,t){const r=n.du.shift(),i=cv.from(r,e,t);yield jv(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ld(n)}),$v.apply(this,arguments)}function Kw(n,e){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,Ne.Z)(function*(n,e){var t;e&&Po(n).Xo&&(yield(t=(0,Ne.Z)(function*(r,i){if(sw(l=i.code)&&l!==Ee.ABORTED){const d=r.du.shift();Po(r).Fo(),yield jv(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield ld(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),AA(n)&&DA(n)}),Aa.apply(this,arguments)}function qv(n,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Ne.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const r=No(t);t.wu.add(3),yield ud(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Df(t)}),Sf.apply(this,arguments)}function Mf(n,e){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,Ne.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield Df(t)):e||(t.wu.add(2),yield ud(t),t.yu.set("Unknown"))}),Hv.apply(this,arguments)}function Tu(n){return n.Iu||(n.Iu=function(e,t,r){const i=it(e);return i.iu(),new $w(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Hw.bind(null,n),eo:Gw.bind(null,n),zo:TA.bind(null,n)}),n.mu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Iu.Fo(),Tm(n)?Lv(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Im(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Po(n){return n.Tu||(n.Tu=function(e,t,r){const i=it(e);return i.iu(),new bA(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:jS.bind(null,n),eo:Kw.bind(null,n),eu:SA.bind(null,n),tu:MA.bind(null,n)}),n.mu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Tu.Fo(),yield ld(n)):(yield n.Tu.stop(),n.du.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class dd{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new dd(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xf(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Ks(n))return new Be(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Nf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=Y_(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Nf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xA{constructor(){this.Eu=new kr(ot.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_t():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pf{constructor(e,t,r,i,l,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Pf(e,t,Nf.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yw{constructor(){this.Ru=void 0,this.listeners=[]}}class NA{constructor(){this.queries=new mu(e=>H_(e),zc),this.onlineState="Unknown",this.bu=new Set}}function Gv(n,e){return zv.apply(this,arguments)}function zv(){return zv=(0,Ne.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new Yw),i)try{l.Ru=yield t.onListen(r)}catch(d){const f=xf(d,`Initialization of query '${G_(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&Kv(t)}),zv.apply(this,arguments)}function Wv(n,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Ne.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Dm.apply(this,arguments)}function Qw(n,e){const t=it(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Vu(i)&&(r=!0);d.Ru=i}}r&&Kv(t)}function Jw(n,e,t){const r=it(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function Kv(n){n.bu.forEach(e=>{e.next()})}class Yv{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Xw{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Sm{constructor(e){this.M=e}wi(e){return Ni(this.M,e)}mi(e){return e.metadata.exists?gw(this.M,e.document,!1):Hn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return pi(e)}}class ZS{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qv(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=pn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Sm(this.M);for(const i of e)if(i.metadata.queries){const l=r.wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Dn()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function Sv(n,e,t,r){return mm.apply(this,arguments)}(e.localStore,new Sm(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield fA(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Qv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Mm{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class tC{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Dn(),this.mutatedKeys=Dn(),this.Gu=Kb(e),this.Qu=new Nf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new xA,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,S)=>{const F=i.get(I),H=qg(this.query,S)?S:null,Y=!!F&&this.mutatedKeys.has(F.key),ge=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $e=!1;F&&H?F.data.isEqual(H.data)?Y!==ge&&(r.track({type:3,doc:H}),$e=!0):this.Hu(F,H)||(r.track({type:2,doc:H}),$e=!0,(_&&this.Gu(H,_)>0||w&&this.Gu(H,w)<0)&&(f=!0)):!F&&H?(r.track({type:0,doc:H}),$e=!0):F&&!H&&(r.track({type:1,doc:F}),$e=!0,(_||w)&&(f=!0)),$e&&(H?(d=d.add(H),l=ge?l.add(I):l.delete(I)):(d=d.delete(I),l=l.delete(I)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const I="F"===this.query.limitType?d.last():d.first();d=d.delete(I.key),l=l.delete(I.key),r.track({type:1,doc:I})}return{Qu:d,zu:r,ii:f,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((w,I)=>function(S,F){const H=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return H(S)-H(F)}(w.type,I.type)||this.Gu(w.doc,I.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==l.length||_?{snapshot:new Pf(this.query,e.Qu,i,l,e.mutatedKeys,0===f,_,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xA,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new eC(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Mm(r))}),t}ta(e){this.Uu=e._i,this.Ku=Dn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Pf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class $S{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qS{constructor(e){this.key=e,this.na=!1}}class PA{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new mu(f=>H_(f),zc),this.ra=new Map,this.oa=new Set,this.ua=new kr(ot.comparator),this.aa=new Map,this.ca=new Mv,this.ha={},this.la=new Map,this.fa=wu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function OA(n,e){return nC.apply(this,arguments)}function nC(){return nC=(0,Ne.Z)(function*(n,e){const t=VA(n);let r,i;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ea();else{const d=yield Ta(t.localStore,Cs(e));t.isPrimaryClient&&Fv(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield rC(t,e,r,"current"===f)}return i}),nC.apply(this,arguments)}function rC(n,e,t,r){return iC.apply(this,arguments)}function iC(){return iC=(0,Ne.Z)(function*(n,e,t,r){n._a=(I,S,F)=>{return(H=(0,Ne.Z)(function*(Y,ge,$e,bt){let vt=ge.view.Wu($e);vt.ii&&(vt=yield ad(Y.localStore,ge.query,!1).then(({documents:Qt})=>ge.view.Wu(Qt,vt)));const Nt=bt&&bt.targetChanges.get(ge.targetId),Ct=ge.view.applyChanges(vt,Y.isPrimaryClient,Nt);return q(Y,ge.targetId,Ct.Xu),Ct.snapshot}),function(Y,ge,$e,bt){return H.apply(this,arguments)})(n,I,S,F);var H};const i=yield ad(n.localStore,e,!0),l=new tC(e,i._i),d=l.Wu(i.documents),f=cf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,f);q(n,t,_.Xu);const w=new $S(e,t,l);return n.ia.set(e,w),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),_.snapshot}),iC.apply(this,arguments)}function HS(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,Ne.Z)(function*(n,e){const t=it(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(l=>!zc(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pl(t.remoteStore,r.targetId),D(t,r.targetId)}).catch(Ml))):(D(t,r.targetId),yield Tf(t.localStore,r.targetId,!0))}),sC.apply(this,arguments)}function oC(){return oC=(0,Ne.Z)(function*(n,e,t){const r=BA(n);try{const i=yield function(l,d){const f=it(l),_=Ar.now(),w=d.reduce((S,F)=>S.add(F.key),Dn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>f.fi.Ks(S,w).next(F=>{I=F;const H=[];for(const Y of d){const ge=tw(Y,I.get(Y.key));null!=ge&&H.push(new gu(Y.key,ge,V_(ge.value.mapValue),Fr.exists(!0)))}return f.Bs.addMutationBatch(S,_,H,d)})).then(S=>(S.applyToLocalDocumentSet(I),{batchId:S.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let _=l.ha[l.currentUser.toKey()];_||(_=new kr(Yt)),_=_.insert(d,f),l.ha[l.currentUser.toKey()]=_}(r,i.batchId,t),yield ze(r,i.changes),yield ld(r.remoteStore)}catch(i){const l=xf(i,"Failed to persist write");t.reject(l)}}),oC.apply(this,arguments)}function kA(n,e){return aC.apply(this,arguments)}function aC(){return aC=(0,Ne.Z)(function*(n,e){const t=it(n);try{const r=yield OS(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.aa.get(l);d&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?Ft(d.na):i.removedDocuments.size>0&&(Ft(d.na),d.na=!1))}),yield ze(t,r,e)}catch(r){yield Ml(r)}}),aC.apply(this,arguments)}function FA(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((l,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=it(l);f.onlineState=d;let _=!1;f.queries.forEach((w,I)=>{for(const S of I.listeners)S.Pu(d)&&(_=!0)}),_&&Kv(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s(n,e,t){return o.apply(this,arguments)}function o(){return o=(0,Ne.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),l=i&&i.key;if(l){let d=new kr(ot.comparator);d=d.insert(l,Hn.newNoDocument(l,Rt.min()));const f=Dn().add(l),_=new lf(Rt.min(),new Map,new Qn(Yt),d,f);yield kA(r,_),r.ua=r.ua.remove(l),r.aa.delete(e),xe(r)}else yield Tf(r.localStore,e,!1).then(()=>D(r,e,t)).catch(Ml)}),o.apply(this,arguments)}function u(n,e){return c.apply(this,arguments)}function c(){return c=(0,Ne.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const i=yield PS(t.localStore,e);T(t,r,null),C(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ze(t,i)}catch(i){yield Ml(i)}}),c.apply(this,arguments)}function h(n,e,t){return p.apply(this,arguments)}function p(){return p=(0,Ne.Z)(function*(n,e,t){const r=it(n);try{const i=yield function(l,d){const f=it(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,d).next(I=>(Ft(null!==I),w=I.keys(),f.Bs.removeMutationBatch(_,I))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.fi.Ks(_,w))})}(r.localStore,e);T(r,e,t),C(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ze(r,i)}catch(i){yield Ml(i)}}),p.apply(this,arguments)}function E(){return E=(0,Ne.Z)(function*(n,e){const t=it(n);No(t.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=it(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=xf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),E.apply(this,arguments)}function C(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function T(n,e,t){const r=it(n);let i=r.ha[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function D(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||R(n,r)})}function R(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Pl(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),xe(n))}function q(n,e,t){for(const r of t)r instanceof Mm?(n.ca.addReference(r.key,e),ne(n,r)):r instanceof eC?(Qe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||R(n,r.key)):_t()}function ne(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Qe("SyncEngine","New document in limbo: "+t),n.oa.add(r),xe(n))}function xe(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new ot(pn.fromString(e)),r=n.fa.next();n.aa.set(r,new qS(t)),n.ua=n.ua.insert(t,r),Fv(n.remoteStore,new Qs(Cs(_l(t.path)),r,2,dr.A))}}function ze(n,e,t){return nt.apply(this,arguments)}function nt(){return nt=(0,Ne.Z)(function*(n,e,t){const r=it(n),i=[],l=[],d=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,_)=>{d.push(r._a(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=Iv.Ys(_.targetId,w);l.push(I)}}))}),yield Promise.all(d),r.sa.zo(i),yield(f=(0,Ne.Z)(function*(_,w){const I=it(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>be.forEach(w,F=>be.forEach(F.Hs,H=>I.persistence.referenceDelegate.addReference(S,F.targetId,H)).next(()=>be.forEach(F.Js,H=>I.persistence.referenceDelegate.removeReference(S,F.targetId,H)))))}catch(S){if(!Ks(S))throw S;Qe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const F=S.targetId;if(!S.fromCache){const H=I.ui.get(F),ge=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);I.ui=I.ui.insert(F,ge)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,l))}),nt.apply(this,arguments)}function mt(n,e){return ke.apply(this,arguments)}function ke(){return ke=(0,Ne.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const r=yield lA(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(f=>{f.reject(new Be(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ze(t,r.di)}var i}),ke.apply(this,arguments)}function Dt(n,e){const t=it(n),r=t.aa.get(e);if(r&&r.na)return Dn().add(r.key);{let i=Dn();const l=t.ra.get(e);if(!l)return i;for(const d of l){const f=t.ia.get(d);i=i.unionWith(f.view.ju)}return i}}function dn(n,e){return En.apply(this,arguments)}function En(){return En=(0,Ne.Z)(function*(n,e){const t=it(n),r=yield ad(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&q(t,e.targetId,i.Xu),i}),En.apply(this,arguments)}function ts(n,e){return Da.apply(this,arguments)}function Da(){return Da=(0,Ne.Z)(function*(n,e){const t=it(n);return Dv(t.localStore,e).then(r=>ze(t,r))}),Da.apply(this,arguments)}function Jv(n,e,t,r){return Of.apply(this,arguments)}function Of(){return Of=(0,Ne.Z)(function*(n,e,t,r){const i=it(n),l=yield function(d,f){const _=it(d),w=it(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,f).next(S=>S?_.fi.Ks(I,S):be.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield ld(i.remoteStore):"acknowledged"===t||"rejected"===t?(T(i,e,r||null),C(i,e),f=e,it(it(i.localStore).Bs)._n(f)):_t(),yield ze(i,l)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Of.apply(this,arguments)}function Rf(){return Rf=(0,Ne.Z)(function*(n,e){const t=it(n);if(VA(t),BA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xm(t,r.toArray());t.da=!0,yield Mf(t.remoteStore,!0);for(const l of i)Fv(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(D(t,d),Tf(t.localStore,d,!0))),Pl(t.remoteStore,d)}),yield i,yield xm(t,r),function(l){const d=it(l);d.aa.forEach((f,_)=>{Pl(d.remoteStore,_)}),d.ca.Si(),d.aa=new Map,d.ua=new kr(ot.comparator)}(t),t.da=!1,yield Mf(t.remoteStore,!1)}}),Rf.apply(this,arguments)}function xm(n,e,t){return kf.apply(this,arguments)}function kf(){return kf=(0,Ne.Z)(function*(n,e,t){const r=it(n),i=[],l=[];for(const d of e){let f;const _=r.ra.get(d);if(_&&0!==_.length){f=yield Ta(r.localStore,Cs(_[0]));for(const w of _){const I=r.ia.get(w),S=yield dn(r,I);S.snapshot&&l.push(S.snapshot)}}else{const w=yield Av(r.localStore,d);f=yield Ta(r.localStore,w),yield rC(r,Nm(w),d,!1)}i.push(f)}return r.sa.zo(l),i}),kf.apply(this,arguments)}function Nm(n){return Z_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function e0(n){const e=it(n);return it(it(e.localStore).persistence).Fs()}function t0(n,e,t,r){return LA.apply(this,arguments)}function LA(){return LA=(0,Ne.Z)(function*(n,e,t,r){const i=it(n);if(i.da)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Dv(i.localStore,Wb(l[0])),f=lf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ze(i,d,f);break}case"rejected":yield Tf(i.localStore,e,!0),D(i,e,r);break;default:_t()}}),LA.apply(this,arguments)}function SN(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,Ne.Z)(function*(n,e,t){const r=VA(n);if(r.da){for(const i of e){if(r.ra.has(i)){Qe("SyncEngine","Adding an already active target "+i);continue}const l=yield Av(r.localStore,i),d=yield Ta(r.localStore,l);yield rC(r,Nm(l),d.targetId,!1),Fv(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield Tf(r.localStore,i,!1).then(()=>{Pl(r.remoteStore,i),D(r,i)}).catch(Ml))}}),UA.apply(this,arguments)}function VA(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s.bind(null,e),e.sa.zo=Qw.bind(null,e.eventManager),e.sa.wa=Jw.bind(null,e.eventManager),e}function BA(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h.bind(null,e),e}class GS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.M=Nl(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return uA(this.persistence,new aA,e.initialUser,this.M)}ya(e){return new mA(xv.Yi,this.M)}ga(e){return new Em}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zS extends GS{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield BA(r.Ta.syncEngine),yield ld(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return uA(this.persistence,new aA,e.initialUser,this.M)}pa(e){return new rA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new fm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Zw(),bm(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Em}}class xN extends zS{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof Pv&&(r.sharedClientState.syncEngine={$r:Jv.bind(null,i),Br:t0.bind(null,i),Lr:SN.bind(null,i),Fs:e0.bind(null,i),Fr:ts.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,Ne.Z)(function*(d){yield function Xv(n,e){return Rf.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}ga(e){const t=Zw();if(!Pv.vt(t))throw new Be(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class jA{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mt.bind(null,r.syncEngine),yield Mf(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NA}createDatastore(e){const t=Nl(e.databaseInfo.databaseId),r=new EA(e.databaseInfo);return new VS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>FA(this.syncEngine,f,0),d=Ov.vt()?new Ov:new Bw,new CA(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,_,w){const I=new PA(r,i,l,d,f,_);return w&&(I.da=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=it(t);Qe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ud(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function WS(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NN{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new qr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(i);return new Xw(JSON.parse(l),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,Ne.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class PN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(l,d){const f=it(l),_=Jg(f.M)+"/documents",w={documents:d.map(H=>hf(f.M,H))},I=yield f._o("BatchGetDocuments",_,w),S=new Map;I.forEach(H=>{const Y=function kI(n,e){return"found"in e?function(t,r){Ft(!!r.found);const i=Ni(t,r.found.name),l=pi(r.found.updateTime),d=new hi({mapValue:{fields:r.found.fields}});return Hn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Ft(!!r.missing),Ft(!!r.readTime);const i=Ni(t,r.missing),l=pi(r.readTime);return Hn.newNoDocument(i,l)}(n,e):_t()}(f.M,H);S.set(Y.key.toString(),Y)});const F=[];return d.forEach(H=>{const Y=S.get(H.toString());Ft(!!Y),F.push(Y)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new af(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=ot.fromPath(i);e.mutations.push(new uf(l,e.precondition(l)))}),yield(r=(0,Ne.Z)(function*(i,l){const d=it(i),f=Jg(d.M)+"/documents",_={writes:l.map(w=>Xc(d.M,w))};yield d.co("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Fr.updateTime(t):Fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Be(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(t)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ON{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.xa=r.maxAttempts,this.No=new Ia(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,Ne.Z)(function*(){const t=new PN(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ma(l)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Bc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sw(t)}return!1}}class RN{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=di.UNAUTHENTICATED,this.clientId=P_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ne.Z)(function*(f){Qe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Qe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=xf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KS(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(l){r.isEqual(l)||(yield lA(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ZA.apply(this,arguments)}function YS(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qA(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>qv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>qv(e.remoteStore,l)),n.onlineComponents=e}),$A.apply(this,arguments)}function qA(n){return HA.apply(this,arguments)}function HA(){return HA=(0,Ne.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield KS(n,new GS)),n.offlineComponents}),HA.apply(this,arguments)}function lC(n){return GA.apply(this,arguments)}function GA(){return GA=(0,Ne.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield YS(n,new jA)),n.onlineComponents}),GA.apply(this,arguments)}function QS(n){return qA(n).then(e=>e.persistence)}function zA(n){return qA(n).then(e=>e.localStore)}function JS(n){return lC(n).then(e=>e.remoteStore)}function WA(n){return lC(n).then(e=>e.syncEngine)}function Pm(n){return KA.apply(this,arguments)}function KA(){return KA=(0,Ne.Z)(function*(n){const e=yield lC(n),t=e.eventManager;return t.onListen=OA.bind(null,e.syncEngine),t.onUnlisten=HS.bind(null,e.syncEngine),t}),KA.apply(this,arguments)}function XS(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,l,d,f,_){const w=new uC({next:S=>{l.enqueueAndForget(()=>Wv(i,I));const F=S.docs.has(d);!F&&S.fromCache?_.reject(new Be(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&f&&"server"===f.source?_.reject(new Be(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new Yv(_l(d.path),w,{includeMetadataChanges:!0,ku:!0});return Gv(i,I)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}function e1(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,l,d,f,_){const w=new uC({next:S=>{l.enqueueAndForget(()=>Wv(i,I)),S.fromCache&&"server"===f.source?_.reject(new Be(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new Yv(d,w,{includeMetadataChanges:!0,ku:!0});return Gv(i,I)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}const t1=new Map;function YA(n,e,t){if(!t)throw new Be(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n1(n,e,t,r){if(!0===e&&!0===r)throw new Be(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r1(n){if(!ot.isDocumentKey(n))throw new Be(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i1(n){if(ot.isDocumentKey(n))throw new Be(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cC(n);throw new Be(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s1(n,e){if(e<=0)throw new Be(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class o1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,e instanceof Io?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Be(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(i.options.projectId)}(e))}get app(){if(!this._app)throw new Be(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Sb;switch(t.type){case"gapi":const r=t.client;return Ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Co(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Be(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=t1.get(e);t&&(Qe("ComponentProvider","Removing Datastore"),t1.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class Iu extends Hi{constructor(e,t,r){super(e,t,_l(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new ot(e))}withConverter(e){return new Iu(this.firestore,e,this._path)}}function a1(n,e,...t){if(n=(0,en.m9)(n),YA("collection","path",e),n instanceof n0){const r=pn.fromString(e,...t);return i1(r),new Iu(n,null,r)}{if(!(n instanceof hr||n instanceof Iu))throw new Be(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return i1(r),new Iu(n.firestore,null,r)}}function dC(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=P_.R()),YA("doc","path",e),n instanceof n0){const r=pn.fromString(e,...t);return r1(r),new hr(n,null,new ot(r))}{if(!(n instanceof hr||n instanceof Iu))throw new Be(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return r1(r),new hr(n.firestore,n instanceof Iu?n.converter:null,new ot(r))}}function u1(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof hr||n instanceof Iu)&&(e instanceof hr||e instanceof Iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function l1(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Hi&&e instanceof Hi&&n.firestore===e.firestore&&zc(n._query,e._query)&&n.converter===e.converter}class HN{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ia(this,"async_queue_retry"),this.Qa=()=>{const t=bm();t&&Qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=bm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=bm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new qr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ks(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=dd.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(i),i}ja(){this.Ua&&_t()}verifyOperationInProgress(){}Ja(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function QA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class GN{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vr extends n0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new HN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||c1(this),this._firestoreClient.terminate()}}function ti(n){return n._firestoreClient||c1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function c1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kb(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new RN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function d1(n,e,t){const r=new qr;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield KS(n,t),yield YS(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===Ee.FAILED_PRECONDITION||l.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function h1(n){if(n._initialized||n._terminated)throw new Be(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Rr.fromBase64String(e))}catch(t){throw new Be(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Au(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ff{constructor(e){this._methodName=e}}class hC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const nP=/^__.*__$/;class rP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new sf(e,this.data,t,this.fieldTransforms)}}class f1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function p1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class fC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new fC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return mC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(p1(this.ec)&&nP.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class iP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Nl(e)}lc(e,t,r,i=!1){return new fC({ec:e,methodName:t,hc:r,path:Or.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Lf(n){const e=n._freezeSettings(),t=Nl(n._databaseId);return new iP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pC(n,e,t,r,i,l={}){const d=n.lc(l.merge||l.mergeFields?2:0,e,t,i);tD("Data must be an object, but it was:",d,r);const f=y1(r,d);let _,w;if(l.merge)_=new va(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const I=[];for(const S of l.mergeFields){const F=nD(e,S,t);if(!d.contains(F))throw new Be(Ee.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);v1(I,F)||I.push(F)}_=new va(I),w=d.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=d.fieldTransforms;return new rP(new hi(f),_,w)}class r0 extends Ff{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function g1(n,e,t){return new fC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class JA extends Ff{_toFieldTransform(e){return new nf(e.path,new bl)}isEqual(e){return e instanceof JA}}class sP extends Ff{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=g1(this,e,!0),r=this.fc.map(l=>Uf(l,t)),i=new Gs(r);return new nf(e.path,i)}isEqual(e){return this===e}}class oP extends Ff{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=g1(this,e,!0),r=this.fc.map(l=>Uf(l,t)),i=new wl(r);return new nf(e.path,i)}isEqual(e){return this===e}}class aP extends Ff{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Wc(e.M,II(e.M,this.dc));return new nf(e.path,t)}isEqual(e){return this===e}}function XA(n,e,t,r){const i=n.lc(1,e,t);tD("Data must be an object, but it was:",i,r);const l=[],d=hi.empty();Hs(r,(_,w)=>{const I=gC(e,_,t);w=(0,en.m9)(w);const S=i.oc(I);if(w instanceof r0)l.push(I);else{const F=Uf(w,S);null!=F&&(l.push(I),d.set(I,F))}});const f=new va(l);return new f1(d,f,i.fieldTransforms)}function eD(n,e,t,r,i,l){const d=n.lc(1,e,t),f=[nD(e,r,t)],_=[i];if(l.length%2!=0)throw new Be(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)f.push(nD(e,l[F])),_.push(l[F+1]);const w=[],I=hi.empty();for(let F=f.length-1;F>=0;--F)if(!v1(w,f[F])){const H=f[F];let Y=_[F];Y=(0,en.m9)(Y);const ge=d.oc(H);if(Y instanceof r0)w.push(H);else{const $e=Uf(Y,ge);null!=$e&&(w.push(H),I.set(H,$e))}}const S=new va(w);return new f1(I,S,d.fieldTransforms)}function m1(n,e,t,r=!1){return Uf(t,n.lc(r?4:3,e))}function Uf(n,e){if(_1(n=(0,en.m9)(n)))return tD("Unsupported field value:",e,n),y1(n,e);if(n instanceof Ff)return function(t,r){if(!p1(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=Uf(d,r.uc(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,en.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return II(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ar.fromDate(t);return{timestampValue:Jc(r.M,i)}}if(t instanceof Ar){const i=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jc(r.M,i)}}if(t instanceof hC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Au)return{bytesValue:dw(r.M,t._byteString)};if(t instanceof hr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:J_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${cC(t)}`)}(n,e)}function y1(n,e){const t={};return Pb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,(r,i)=>{const l=Uf(i,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function _1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof hC||n instanceof Au||n instanceof hr||n instanceof Ff)}function tD(n,e,t){if(!_1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function nD(n,e,t){if((e=(0,en.m9)(e))instanceof Ol)return e._internalPath;if("string"==typeof e)return gC(n,e);throw mC("Field path arguments must be of type string or ",n,!1,void 0,t)}const uP=new RegExp("[~\\*/\\[\\]]");function gC(n,e,t){if(e.search(uP)>=0)throw mC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ol(...e.split("."))._internalPath}catch(r){throw mC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mC(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Be(Ee.INVALID_ARGUMENT,f+n+_)}function v1(n,e){return n.some(t=>t.isEqual(e))}class s0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lP extends s0{data(){return super.data()}}function yC(n,e){return"string"==typeof e?gC(n,e):e instanceof Ol?e._internalPath:e._delegate._internalPath}class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends s0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new o0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class o0 extends Rl{data(e={}){return super.data(e)}}class hd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new o0(this._firestore,this._userDataWriter,r.key,r,new Vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new o0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Vf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new o0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Vf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:cP(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function E1(n,e){return n instanceof Rl&&e instanceof Rl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hd&&e instanceof hd&&n._firestore===e._firestore&&l1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function b1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}function fd(n,...e){for(const t of e)n=t._apply(n);return n}class dP extends a0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Lf(e.firestore),r=function(i,l,d,f,_,w,I){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){D1(I,w);const H=[];for(const Y of I)H.push(A1(f,i,Y));S={arrayValue:{values:H}}}else S=A1(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||D1(I,w),S=m1(d,"where",I,"in"===w||"not-in"===w);const F=fi.create(_,w,S);return function(H,Y){if(Y.S()){const $e=El(H);if(null!==$e&&!$e.isEqual(Y.field))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$e.toString()}' and '${Y.field.toString()}'`);const bt=vl(H);null!==bt&&S1(0,Y.field,bt)}const ge=function($e,bt){for(const vt of $e.filters)if(bt.indexOf(vt.op)>=0)return vt.op;return null}(H,function($e){switch($e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==ge)throw new Be(Ee.INVALID_ARGUMENT,ge===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${ge.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Hi(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class fP extends a0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Hc(i,l);return function(f,_){if(null===vl(f)){const w=El(f);null!==w&&S1(0,w,_.field)}}(r,d),d}(e._query,this._c,this.gc);return new Hi(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new xo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class w1 extends a0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Hi(e.firestore,e.converter,q_(e._query,this.yc,this.Ic))}}class C1 extends a0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=I1(e,this.type,this.Tc,this.Ec);return new Hi(e.firestore,e.converter,(i=t,new xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class T1 extends a0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=I1(e,this.type,this.Tc,this.Ec);return new Hi(e.firestore,e.converter,(i=t,new xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function I1(n,e,t,r){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof s0)return function(i,l,d,f,_){if(!f)throw new Be(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const I of Gc(i))if(I.field.isKeyField())w.push(ml(l,f.key));else{const S=f.data.field(I.field);if(Vg(S))throw new Be(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const F=I.field.canonicalString();throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(S)}return new ws(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Lf(n.firestore);return function(l,d,f,_,w,I){const S=l.explicitOrderBy;if(w.length>S.length)throw new Be(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let H=0;H<w.length;H++){const Y=w[H];if(S[H].field.isKeyField()){if("string"!=typeof Y)throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Y}`);if(!$_(l)&&-1!==Y.indexOf("/"))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Y}' contains a slash.`);const ge=l.path.child(pn.fromString(Y));if(!ot.isDocumentKey(ge))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ge}' is not because it contains an odd number of segments.`);const $e=new ot(ge);F.push(ml(d,$e))}else{const ge=m1(f,_,Y);F.push(ge)}}return new ws(F,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function A1(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$_(e)&&-1!==t.indexOf("/"))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!ot.isDocumentKey(r))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ml(n,new ot(r))}if(t instanceof hr)return ml(n,t._key);throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cC(t)}.`)}function D1(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function S1(n,e,t){if(!t.isEqual(e))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const bP={maxAttempts:5};class rD{convertValue(e,t="none"){switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const r={};return Hs(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new hC(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=O_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const t=To(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);Ft(Tl(r));const i=new Io(r.get(1),r.get(3)),l=new ot(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function _C(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wP extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class M1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lf(e)}set(e,t,r){this._verifyNotCommitted();const i=pd(e,this._firestore),l=_C(i.converter,t,r),d=pC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Fr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=pd(e,this._firestore);let d;return d="string"==typeof(t=(0,en.m9)(t))||t instanceof Ol?eD(this._dataReader,"WriteBatch.update",l._key,t,r,i):XA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pd(e,this._firestore);return this._mutations=this._mutations.concat(new af(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new Be(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bf extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function x1(n,e,t){n=_n(n,hr);const r=_n(n.firestore,vr),i=_C(n.converter,e,t);return Om(r,[pC(Lf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fr.none())])}function N1(n,e,t,...r){n=_n(n,hr);const i=_n(n.firestore,vr),l=Lf(i);let d;return d="string"==typeof(e=(0,en.m9)(e))||e instanceof Ol?eD(l,"updateDoc",n._key,e,t,r):XA(l,"updateDoc",n._key,e),Om(i,[d.toMutation(n._key,Fr.exists(!0))])}function P1(n,...e){var t,r,i;n=(0,en.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||QA(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(QA(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let _,w,I;if(n instanceof hr)w=_n(n.firestore,vr),I=_l(n._key.path),_={next:S=>{e[d]&&e[d](iD(w,n,S))},error:e[d+1],complete:e[d+2]};else{const S=_n(n,Hi);w=_n(S.firestore,vr),I=S._query;const F=new Bf(w);_={next:H=>{e[d]&&e[d](new hd(w,F,S,H))},error:e[d+1],complete:e[d+2]},b1(n._query)}return function(S,F,H,Y){const ge=new uC(Y),$e=new Yv(F,ge,H);return S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return Gv(yield Pm(S),$e)})),()=>{ge.Aa(),S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return Wv(yield Pm(S),$e)}))}}(ti(w),I,f,_)}function Om(n,e){return function(t,r){const i=new qr;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function RA(n,e,t){return oC.apply(this,arguments)}(yield WA(t),r,i)})),i.promise}(ti(n),e)}function iD(n,e,t){const r=t.docs.get(e._key),i=new Bf(n);return new Rl(n,i,e._key,r,new Vf(t.hasPendingWrites,t.fromCache),e.converter)}class PP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lf(e)}get(e){const t=pd(e,this._firestore),r=new wP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const l=i[0];if(l.isFoundDocument())return new s0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new s0(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=pd(e,this._firestore),l=_C(i.converter,t,r),d=pC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=pd(e,this._firestore);let d;return d="string"==typeof(t=(0,en.m9)(t))||t instanceof Ol?eD(this._dataReader,"Transaction.update",l._key,t,r,i):XA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=pd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pd(e,this._firestore),r=new Bf(this._firestore);return super.get(e).then(i=>new Rl(this._firestore,r,t._key,i._document,new Vf(!1,!1),t.converter))}}function sD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function R1(){if("undefined"==typeof Uint8Array)throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function k1(){if(!function fI(){return"undefined"!=typeof atob}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fc=nl.SDK_VERSION,(0,nl._registerComponent)(new ch.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new vr(i,new x_(t.getProvider("auth-internal")),new xb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,nl.registerVersion)(hI,"3.4.9",n),(0,nl.registerVersion)(hI,"3.4.9","esm2017")}();class u0{constructor(e){this._delegate=e}static fromBase64String(e){return k1(),new u0(Au.fromBase64String(e))}static fromUint8Array(e){return R1(),new u0(Au.fromUint8Array(e))}toBase64(){return k1(),this._delegate.toBase64()}toUint8Array(){return R1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oD(n){return function jP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ZP{enableIndexedDbPersistence(e,t){return function WN(n,e){h1(n=_n(n,vr));const t=ti(n),r=n._freezeSettings(),i=new jA;return d1(t,i,new zS(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KN(n){h1(n=_n(n,vr));const e=ti(n),t=n._freezeSettings(),r=new jA;return d1(e,r,new xN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YN(n){if(n._initialized&&!n._terminated)throw new Be(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Ws.vt())return Promise.resolve();const i=r+"main";yield Ws.delete(i)}),function(r){return t.apply(this,arguments)})(pm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class F1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function $N(n,e,t,r={}){var i;const l=(n=_n(n,n0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&zh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=di.MOCK_USER;else{d=(0,en.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Be(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new di(_)}n._authCredentials=new SS(new Db(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function JN(n){return function kN(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield QS(n),t=yield JS(n);return e.setNetworkEnabled(!0),function(r){const i=it(r);return i.wu.delete(0),Df(i)}(t)}))}(ti(n=_n(n,vr)))}(this._delegate)}disableNetwork(){return function XN(n){return function FN(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield QS(n),t=yield JS(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const l=it(i);l.wu.add(0),yield ud(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ti(n=_n(n,vr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,n1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function QN(n){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function y(n,e){return E.apply(this,arguments)}(yield WA(e),t)})),t.promise}(ti(n=_n(n,vr)))}(this._delegate)}onSnapshotsInSync(e){return function NP(n,e){return function VN(n,e){const t=new uC(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield Pm(n),i=t,it(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield Pm(n),i=t,void it(r).bu.delete(i);var r,i}))}}(ti(n=_n(n,vr)),QA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rm(this,a1(this._delegate,e))}catch(t){throw ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oo(this,dC(this._delegate,e))}catch(t){throw ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rs(this,function qN(n,e){if(n=_n(n,n0),YA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hi(n,null,(t=e,new xo(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function OP(n,e,t){n=_n(n,vr);const r=Object.assign(Object.assign({},bP),t);return function(i){if(i.maxAttempts<1)throw new Be(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function BN(n,e,t){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const i=yield(l=n,lC(l).then(d=>d.datastore));var l;new ON(n.asyncQueue,i,t,e,r).run()})),r.promise}(ti(n),i=>e(new PP(n,i)),r)}(this._delegate,t=>e(new L1(this,t)))}batch(){return ti(this._delegate),new U1(new M1(this._delegate,e=>Om(this._delegate,e)))}loadBundle(e){return function eP(n,e){const t=ti(n=_n(n,vr)),r=new GN;return function jN(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return WS(_,w);if(_ instanceof ArrayBuffer)return WS(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new NN(_,d);var _}(t,Nl(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function MN(n,e,t){const r=it(n);var i;(i=(0,Ne.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(F,H){const Y=it(F),ge=pi(H.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",$e=>Y._s.getBundleMetadata($e,H.id)).then($e=>!!$e&&$e.createTime.compareTo(ge)>=0)}(l.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Qv(_));const w=new ZS(_,l.localStore,d.M);let I=yield d.ma();for(;I;){const F=yield w.Fu(I);F&&f._updateProgress(F),I=yield d.ma()}const S=yield w.complete();return yield ze(l,S.Lu,void 0),yield function(F,H){const Y=it(F);return Y.persistence.runTransaction("Save bundle","readwrite",ge=>Y._s.saveBundleMetadata(ge,H))}(l.localStore,_),f._completeWith(S.progress),Promise.resolve(S.Bu)}catch(_){return zh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield WA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function tP(n,e){return function ZN(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=it(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield zA(n),e)}))}(ti(n=_n(n,vr)),e).then(t=>t?new Hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rs(this,t):null)}}class vC extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new u0(new Au(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oo.forKey(t,this.firestore,null)}}class L1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new l0(this._firestore,new Rl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zf(e);return r?(sD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class U1{constructor(e){this._delegate=e}set(e,t,r){const i=Zf(e);return r?(sD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new o0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new c0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new jf(e,new vC(e),t),i.set(t,l)),l}}jf.INSTANCES=new WeakMap;class Oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oo(t,new hr(t._delegate,r,new ot(e)))}static forKey(e,t,r){return new Oo(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Rm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rm(this.firestore,a1(this._delegate,e))}catch(t){throw ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof hr&&u1(this._delegate,e)}set(e,t){t=sD("DocumentReference.set",t);try{return t?x1(this._delegate,e,t):x1(this._delegate,e)}catch(r){throw ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?N1(this._delegate,e):N1(this._delegate,e,t,...r)}catch(i){throw ns(i,"updateDoc()","DocumentReference.update()")}}delete(){return function MP(n){return Om(_n(n.firestore,vr),[new af(n._key,Fr.none())])}(this._delegate)}onSnapshot(...e){const t=V1(e),r=B1(e,i=>new l0(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return P1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function TP(n){n=_n(n,hr);const e=_n(n.firestore,vr),t=ti(e),r=new Bf(e);return function LN(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,l,d){try{const f=yield function(_,w){const I=it(_);return I.persistence.runTransaction("read document","readonly",S=>I.fi.Ls(S,w))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Be(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=xf(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield zA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Rl(e,r,n._key,i,new Vf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function IP(n){n=_n(n,hr);const e=_n(n.firestore,vr);return XS(ti(e),n._key,{source:"server"}).then(t=>iD(e,n,t))}(this._delegate):function CP(n){n=_n(n,hr);const e=_n(n.firestore,vr);return XS(ti(e),n._key).then(t=>iD(e,n,t))}(this._delegate),t.then(r=>new l0(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Oo(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}function ns(n,e,t){return n.message=n.message.replace(e,t),n}function V1(n){for(const e of n)if("object"==typeof e&&!oD(e))return e;return{}}function B1(n,e){var t,r;let i;return i=oD(n[0])?n[0]:oD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class l0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return E1(this._delegate,e._delegate)}}class c0 extends l0{data(e){const t=this._delegate.data(e);return function Ab(n,e){n||_t()}(void 0!==t),t}}class rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}where(e,t,r){try{return new rs(this.firestore,fd(this._delegate,function hP(n,e,t){const r=e,i=yC("where",n);return new dP(i,r,t)}(e,t,r)))}catch(i){throw ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rs(this.firestore,fd(this._delegate,function pP(n,e="asc"){const t=e,r=yC("orderBy",n);return new fP(r,t)}(e,t)))}catch(r){throw ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rs(this.firestore,fd(this._delegate,function gP(n){return s1("limit",n),new w1("limit",n,"F")}(e)))}catch(t){throw ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rs(this.firestore,fd(this._delegate,function mP(n){return s1("limitToLast",n),new w1("limitToLast",n,"L")}(e)))}catch(t){throw ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rs(this.firestore,fd(this._delegate,function yP(...n){return new C1("startAt",n,!0)}(...e)))}catch(t){throw ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rs(this.firestore,fd(this._delegate,function _P(...n){return new C1("startAfter",n,!1)}(...e)))}catch(t){throw ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rs(this.firestore,fd(this._delegate,function vP(...n){return new T1("endBefore",n,!1)}(...e)))}catch(t){throw ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rs(this.firestore,fd(this._delegate,function EP(...n){return new T1("endAt",n,!0)}(...e)))}catch(t){throw ns(t,"endAt()","Query.endAt()")}}isEqual(e){return l1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function DP(n){n=_n(n,Hi);const e=_n(n.firestore,vr),t=ti(e),r=new Bf(e);return function UN(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,l,d){try{const f=yield ad(i,l,!0),_=new tC(l,f._i),w=_.Wu(f.documents),I=_.applyChanges(w,!1);d.resolve(I.snapshot)}catch(f){const _=xf(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield zA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new hd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function SP(n){n=_n(n,Hi);const e=_n(n.firestore,vr),t=ti(e),r=new Bf(e);return e1(t,n._query,{source:"server"}).then(i=>new hd(e,r,n,i))}(this._delegate):function AP(n){n=_n(n,Hi);const e=_n(n.firestore,vr),t=ti(e),r=new Bf(e);return b1(n._query),e1(t,n._query).then(i=>new hd(e,r,n,i))}(this._delegate),t.then(r=>new aD(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=V1(e),r=B1(e,i=>new aD(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return P1(this._delegate,t,r)}withConverter(e){return new rs(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}class qP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new c0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new c0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new c0(this._firestore,r))})}isEqual(e){return E1(this._delegate,e._delegate)}}class Rm extends rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oo(this.firestore,e):null}doc(e){try{return new Oo(this.firestore,void 0===e?dC(this._delegate):dC(this._delegate,e))}catch(t){throw ns(t,"doc()","CollectionReference.doc()")}}add(e){return function xP(n,e){const t=_n(n.firestore,vr),r=dC(n),i=_C(n.converter,e);return Om(t,[pC(Lf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Oo(this.firestore,t))}isEqual(e){return u1(this._delegate,e._delegate)}withConverter(e){return new Rm(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}function Zf(n){return _n(n,hr)}class uD{constructor(...e){this._delegate=new Ol(...e)}static documentId(){return new uD(Or.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof Ol&&this._delegate._internalPath.isEqual(e._internalPath)}}class $f{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kP(){return new JA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $f(e)}static delete(){const e=function RP(){return new r0("deleteField")}();return e._methodName="FieldValue.delete",new $f(e)}static arrayUnion(...e){const t=function FP(...n){return new sP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $f(t)}static arrayRemove(...e){const t=function LP(...n){return new oP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $f(t)}static increment(e){const t=function UP(n){return new aP("increment",n)}(e);return t._methodName="FieldValue.increment",new $f(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HP={Firestore:F1,GeoPoint:hC,Timestamp:Ar,Blob:u0,Transaction:L1,WriteBatch:U1,DocumentReference:Oo,DocumentSnapshot:l0,Query:rs,QueryDocumentSnapshot:c0,QuerySnapshot:aD,CollectionReference:Rm,FieldPath:uD,FieldValue:$f,setLogLevel:function $P(n){!function $r(n){ya.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function j1(n,e){return function WP(n,e=jy.z){return new Os.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function lD(n,e){return j1(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function EC(n,e){return lD(n,e).pipe(_h(void 0),su(),(0,kt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(I=>I.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function Z1(n,e,t){return EC(n,t).pipe(il((r,i)=>function YP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function QP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),sl(),(0,kt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function cD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function $1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function zP(n){(function GP(n,e){n.INTERNAL.registerComponent(new ch.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},HP)))})(n,(e,t)=>new F1(e,t,new ZP)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(UT.Z);class q1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=EC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_h(void 0),su(),js(([r,i])=>i.length>0||!r),(0,kt.U)(([r,i])=>i),xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$1(e);return Z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return lD(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),xn.iC)}get(e){return(0,nr.D)(this.query.get(e)).pipe(xn.iC)}add(e){return this.ref.add(e)}doc(e){return new H1(this.ref.doc(e),this.afs)}}class H1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=W1(r,t);return new q1(i,l,this.afs)}snapshotChanges(){return function KP(n,e){return j1(n,e).pipe(_h(void 0),su(),(0,kt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nr.D)(this.ref.get(e)).pipe(xn.iC)}}class JP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?EC(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),js(t=>t.length>0),xn.iC):EC(this.query,this.afs.schedulers.outsideAngular).pipe(xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$1(e);return Z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return lD(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),xn.iC)}get(e){return(0,nr.D)(this.query.get(e)).pipe(xn.iC)}}const G1=new a.OlP("angularfire2.enableFirestorePersistence"),z1=new a.OlP("angularfire2.firestore.persistenceSettings"),XP=new a.OlP("angularfire2.firestore.settings"),eO=new a.OlP("angularfire2.firestore.use-emulator");function W1(n,e=(t=>t)){return{query:e(n),ref:n}}let d0=(()=>{class n{constructor(t,r,i,l,d,f,_,w,I,S,F,H,Y,ge,$e,bt,vt){this.schedulers=_;const Nt=(0,Vi.on)(t,f,r),Ct=I;S&&da(Nt,f,F,Y,ge,$e,H,bt),[this.firestore,this.persistenceEnabled$]=(0,Vi.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Qt=f.runOutsideAngular(()=>Nt.firestore());if(l&&Qt.settings(l),Ct&&Qt.useEmulator(...Ct),i&&!Cr(d)){const on=()=>{try{return(0,nr.D)(Qt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Sn){return"undefined"!=typeof console&&console.warn(Sn),gt(!1)}};return[Qt,f.runOutsideAngular(on)]}return[Qt,gt(!1)]},[l,Ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=W1(i,r),f=this.schedulers.ngZone.run(()=>l);return new q1(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new JP(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new H1(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vi.Dh),a.LFG(Vi.xv,8),a.LFG(G1,8),a.LFG(XP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(xn.HU),a.LFG(z1,8),a.LFG(eO,8),a.LFG(iu,8),a.LFG(IE,8),a.LFG(Vy,8),a.LFG(rg,8),a.LFG(By,8),a.LFG(ig,8),a.LFG(AE,8),a.LFG(Ly,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tO=(()=>{class n{constructor(){ca.Z.registerVersion("angularfire",xn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:G1,useValue:!0},{provide:z1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[d0]}),n})();class Sa extends oi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var nO=M(9672);function K1(n,e,t){n?(0,nO.f)(t,n,e):e()}function bC(n,e){const t=(0,gc.m)(n)?n:()=>n,r=i=>i.error(t());return new Os.y(e?i=>e.schedule(r,0,i):r)}function Y1(n){return new Os.y(e=>{(0,Ga.Xf)(n()).subscribe(e)})}var km=M(515),Q1=M(727);function J1(){return(0,Ui.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Jr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class sO extends Os.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Q1.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Jr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Q1.w0.EMPTY)}return e}refCount(){return J1()(this)}}function gd(n){return(0,Ui.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Jr.x)(t,void 0,void 0,d=>{l=(0,Ga.Xf)(n(d,gd(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ri=M(5577);function h0(n,e){return(0,gc.m)(e)?(0,Ri.z)(n,e,1):(0,Ri.z)(n,1)}function dD(n){return n<=0?()=>km.E:(0,Ui.e)((e,t)=>{let r=[];e.subscribe((0,Jr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Js=M(8505);class kl{constructor(e,t){this.id=e,this.url=t}}class hD extends kl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class f0 extends kl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X1 extends kl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uO extends kl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lO extends kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cO extends kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dO extends kl{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hO extends kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fO extends kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eM{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tM{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pO{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gO{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mO{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nM{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const hn="primary";class yO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fm(n){return new yO(n)}const iM="ngNavigationCancelingError";function fD(n){const e=Error("NavigationCancelingError: "+n);return e[iM]=!0,e}function vO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Du(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!sM(n[i],e[i]))return!1;return!0}function sM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function oM(n){return Array.prototype.concat.apply([],n)}function aM(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Su(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,nr.D)(Promise.resolve(n)):gt(n)}const wO={exact:function cM(n,e,t){if(!Hf(n.segments,e.segments)||!wC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!cM(n.children[r],e.children[r],t))return!1;return!0},subset:dM},uM={exact:function CO(n,e){return Du(n,e)},subset:function TO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sM(n[t],e[t]))},ignored:()=>!0};function lM(n,e,t){return wO[t.paths](n.root,e.root,t.matrixParams)&&uM[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dM(n,e,t){return hM(n,e,e.segments,t)}function hM(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Hf(i,t)||e.hasChildren()||!wC(i,t,r))}if(n.segments.length===t.length){if(!Hf(n.segments,t)||!wC(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!dM(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Hf(n.segments,i)&&wC(n.segments,i,r)&&n.children[hn])&&hM(n.children[hn],e,l,r)}}function wC(n,e,t){return e.every((r,i)=>uM[t](n[i].parameters,r.parameters))}class qf{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fm(this.queryParams)),this._queryParamMap}toString(){return DO.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return CC(this)}}class p0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fm(this.parameters)),this._parameterMap}toString(){return yM(this)}}function Hf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class fM{}class pM{parse(e){const t=new FO(e);return new qf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${g0(e.root,!0)}`,r=function xO(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${TC(t)}=${TC(i)}`).join("&"):`${TC(t)}=${TC(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function SO(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const DO=new pM;function CC(n){return n.segments.map(e=>yM(e)).join("/")}function g0(n,e){if(!n.hasChildren())return CC(n);if(e){const t=n.children[hn]?g0(n.children[hn],!1):"",r=[];return ki(n.children,(i,l)=>{l!==hn&&r.push(`${l}:${g0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AO(n,e){let t=[];return ki(n.children,(r,i)=>{i===hn&&(t=t.concat(e(r,i)))}),ki(n.children,(r,i)=>{i!==hn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===hn?[g0(n.children[hn],!1)]:[`${i}:${g0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hn]?`${CC(n)}/${t[0]}`:`${CC(n)}/(${t.join("//")})`}}function gM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TC(n){return gM(n).replace(/%3B/gi,";")}function pD(n){return gM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function IC(n){return decodeURIComponent(n)}function mM(n){return IC(n.replace(/\+/g,"%20"))}function yM(n){return`${pD(n.path)}${function MO(n){return Object.keys(n).map(e=>`;${pD(e)}=${pD(n[e])}`).join("")}(n.parameters)}`}const NO=/^[^\/()?;=#]+/;function AC(n){const e=n.match(NO);return e?e[0]:""}const PO=/^[^=?&#]+/,RO=/^[^&#]+/;class FO{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[hn]=new mn(e,t)),r}parseSegment(){const e=AC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new p0(IC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=AC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=AC(this.remaining);i&&(r=i,this.capture(r))}e[IC(t)]=IC(r)}parseQueryParam(e){const t=function OO(n){const e=n.match(PO);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function kO(n){const e=n.match(RO);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=mM(t),l=mM(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=AC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=hn);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[hn]:new mn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class _M{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mD(e,this._root).map(t=>t.value)}}function gD(n,e){if(n===e.value)return e;for(const t of e.children){const r=gD(n,t);if(r)return r}return null}function mD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mD(n,t);if(r.length)return r.unshift(e),r}return[]}class Fl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vM extends _M{constructor(e,t){super(e),this.snapshot=t,yD(this,e)}toString(){return this.snapshot.toString()}}function EM(n,e){const t=function LO(n,e){const d=new DC([],{},{},"",{},hn,e,null,n.root,-1,{});return new wM("",new Fl(d,[]))}(n,e),r=new Sa([new p0("",{})]),i=new Sa({}),l=new Sa({}),d=new Sa({}),f=new Sa(""),_=new Ro(r,i,d,f,l,hn,e,t.root);return _.snapshot=t.root,new vM(new Fl(_,[]),t)}class Ro{constructor(e,t,r,i,l,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>Fm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>Fm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function UO(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class DC{constructor(e,t,r,i,l,d,f,_,w,I,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wM extends _M{constructor(e,t){super(t),this.url=e,yD(this,t)}toString(){return CM(this._root)}}function yD(n,e){e.value._routerState=n,e.children.forEach(t=>yD(n,t))}function CM(n){const e=n.children.length>0?` { ${n.children.map(CM).join(", ")} } `:"";return`${n.value}${e}`}function _D(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Du(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Du(e.params,t.params)||n.params.next(t.params),function EO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Du(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Du(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vD(n,e){const t=Du(n.params,e.params)&&function IO(n,e){return Hf(n,e)&&n.every((t,r)=>Du(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vD(n.parent,e.parent))}function m0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function BO(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return m0(n,r,i);return m0(n,r)})}(n,e,t);return new Fl(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>m0(n,f)),d}}const r=function jO(n){return new Ro(new Sa(n.url),new Sa(n.params),new Sa(n.queryParams),new Sa(n.fragment),new Sa(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>m0(n,l));return new Fl(r,i)}}function SC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function y0(n){return"object"==typeof n&&null!=n&&n.outlets}function ED(n,e,t,r,i){let l={};if(r&&ki(r,(f,_)=>{l[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new qf(t,l,i);const d=TM(n,e,t);return new qf(d,l,i)}function TM(n,e,t){const r={};return ki(n.children,(i,l)=>{r[l]=i===e?t:TM(i,e,t)}),new mn(n.segments,r)}class IM{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&SC(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(y0);if(i&&i!==aM(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bD{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function AM(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return MC(n,e,t);const r=function zO(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(y0(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!SM(_,w,d))return l;r+=2}else{if(!SM(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new mn(n.segments.slice(0,r.pathIndex),{});return l.children[hn]=new mn(n.segments.slice(r.pathIndex),n.children),MC(l,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?wD(n,e,t):r.match?MC(n,0,i):wD(n,e,t)}function MC(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function GO(n){return y0(n[0])?n[0].outlets:{[hn]:n}}(t),i={};return ki(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=AM(n.children[d],e,l))}),ki(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new mn(n.segments,i)}}function wD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(y0(l)){const _=WO(l.outlets);return new mn(r,_)}if(0===i&&SC(t[0])){r.push(new p0(n.segments[e].path,DM(t[0]))),i++;continue}const d=y0(l)?l.outlets[hn]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&SC(f)?(r.push(new p0(d,DM(f))),i+=2):(r.push(new p0(d,{})),i++)}return new mn(r,{})}function WO(n){const e={};return ki(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wD(new mn([],{}),0,t))}),e}function DM(n){const e={};return ki(n,(t,r)=>e[r]=`${t}`),e}function SM(n,e,t){return n==t.path&&Du(e,t.parameters)}class YO{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_D(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lm(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),ki(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Lm(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Lm(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lm(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new nM(l.value.snapshot))}),e.children.length&&this.forwardEvent(new gO(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(_D(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),_D(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function QO(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class CD{constructor(e,t){this.routes=e,this.module=t}}function md(n){return"function"==typeof n}function Gf(n){return n instanceof qf}const _0=Symbol("INITIAL_VALUE");function v0(){return ai(n=>function rO(...n){const e=(0,Cn.yG)(n),t=(0,Cn.jO)(n),{args:r,keys:i}=Vu(n);if(0===r.length)return(0,nr.D)([],e);const l=new Os.y(function iO(n,e,t=uh.y){return r=>{K1(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)K1(e,()=>{const w=(0,nr.D)(n[_],e);let I=!1;w.subscribe((0,Jr.x)(r,S=>{l[_]=S,I||(I=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Rd(i,d):uh.y));return t?l.pipe(Jm(t)):l}(n.map(e=>e.pipe((0,ah.q)(1),_h(_0)))).pipe(il((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==_0?i:(l===_0&&(r=!0),r||!1!==l&&d!==t.length-1&&!Gf(l)?i:l),e)},_0),js(e=>e!==_0),(0,kt.U)(e=>Gf(e)?e:!0===e),(0,ah.q)(1)))}class rR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new E0,this.attachRef=null}}class E0{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new rR,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let TD=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=l||hn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new iR(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(E0),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class iR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ro?this.route:e===E0?this.childContexts:this.parent.get(e,t)}}let ID=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[TD],encapsulation:2}),n})();function MM(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];sR(r,oR(e,r))}}function sR(n,e){n.children&&MM(n.children,e)}function oR(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function AD(n){const e=n.children&&n.children.map(AD),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hn&&(t.component=ID),t}function ko(n){return n.outlet||hn}function xM(n,e){const t=n.filter(r=>ko(r)===e);return t.push(...n.filter(r=>ko(r)!==e)),t}const NM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xC(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},NM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||vO)(t,n,e);if(!l)return Object.assign({},NM);const d={};ki(l.posParams,(_,w)=>{d[w]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function NC(n,e,t,r,i="corrected"){if(t.length>0&&function lR(n,e,t){return t.some(r=>PC(n,e,r)&&ko(r)!==hn)}(n,t,r)){const d=new mn(e,function uR(n,e,t,r){const i={};i[hn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ko(l)!==hn){const d=new mn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ko(l)]=d}return i}(n,e,r,new mn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function cR(n,e,t){return t.some(r=>PC(n,e,r))}(n,t,r)){const d=new mn(n.segments,function aR(n,e,t,r,i,l){const d={};for(const f of r)if(PC(n,t,f)&&!i[ko(f)]){const _=new mn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[ko(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new mn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function PC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function PM(n,e,t,r){return!!(ko(n)===r||r!==hn&&PC(e,t,n))&&("**"===n.path||xC(e,n,t).matched)}function OM(n,e,t){return 0===e.length&&!n.children[t]}class OC{constructor(e){this.segmentGroup=e||null}}class RM{constructor(e){this.urlTree=e}}function b0(n){return bC(new OC(n))}function kM(n){return bC(new RM(n))}function dR(n){return bC(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class pR{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=NC(this.urlTree.root,[],[],this.config).segmentGroup,t=new mn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,hn).pipe((0,kt.U)(l=>this.createUrlTree(DD(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gd(l=>{if(l instanceof RM)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof OC?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,hn).pipe((0,kt.U)(i=>this.createUrlTree(DD(i),e.queryParams,e.fragment))).pipe(gd(i=>{throw i instanceof OC?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new mn([],{[hn]:e}):e;return new qf(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,kt.U)(l=>new mn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,nr.D)(i).pipe(h0(l=>{const d=r.children[l],f=xM(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,kt.U)(_=>({segment:_,outlet:l})))}),il((l,d)=>(l[d.outlet]=d.segment,l),{}),function oO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?js((i,l)=>n(i,l,r)):uh.y,dD(1),t?K0(e):Y0(()=>new Vp))}())}expandSegment(e,t,r,i,l,d){return(0,nr.D)(r).pipe(h0(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(gd(w=>{if(w instanceof OC)return gt(null);throw w}))),el(f=>!!f),gd((f,_)=>{if(f instanceof Vp||"EmptyError"===f.name)return OM(t,i,l)?gt(new mn([],{})):b0(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return PM(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):b0(t):b0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kM(l):this.lineralizeSegments(r,l).pipe((0,Ri.z)(d=>{const f=new mn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=xC(t,i,l);if(!f)return b0(t);const S=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?kM(S):this.lineralizeSegments(i,S).pipe((0,Ri.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,kt.U)(S=>(r._loadedConfig=S,new mn(i,{})))):gt(new mn(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=xC(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Ri.z)(I=>{const S=I.module,F=I.routes,{segmentGroup:H,slicedSegments:Y}=NC(t,f,_,F),ge=new mn(H.segments,H.children);if(0===Y.length&&ge.hasChildren())return this.expandChildren(S,F,ge).pipe((0,kt.U)(Nt=>new mn(f,Nt)));if(0===F.length&&0===Y.length)return gt(new mn(f,{}));const $e=ko(r)===l;return this.expandSegment(S,ge,F,Y,$e?hn:l,!0).pipe((0,kt.U)(vt=>new mn(f.concat(vt.segments),vt.children)))})):b0(t)}getChildConfig(e,t,r){return t.children?gt(new CD(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ri.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,kt.U)(l=>(t._loadedConfig=l,l))):function hR(n){return bC(fD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new CD([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return gt(!0);const l=i.map(d=>{const f=e.get(d);let _;if(function XO(n){return n&&md(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!md(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Su(_)});return gt(l).pipe(v0(),(0,Js.b)(d=>{if(!Gf(d))return;const f=fD(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,kt.U)(d=>!0===d))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[hn])return dR(e.redirectTo);i=i.children[hn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new qf(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ki(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return ki(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new mn(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function DD(n){const e={};for(const r of Object.keys(n.children)){const l=DD(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function gR(n){if(1===n.numberOfChildren&&n.children[hn]){const e=n.children[hn];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}class FM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class RC{constructor(e,t){this.component=e,this.route=t}}function yR(n,e,t){const r=n._root;return w0(r,e?e._root:null,t,[r.value])}function kC(n,e,t){const r=function vR(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function w0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Lm(e);return n.children.forEach(d=>{(function ER(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function bR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hf(n.url,e.url)||!Du(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vD(n,e)||!Du(n.queryParams,e.queryParams);default:return!vD(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new FM(r)):(l.data=d.data,l._resolvedData=d._resolvedData),w0(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new RC(f.outlet.component,d))}else d&&C0(e,f,i),i.canActivateChecks.push(new FM(r)),w0(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),ki(l,(d,f)=>C0(d,t.getContext(f),i)),i}function C0(n,e,t){const r=Lm(n),i=n.value;ki(r,(l,d)=>{C0(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new RC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class xR{}function LM(n){return new Os.y(e=>e.error(n))}class PR{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=NC(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,hn);if(null===t)return null;const r=new DC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fl(r,t),l=new wM(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=bM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],f=xM(e,l),_=this.processSegmentGroup(f,d,l);if(null===_)return null;r.push(..._)}const i=UM(r);return function OR(n){n.sort((e,t)=>e.value.outlet===hn?-1:t.value.outlet===hn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return OM(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!PM(e,t,r,i))return null;let l,d=[],f=[];if("**"===e.path){const H=r.length>0?aM(r).parameters:{};l=new DC(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jM(e),ko(e),e.component,e,VM(t),BM(t)+r.length,ZM(e))}else{const H=xC(t,e,r);if(!H.matched)return null;d=H.consumedSegments,f=H.remainingSegments,l=new DC(d,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jM(e),ko(e),e.component,e,VM(t),BM(t)+d.length,ZM(e))}const _=function RR(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=NC(t,d,f,_.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const H=this.processChildren(_,w);return null===H?null:[new Fl(l,H)]}if(0===_.length&&0===I.length)return[new Fl(l,[])];const S=ko(e)===i,F=this.processSegment(_,w,I,S?hn:i);return null===F?null:[new Fl(l,F)]}}function kR(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function UM(n){const e=[],t=new Set;for(const r of n){if(!kR(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=UM(r.children);e.push(new Fl(r.value,i))}return e.filter(r=>!t.has(r))}function VM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function BM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function jM(n){return n.data||{}}function ZM(n){return n.resolve||{}}function $M(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function SD(n){return ai(e=>{const t=n(e);return t?(0,nr.D)(t).pipe((0,kt.U)(()=>e)):gt(e)})}class $R extends class ZR{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const MD=new a.OlP("ROUTES");class qM{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,kt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new CD(oM(d.injector.get(MD,void 0,a.XFs.Self|a.XFs.Optional)).map(AD),d)}),gd(l=>{throw t._loader$=void 0,l}));return t._loader$=new sO(i,()=>new oi.x).pipe(J1()),t._loader$}loadModuleFactory(e){return Su(e()).pipe((0,Ri.z)(t=>t instanceof a.YKP?gt(t):(0,nr.D)(this.compiler.compileModuleAsync(t))))}}class HR{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function GR(n){throw n}function zR(n,e,t){return e.parse("/")}function HM(n,e){return gt(null)}const WR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class n{constructor(t,r,i,l,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new oi.x,this.errorHandler=GR,this.malformedUriErrorHandler=zR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HM,afterPreactivation:HM},this.urlHandlingStrategy=new HR,this.routeReuseStrategy=new $R,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const S=d.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function bO(){return new qf(new mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qM(d,f,F=>this.triggerEvent(new eM(F)),F=>this.triggerEvent(new tM(F))),this.routerState=EM(this.currentUrlTree,this.rootComponentType),this.transitions=new Sa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(js(i=>0!==i.id),(0,kt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ai(i=>{let l=!1,d=!1;return gt(i).pipe((0,Js.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ai(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return GM(f.source)&&(this.browserUrlTree=f.extractedUrl),gt(f).pipe(ai(S=>{const F=this.transitions.getValue();return r.next(new hD(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),F!==this.transitions.getValue()?km.E:Promise.resolve(S)}),function mR(n,e,t,r){return ai(i=>function fR(n,e,t,r,i){return new pR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,kt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Js.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function FR(n,e,t,r,i){return(0,Ri.z)(l=>function NR(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new PR(n,e,t,r,i,l).recognize();return null===d?LM(new xR):gt(d)}catch(d){return LM(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,kt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Js.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const F=new lO(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:H,source:Y,restoredState:ge,extras:$e}=f,bt=new hD(F,this.serializeUrl(H),Y,ge);r.next(bt);const vt=EM(H,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},f),{targetSnapshot:vt,urlAfterRedirects:H,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),km.E}),SD(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:F,replaceUrl:H}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!F,replaceUrl:!!H})}),(0,Js.b)(f=>{const _=new cO(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,kt.U)(f=>Object.assign(Object.assign({},f),{guards:yR(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function wR(n,e){return(0,Ri.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function CR(n,e,t,r){return(0,nr.D)(n).pipe((0,Ri.z)(i=>function MR(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?gt(l.map(f=>{const _=kC(f,e,i);let w;if(function nR(n){return n&&md(n.canDeactivate)}(_))w=Su(_.canDeactivate(n,e,t,r));else{if(!md(_))throw new Error("Invalid CanDeactivate guard");w=Su(_(n,e,t,r))}return w.pipe(el())})).pipe(v0()):gt(!0)}(i.component,i.route,t,e,r)),el(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ri.z)(f=>f&&function JO(n){return"boolean"==typeof n}(f)?function TR(n,e,t,r){return(0,nr.D)(e).pipe(h0(i=>Zy(function AR(n,e){return null!==n&&e&&e(new pO(n)),gt(!0)}(i.route.parent,r),function IR(n,e){return null!==n&&e&&e(new mO(n)),gt(!0)}(i.route,r),function SR(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function _R(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Y1(()=>gt(d.guards.map(_=>{const w=kC(_,d.node,t);let I;if(function tR(n){return n&&md(n.canActivateChild)}(w))I=Su(w.canActivateChild(r,n));else{if(!md(w))throw new Error("Invalid CanActivateChild guard");I=Su(w(r,n))}return I.pipe(el())})).pipe(v0())));return gt(l).pipe(v0())}(n,i.path,t),function DR(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(l=>Y1(()=>{const d=kC(l,e,t);let f;if(function eR(n){return n&&md(n.canActivate)}(d))f=Su(d.canActivate(e,n));else{if(!md(d))throw new Error("Invalid CanActivate guard");f=Su(d(e,n))}return f.pipe(el())}));return gt(i).pipe(v0())}(n,i.route,t))),el(i=>!0!==i,!0))}(r,l,n,e):gt(f)),(0,kt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Js.b)(f=>{if(Gf(f.guardsResult)){const w=fD(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new dO(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),js(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),SD(f=>{if(f.guards.canActivateChecks.length)return gt(f).pipe((0,Js.b)(_=>{const w=new hO(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),ai(_=>{let w=!1;return gt(_).pipe(function LR(n,e){return(0,Ri.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let l=0;return(0,nr.D)(i).pipe(h0(d=>function UR(n,e,t,r){return function VR(n,e,t,r){const i=$M(n);if(0===i.length)return gt({});const l={};return(0,nr.D)(i).pipe((0,Ri.z)(d=>function BR(n,e,t,r){const i=kC(n,e,r);return Su(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Js.b)(f=>{l[d]=f}))),dD(1),(0,Ri.z)(()=>$M(l).length===i.length?gt(l):km.E))}(n._resolve,n,e,r).pipe((0,kt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),bM(n,t).resolve),null)))}(d.route,r,n,e)),(0,Js.b)(()=>l++),dD(1),(0,Ri.z)(d=>l===i.length?gt(t):km.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Js.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Js.b)(_=>{const w=new fO(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),SD(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:F,replaceUrl:H}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!F,replaceUrl:!!H})}),(0,kt.U)(f=>{const _=function VO(n,e,t){const r=m0(n,e._root,t?t._root:void 0);return new vM(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Js.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(r=>(new YO(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Js.b)({next(){l=!0},complete(){l=!0}}),function aO(n){return(0,Ui.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),gd(f=>{if(d=!0,function _O(n){return n&&n[iM]}(f)){const _=Gf(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new X1(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GM(i.source)};this.scheduleNavigation(I,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new uO(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return km.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){MM(t),this.config=t.map(AD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}return null!==S&&(S=this.removeEmptyProps(S)),function ZO(n,e,t,r,i){if(0===t.length)return ED(e.root,e.root,e.root,r,i);const l=function $O(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IM(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return ki(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new IM(t,e,r)}(t);if(l.toRoot())return ED(e.root,e.root,new mn([],{}),r,i);const d=function qO(n,e,t){if(n.isAbsolute)return new bD(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new bD(l,l===e.root,0)}const r=SC(n.commands[0])?0:1;return function HO(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new bD(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=d.processChildren?MC(d.segmentGroup,d.index,l.commands):AM(d.segmentGroup,d.index,l.commands);return ED(e.root,d.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,S,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Gf(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function YR(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},WR):!1===r?Object.assign({},KR):r,Gf(t))return lM(this.currentUrlTree,t,i);const l=this.parseUrl(t);return lM(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new f0(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,S;d?(w=d.resolve,I=d.reject,S=d.promise):S=new Promise((Y,ge)=>{w=Y,I=ge});const F=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),H=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):H=0,this.setTransition({id:F,targetPageId:H,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:w,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(Y=>Promise.reject(Y))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new X1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function GM(n){return"imperative"!==n}let ni=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new oi.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Um(this.skipLocationChange),replaceUrl:Um(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Um(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Er),a.Y36(Ro),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),zf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new oi.x,this.subscription=t.events.subscribe(l=>{l instanceof f0&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){if(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Um(this.skipLocationChange),replaceUrl:Um(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Um(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Er),a.Y36(Ro),a.Y36(ye))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function Um(n){return""===n||!!n}class zM{}class WM{preload(e,t){return gt(null)}}let KM=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new qM(i,r,_=>t.triggerEvent(new eM(_)),_=>t.triggerEvent(new tM(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(js(t=>t instanceof f0),h0(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,nr.D)(i).pipe((0,sg.J)(),(0,kt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ri.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Er),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(zM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),xD=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof f0&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new rM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wf=new a.OlP("ROUTER_CONFIGURATION"),YM=new a.OlP("ROUTER_FORROOT_GUARD"),ek=[Pe,{provide:fM,useClass:pM},{provide:Er,useFactory:function sk(n,e,t,r,i,l,d={},f,_){const w=new Er(null,n,e,t,r,i,oM(l));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function ok(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(I=>{var S,F;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(F=console.groupEnd)||void 0===F||F.call(console)}),w},deps:[fM,E0,Pe,a.zs3,a.Sil,MD,Wf,[class qR{},new a.FiY],[class jR{},new a.FiY]]},E0,{provide:Ro,useFactory:function ak(n){return n.routerState.root},deps:[Er]},KM,WM,class XR{preload(e,t){return t().pipe(gd(()=>gt(null)))}},{provide:Wf,useValue:{enableTracing:!1}}];function tk(){return new a.PXZ("Router",Er)}let QM=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ek,JM(t),{provide:YM,useFactory:ik,deps:[[Er,new a.FiY,new a.tp0]]},{provide:Wf,useValue:r||{}},{provide:ye,useFactory:rk,deps:[ce,[new a.tBr(rt),new a.FiY],Wf]},{provide:xD,useFactory:nk,deps:[Er,ka,Wf]},{provide:zM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:WM},{provide:a.PXZ,multi:!0,useFactory:tk},[ND,{provide:a.ip1,multi:!0,useFactory:uk,deps:[ND]},{provide:XM,useFactory:lk,deps:[ND]},{provide:a.tb,multi:!0,useExisting:XM}]]}}static forChild(t){return{ngModule:n,providers:[JM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(YM,8),a.LFG(Er,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function nk(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xD(n,e,t)}function rk(n,e,t={}){return t.useHash?new Oe(n,e):new Ke(n,e)}function ik(n){return"guarded"}function JM(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:MD,multi:!0,useValue:n}]}let ND=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new oi.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(Er),d=this.injector.get(Wf);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Wf),i=this.injector.get(KM),l=this.injector.get(xD),d=this.injector.get(Er),f=this.injector.get(a.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function uk(n){return n.appInitializer.bind(n)}function lk(n){return n.bootstrapListener.bind(n)}const XM=new a.OlP("Router Initializer");let Is=(()=>{class n{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleado(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado_(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}agregarCliente(t){return this.firestore.collection("clientes").add(t)}getCliente(){return this.firestore.collection("clientes",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarCliente(t){return this.firestore.collection("clientes").doc(t).delete()}getCliente_(t){return this.firestore.collection("clientes").doc(t).snapshotChanges()}getClientex_(){return this.firestore.collection("clientes").snapshotChanges()}actualizarCliente(t,r){return this.firestore.collection("clientes").doc(t).update(r)}agregarMascota(t){return this.firestore.collection("mascotas").add(t)}getMascota(){return this.firestore.collection("mascotas",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarMascota(t){return this.firestore.collection("mascotas").doc(t).delete()}getMascota_(t){return this.firestore.collection("mascotas").doc(t).snapshotChanges()}actualizarMascota(t,r){return this.firestore.collection("mascotas").doc(t).update(r)}agregarProducto(t){return this.firestore.collection("productos").add(t)}getProducto(){return this.firestore.collection("productos",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarProducto(t){return this.firestore.collection("productos").doc(t).delete()}getProducto_(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}actualizarProducto(t,r){return this.firestore.collection("productos").doc(t).update(r)}agregarServicio(t){return this.firestore.collection("servicios").add(t)}getServicio(){return this.firestore.collection("servicios",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarServicio(t){return this.firestore.collection("servicios").doc(t).delete()}getServicio_(t){return this.firestore.collection("servicios").doc(t).snapshotChanges()}actualizarServicio(t,r){return this.firestore.collection("servicios").doc(t).update(r)}agregarArticulo(t){return this.firestore.collection("articulos").add(t)}getArticulo(){return this.firestore.collection("articulos",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarArticulo(t){return this.firestore.collection("articulos").doc(t).delete()}getArticulo_(t){return this.firestore.collection("articulos").doc(t).snapshotChanges()}actualizarArticulo(t,r){return this.firestore.collection("articulos").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(d0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ex{}const Ll="*";function hk(n,e){return{type:7,name:n,definitions:e,options:{}}}function tx(n,e=null){return{type:4,styles:e,timings:n}}function nx(n,e=null){return{type:2,steps:n,options:e}}function T0(n){return{type:6,styles:n,offset:null}}function PD(n,e,t){return{type:0,name:n,styles:e,options:t}}function rx(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ix(n){Promise.resolve(null).then(n)}class I0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ix(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?ix(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const ox=["toast-component",""];function fk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function pk(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function gk(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,pk,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function mk(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function yk(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function _k(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}function vk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function Ek(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function bk(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,Ek,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function wk(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function Ck(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function Tk(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}class Ik{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class FC{constructor(e,t,r,i,l,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=d,this._onTap=new oi.x,this._onAction=new oi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const ax={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ux=new a.OlP("ToastConfig");class Dk{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new oi.x,this._activate=new oi.x,this._manualClose=new oi.x,this._resetTimeout=new oi.x,this._countDuplicate=new oi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Sk{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===FC?this._toastPackage:this._parentInjector.get(e,t,r)}}class Mk extends class Ak{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class xk{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Nk=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pk=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Mk(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new xk(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Nk),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bi=(()=>{class n{constructor(t,r,i,l,d){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts){const _=d&&f.title===t;if((!d||_)&&f.message===r)return f.toastRef.onDuplicate(i,l),f}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&l.enableHtml&&(w=this.sanitizer.sanitize(a.q3G.HTML,r));const I=new Dk(_),S=new FC(this.index,l,w,i,t,I),F=new Sk(S,this._injector),H=new Ik(l.toastComponent,F),Y=_.attach(H,this.toastrConfig.newestOnTop);I.componentInstance=Y.instance;const ge={toastId:this.index,title:i||"",message:r||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:Y};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ge.toastRef.activate()})),this.toasts.push(ge),ge}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ux),a.LFG(Pk),a.LFG(a.zs3),a.LFG(Uu),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ok=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bi),a.Y36(FC),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(a.d8E("@flyInOut",r.state),a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},attrs:ox,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(a.YNc(0,fk,3,0,"button",0),a.YNc(1,gk,3,5,"div",1),a.YNc(2,mk,1,3,"div",2),a.YNc(3,yk,2,4,"div",3),a.YNc(4,_k,2,2,"div",4)),2&t&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},directives:[fn],encapsulation:2,data:{animation:[hk("flyInOut",[PD("inactive",T0({opacity:0})),PD("active",T0({opacity:1})),PD("removed",T0({opacity:0})),rx("inactive => active",tx("{{ easeTime }}ms {{ easing }}")),rx("active => removed",tx("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Rk=Object.assign(Object.assign({},ax),{toastComponent:Ok});let kk=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:ux,useValue:{default:Rk,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ls]]}),n})(),Fk=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bi),a.Y36(FC),a.Y36(a.z2F))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},attrs:ox,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(a.YNc(0,vk,3,0,"button",0),a.YNc(1,bk,3,5,"div",1),a.YNc(2,wk,1,3,"div",2),a.YNc(3,Ck,2,4,"div",3),a.YNc(4,Tk,2,2,"div",4)),2&t&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},directives:[fn],encapsulation:2}),n})();function Lk(n,e){1&n&&(a.TgZ(0,"div",17)(1,"span",18),a._uU(2,"Loading..."),a.qZA()())}function Uk(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}Object.assign(Object.assign({},ax),{toastComponent:Fk});let lx=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.empleadoService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",Kt.required],apellido:["",Kt.required],documento:["",Kt.required],salario:["",Kt.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){this.titulo="Agregar Empleado";const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("El empleado se registro con exito!","Empleado Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleado"])}).catch(r=>{this.loading=!1})}editarEmpleado(t){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this.empleadoService.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con exito","Empleadomodificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleado"])})}isEditar(){null!==this.id&&(this.titulo="Editar Empleado",this.loading=!0,this.empleadoService.getEmpleado_(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-empleado"]],decls:23,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","button","routerLink","/list-empleado",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,Lk,3,0,"div",6),a.qZA(),a.YNc(9,Uk,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarEmpleado()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA()(),a._UZ(16,"input",12)(17,"input",13),a.TgZ(18,"div",14)(19,"button",15),a._uU(20,"Volver"),a.qZA(),a.TgZ(21,"button",16),a._uU(22,"Agregar"),a.qZA()()()()()()()()()),2&t&&(a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),a.xp6(1),a.Q6J("formGroup",r.createEmpleado))},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})();function Vk(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const Bk=function(n){return["/editEmpleado/",n]};function jk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.ALo(9,"currency"),a.qZA(),a.TgZ(10,"td"),a._UZ(11,"i",13),a.TgZ(12,"i",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarEmpleado(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.apellido),a.xp6(2),a.Oqu(t.documento),a.xp6(2),a.Oqu(a.lcZ(9,5,t.salario)),a.xp6(3),a.Q6J("routerLink",a.VKq(7,Bk,t.id))}}function Zk(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Apellido"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Documento"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Salario"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Editar/Eliminar"),a.qZA()()(),a.TgZ(13,"tbody"),a.YNc(14,jk,13,9,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(14),a.Q6J("ngForOf",t.empleados)}}let $k=(()=>{class n{constructor(t,r){this._empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getEmpleado().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{console.log("empleado eliminado con exito"),this.toastr.error("empleado eliminado con exito","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log("error")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-empleado"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3",2,"margin-right","75px"],["src","./assets/Imagenes/empleados.png",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-empleado",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Empleados"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,Vk,2,0,"h5",8),a.YNc(12,Zk,15,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.empleados.length),a.xp6(1),a.Q6J("ngIf",r.empleados.length>0))},directives:[ni,fn,On],pipes:[so],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border:1px}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})();var cx=M(198);let LC=(()=>{class n{constructor(){}error(t){switch(t){case"auth/email-already-in-use":return"El Correo ya esta registrado";case"auth/invalid-email":return"El Correo es invalido";case"auth/weak-password":return"La Contrase\xf1a es muy debil";case"auth/user-not-found":return"Usuario Invalido";case"auth/wrong-password":return"La contrase\xf1a es invalida";default:return"Error desconocido"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qk(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es Requerido"),a.qZA()())}function Hk(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," Correo"),a.TgZ(2,"strong"),a._uU(3,"Invalido"),a.qZA()())}function Gk(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Password "),a.TgZ(2,"strong"),a._uU(3,"Es Requerido"),a.qZA()())}let dx=(()=>{class n{constructor(t,r,i,l,d,f,_,w){this.fb=t,this.db=r,this.afAuth=i,this._errorService=l,this._empleadoService=d,this.toastr=f,this.afs=_,this.router=w,this.loading=!1,this.titulo="Agregar Empleado",this.empleados=[],this.flag=!0,this.mensaje="Este es el hijo",this.loginInicioForm=this.fb.group({usuario:["",[Kt.required,Kt.email]],password:["",Kt.required]}),this.itemsCollection=_.collection("clientes"),this.items=this.itemsCollection.valueChanges()}ngOnInit(){}saludo(){this.mensaje="value"}login(){var t,r;const i=null===(t=this.loginInicioForm.get("usuario"))||void 0===t?void 0:t.value,l=null===(r=this.loginInicioForm.get("password"))||void 0===r?void 0:r.value;return(0,cx.n)(),this.afs.collection("clientes",_=>_.where("correo","==",i)).snapshotChanges().subscribe(_=>{this.empleados=[],_.forEach(w=>{console.log("correo",w.payload.doc.data().correo),this.empleados.push({id:w.payload.doc.id,correo:w.payload.doc.data().correo,password:w.payload.doc.data().password}),i==this.empleados[0].correo&&l==this.empleados[0].password?this.router.navigate(["/catalogo-producto"]):this.loginInicioForm.reset(),this.loading=!1})}),this.afAuth.signInWithEmailAndPassword(i,l).then(_=>{var w;(null===(w=_.user)||void 0===w?void 0:w.email)==i&&this.router.navigate(["/administracion"]),this.loading=!1},_=>{this.loading=!1,this.loginInicioForm.reset()}),this.empleados}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Vi.hO),a.Y36(iu),a.Y36(LC),a.Y36(Is),a.Y36(bi),a.Y36(d0),a.Y36(Er))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login-inicio"]],decls:36,vars:5,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-70","mb-7"],[1,"form-outline","form-white","mb-4"],["type","email","id","typeEmailX","formControlName","usuario","placeholder","Correo",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","password","id","typePasswordX","formControlName","password","placeholder","Password",1,"form-control","form-control-lg"],[1,"small","mb-5","pb-lg-2"],["routerLink","/verificar-password","href","#!",1,"text-white-70"],["type","submit",1,"btn","btn-outline-light","btn-lg","px-5",3,"disabled"],[1,"d-flex","justify-content-center","text-center","mt-4","pt-1"],["href","#!",1,"text-white"],[1,"fab","fa-facebook-f","fa-lg"],[1,"fab","fa-twitter","fa-lg","mx-4","px-2"],[1,"fab","fa-google","fa-lg"],[1,"mb-0"],["href","#!","routerLink","/registerUser",1,"text-white-70","fw-bold"],[1,"text-danger"]],template:function(t,r){if(1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),a.NdJ("ngSubmit",function(){return r.login()}),a.TgZ(7,"div",7)(8,"h2",8),a._uU(9,"Login"),a.qZA(),a.TgZ(10,"p",9),a._uU(11,"Please enter your login and password!"),a.qZA(),a.TgZ(12,"div",10),a._UZ(13,"input",11),a.YNc(14,qk,4,0,"span",12),a.YNc(15,Hk,4,0,"span",12),a.qZA(),a.TgZ(16,"div",10),a._UZ(17,"input",13),a.YNc(18,Gk,4,0,"span",12),a.qZA(),a.TgZ(19,"p",14)(20,"a",15),a._uU(21,"Forgot password?"),a.qZA()(),a.TgZ(22,"button",16),a._uU(23,"Login"),a.qZA(),a.TgZ(24,"div",17)(25,"a",18),a._UZ(26,"i",19),a.qZA(),a.TgZ(27,"a",18),a._UZ(28,"i",20),a.qZA(),a.TgZ(29,"a",18),a._UZ(30,"i",21),a.qZA()()(),a.TgZ(31,"div")(32,"p",22),a._uU(33,"Don't have an account? "),a.TgZ(34,"a",23),a._uU(35,"Sign Up"),a.qZA()()()()()()()()()()),2&t){let i,l,d;a.xp6(6),a.Q6J("formGroup",r.loginInicioForm),a.xp6(8),a.Q6J("ngIf",(null==(i=r.loginInicioForm.get("usuario"))?null:i.hasError("required"))&&(null==(i=r.loginInicioForm.get("usuario"))?null:i.touched)),a.xp6(1),a.Q6J("ngIf",(null==(l=r.loginInicioForm.get("usuario"))?null:l.hasError("email"))&&(null==(l=r.loginInicioForm.get("usuario"))?null:l.touched)),a.xp6(3),a.Q6J("ngIf",(null==(d=r.loginInicioForm.get("password"))?null:d.hasError("required"))&&(null==(d=r.loginInicioForm.get("password"))?null:d.touched)),a.xp6(4),a.Q6J("disabled",r.loginInicioForm.invalid)}},directives:[Tr,Ii,yi,si,lr,m,fn,zf],styles:[".gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})(),hx=(()=>{class n{constructor(t,r,i,l,d){this.afAuth=t,this.fb=r,this.router=i,this.toastr=l,this._errorService=d,this.loading=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iu),a.Y36(Qi),a.Y36(Er),a.Y36(bi),a.Y36(LC))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-catalogo-producto"]],viewQuery:function(t,r){if(1&t&&a.Gf(dx,5),2&t){let i;a.iGM(i=a.CRH())&&(r.child=i.first)}},decls:256,vars:0,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet","integrity","sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN","crossorigin","anonymous"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","m-auto"],[1,"nav-item"],["href","index.html",1,"nav-link"],["href","category.html",1,"nav-link"],[1,"sr-only"],["href","product.html",1,"nav-link"],["href","contact.html",1,"nav-link"],["href","register.html","routerLink","/registerUser",1,"nav-link"],[1,"form-inline","my-2","my-lg-0"],[1,"input-group","input-group-sm"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm","placeholder","Buscar...",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary","btn-number"],[1,"fa","fa-search"],["href","catalogo-producto.component.html","routerLink","/login-inicio",1,"btn","btn-success","btn-sm","ml-3"],["aria-hidden","true",1,"fa","fa-user-plus"],["routerLink","/carrito",1,"btn","btn-success","btn-sm","ml-3"],[1,"fa","fa-shopping-cart"],[1,"badge","badge-light"],["href","register.html",1,"nav-link"],[1,"jumbotron","text-center"],[1,"jumbotron-heading",2,"font-size","50px"],[1,"lead","text-muted","mb-0",2,"font-size","30px"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","index.html"],["href","category.html"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-12","col-sm-3"],[1,"card","bg-light","mb-3"],[1,"card-header","bg-primary","text-white","text-uppercase"],[1,"fa","fa-list"],[1,"list-group","category_block"],[1,"list-group-item"],[1,"card-header","bg-success","text-white","text-uppercase"],[1,"card-body"],["src","./assets/Imagenes/Alergodex.png","routerLink","/create-cliente",1,"img-fluid"],[1,"card-title"],[1,"card-text"],[1,"bloc_left_price"],[1,"col-12","col-md-6","col-lg-4"],[1,"card"],["src","./assets/Imagenes/Ciprofloxacina-250mg.png","alt","Card image cap",1,"card-img-top"],["href","product.html","title","View Product"],[1,"btn","btn-danger","btn-block"],["href","#",1,"btn","btn-success","btn-block"],["src","./assets/Imagenes/Cenit.png","alt","Card image cap",1,"card-img-top"],["src","./assets/Imagenes/predniZoo.png","alt","Card image cap",1,"card-img-top"],["src","./assets/Imagenes/endogard.png","alt","Card image cap",1,"card-img-top"],["src","./assets/Imagenes/aler-caf.png","alt","Card image cap",1,"card-img-top"],["src","./assets/Imagenes/neumoxina.png","alt","Card image cap",1,"card-img-top"],[1,"col-12"],["aria-label","..."],[1,"pagination"],[1,"page-item","disabled"],["href","#","tabindex","-1",1,"page-link"],[1,"page-item"],["href","#",1,"page-link"],[1,"page-item","active"],[1,"text-light"],[1,"col-md-3","col-lg-4","col-xl-3"],[1,"bg-white","mb-2","mt-0","d-inline-block","mx-auto","w-25"],[1,"mb-0"],[1,"col-md-4","col-lg-3","col-xl-3"],[1,"list-unstyled"],[1,"fa","fa-home","mr-2"],[1,"fa","fa-envelope","mr-2"],[1,"fa","fa-phone","mr-2"],[1,"fa","fa-print","mr-2"],["aria-hidden","true",1,"fa","fa-facebook-official","mr-2"],[1,"col-12","copyright","mt-3"],[1,"float-left"],["href","#"],[1,"text-right","text-muted"],[1,"fa","fa-heart"],["href","https://t-php.fr/43-theme-ecommerce-bootstrap-4.html"]],template:function(t,r){1&t&&(a._UZ(0,"link",0)(1,"link",1),a.TgZ(2,"nav",2)(3,"div",3)(4,"button",4),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),a._uU(10,"Inicio"),a.qZA()(),a.TgZ(11,"li",8)(12,"a",10),a._uU(13,"Categoria "),a.TgZ(14,"span",11),a._uU(15,"(current)"),a.qZA()()(),a.TgZ(16,"li",8)(17,"a",12),a._uU(18,"Articulo"),a.qZA()(),a.TgZ(19,"li",8)(20,"a",13),a._uU(21,"Contacto"),a.qZA()(),a.TgZ(22,"li",8)(23,"a",14),a._uU(24,"Registrarse"),a.qZA()()(),a.TgZ(25,"form",15)(26,"div",16),a._UZ(27,"input",17),a.TgZ(28,"div",18)(29,"button",19),a._UZ(30,"i",20),a.qZA(),a.TgZ(31,"a",21),a._UZ(32,"i"),a._uU(33," Sign Up "),a._UZ(34,"span",22),a.qZA()()(),a.TgZ(35,"a",23),a._UZ(36,"i",24),a._uU(37," Carro "),a._UZ(38,"span",25),a.qZA(),a.TgZ(39,"ul",7)(40,"li",8),a._UZ(41,"a",26),a.qZA()()()()()(),a.TgZ(42,"section",27)(43,"div",3)(44,"h1",28),a._uU(45,"PocasPulgas"),a.qZA(),a.TgZ(46,"p",29),a._uU(47,"Para nosotros es importante la salud y el bienestar de su mascota, por ello prestamos un servicio cl\xednico y m\xe9dico de calidad pensando en usted y su mascota como parte de la familia.."),a.qZA()()(),a.TgZ(48,"div",3)(49,"div",30)(50,"div",31)(51,"nav",32)(52,"ol",33)(53,"li",34)(54,"a",35),a._uU(55,"Inicio"),a.qZA()(),a.TgZ(56,"li",34)(57,"a",36),a._uU(58,"Categoria"),a.qZA()(),a.TgZ(59,"li",37),a._uU(60,"Sub-Categoria"),a.qZA()()()()()(),a.TgZ(61,"div",3)(62,"div",30)(63,"div",38)(64,"div",39)(65,"div",40),a._UZ(66,"i",41),a._uU(67," Categories "),a.qZA(),a.TgZ(68,"ul",42)(69,"li",43)(70,"a",36),a._uU(71,"Alimentos"),a.qZA()(),a.TgZ(72,"li",43)(73,"a",36),a._uU(74,"Servicios"),a.qZA()(),a.TgZ(75,"li",43)(76,"a",36),a._uU(77,"Accesorios"),a.qZA()(),a.TgZ(78,"li",43)(79,"a",36),a._uU(80,"Higiene y Belleza"),a.qZA()(),a.TgZ(81,"li",43)(82,"a",36),a._uU(83,"Medicamentos"),a.qZA()()()(),a.TgZ(84,"div",39)(85,"div",44),a._uU(86,"Last product"),a.qZA(),a.TgZ(87,"div",45),a._UZ(88,"img",46),a.TgZ(89,"h5",47),a._uU(90,"Alergodex"),a.qZA(),a.TgZ(91,"p",48),a._uU(92,"antinflamatorio a base de dexametasona de uso oral para perros y gatos."),a.qZA(),a.TgZ(93,"p",49),a._uU(94,"$ 23.000"),a.qZA()()()(),a.TgZ(95,"div",31)(96,"div",30)(97,"div",50)(98,"div",51),a._UZ(99,"img",52),a.TgZ(100,"div",45)(101,"h4",47)(102,"a",53),a._uU(103,"Ciprofloxacina-250mg"),a.qZA()(),a.TgZ(104,"p",48),a._uU(105,"antibi\xf3tico, se usa para tratar infecciones bacterianas.."),a.qZA(),a.TgZ(106,"div",30)(107,"div",31)(108,"p",54),a._uU(109,"$ 34.000"),a.qZA()(),a.TgZ(110,"div",31)(111,"a",55),a._uU(112,"Add to cart"),a.qZA()()()()()(),a.TgZ(113,"div",50)(114,"div",51),a._UZ(115,"img",56),a.TgZ(116,"div",45)(117,"h4",47)(118,"a",53),a._uU(119,"Cenit"),a.qZA()(),a.TgZ(120,"p",48),a._uU(121,"antihelmintico que garantizan la remocion total de endoparasitos en caninos y felinos ...."),a.qZA(),a.TgZ(122,"div",30)(123,"div",31)(124,"p",54),a._uU(125,"$ 24.900"),a.qZA()(),a.TgZ(126,"div",31)(127,"a",55),a._uU(128,"Add to cart"),a.qZA()()()()()(),a.TgZ(129,"div",50)(130,"div",51),a._UZ(131,"img",57),a.TgZ(132,"div",45)(133,"h4",47)(134,"a",53),a._uU(135,"predniZoo"),a.qZA()(),a.TgZ(136,"p",48),a._uU(137,"\xdatil para controlar prurito, asma bronquial, asma felina, dermatitis al\xe9rgica, anemia hemol\xedtica autoinmune.."),a.qZA(),a.TgZ(138,"div",30)(139,"div",31)(140,"p",54),a._uU(141,"$ 43.000"),a.qZA()(),a.TgZ(142,"div",31)(143,"a",55),a._uU(144,"Add to cart"),a.qZA()()()()()(),a.TgZ(145,"div",50)(146,"div",51),a._UZ(147,"img",58),a.TgZ(148,"div",45)(149,"h4",47)(150,"a",53),a._uU(151,"Endogard"),a.qZA()(),a.TgZ(152,"p",48),a._uU(153,"Antiparasitario interno para perros de amplio espectro de uso oral."),a.qZA(),a.TgZ(154,"div",30)(155,"div",31)(156,"p",54),a._uU(157,"$ 19.900"),a.qZA()(),a.TgZ(158,"div",31)(159,"a",55),a._uU(160,"Add to cart"),a.qZA()()()()()(),a.TgZ(161,"div",50)(162,"div",51),a._UZ(163,"img",59),a.TgZ(164,"div",45)(165,"h4",47)(166,"a",53),a._uU(167,"AlerCaf"),a.qZA()(),a.TgZ(168,"p",48),a._uU(169,"coadyudante en el tratamiento de las enfermedades alergicas de la pie. "),a.qZA(),a.TgZ(170,"div",30)(171,"div",31)(172,"p",54),a._uU(173,"$ 15.000"),a.qZA()(),a.TgZ(174,"div",31)(175,"a",55),a._uU(176,"Add to cart"),a.qZA()()()()()(),a.TgZ(177,"div",50)(178,"div",51),a._UZ(179,"img",60),a.TgZ(180,"div",45)(181,"h4",47)(182,"a",53),a._uU(183,"neumoxina"),a.qZA()(),a.TgZ(184,"p",48),a._uU(185,"Antibi\xf3tico macr\xf3lido de larga acci\xf3n, Tratamiento de infecciones del tracto respiratorio."),a.qZA(),a.TgZ(186,"div",30)(187,"div",31)(188,"p",54),a._uU(189,"$ 24.900"),a.qZA()(),a.TgZ(190,"div",31)(191,"a",55),a._uU(192,"Add to cart"),a.qZA()()()()()(),a.TgZ(193,"div",61)(194,"nav",62)(195,"ul",63)(196,"li",64)(197,"a",65),a._uU(198,"Anterior"),a.qZA()(),a.TgZ(199,"li",66)(200,"a",67),a._uU(201,"1"),a.qZA()(),a.TgZ(202,"li",68)(203,"a",67),a._uU(204,"2 "),a.TgZ(205,"span",11),a._uU(206,"(current)"),a.qZA()()(),a.TgZ(207,"li",66)(208,"a",67),a._uU(209,"3"),a.qZA()(),a.TgZ(210,"li",66)(211,"a",67),a._uU(212,"Siguiente"),a.qZA()()()()()()()()(),a.TgZ(213,"footer",69)(214,"div",3)(215,"div",30)(216,"div",70)(217,"h5"),a._uU(218,"About"),a.qZA(),a._UZ(219,"hr",71),a.TgZ(220,"p",72),a._uU(221," Estamos comprometidos con el bienestar de tu mascota desde nuestro trabajo en la prevenci\xf3n, el acompa\xf1amiento al paciente en su recuperaci\xf3n y principalmente en la calidad en nuestros procedimientos m\xe9dicos de atenci\xf3n veterinaria. "),a.qZA()(),a.TgZ(222,"div",73)(223,"h5"),a._uU(224,"Contact"),a.qZA(),a._UZ(225,"hr",71),a.TgZ(226,"ul",74)(227,"li"),a._UZ(228,"i",75),a._uU(229," PocasPulgas."),a.qZA(),a.TgZ(230,"li"),a._UZ(231,"i",76),a._uU(232," vagutierrezv@uqvirtual.edu.co"),a.qZA(),a.TgZ(233,"li"),a._UZ(234,"i",77),a._uU(235," + 301 312 8934"),a.qZA(),a.TgZ(236,"li"),a._UZ(237,"i",78),a._uU(238," + 304 220 8737"),a.qZA(),a.TgZ(239,"li"),a._UZ(240,"i",79),a._uU(241," pocaspulgasaxm"),a.qZA()()(),a.TgZ(242,"div",80)(243,"p",81)(244,"a",82),a._uU(245,"Ir Al Inicio"),a.qZA()(),a.TgZ(246,"p",83),a._uU(247,"Dise\xf1ado Por "),a._UZ(248,"i",84),a._uU(249," by "),a.TgZ(250,"a",85)(251,"i"),a._uU(252,"Victor Gutierrez"),a.qZA()(),a._uU(253," | "),a.TgZ(254,"span"),a._uU(255,"v. 1.0"),a.qZA()()()()()())},directives:[zf,Tr,Ii,_o,ni],styles:[".bloc_left_price[_ngcontent-%COMP%]{color:#c01508;text-align:center;font-weight:700;font-size:150%}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#007bff}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#343a40}.add_to_cart_block[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#c01508;text-align:center;font-weight:700;font-size:200%;margin-bottom:0}.add_to_cart_block[_ngcontent-%COMP%]   .price_discounted[_ngcontent-%COMP%]{color:#343a40;text-align:center;text-decoration:line-through;font-size:140%}.product_rassurance[_ngcontent-%COMP%]{padding:10px;margin-top:15px;background:#ffffff;border:1px solid #6c757d;color:#6c757d}.product_rassurance[_ngcontent-%COMP%]   .list-inline[_ngcontent-%COMP%]{margin-bottom:0;text-transform:uppercase;text-align:center}.product_rassurance[_ngcontent-%COMP%]   .list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#343a40}.reviews_product[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:gold}.pagination[_ngcontent-%COMP%]{margin-top:20px}footer[_ngcontent-%COMP%]{background:#343a40;padding:40px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa!important}"]}),n})(),zk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-spinner"]],decls:7,vars:0,consts:[[1,"sk-chase"],[1,"sk-chase-dot"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"div",1)(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",1)(6,"div",1),a.qZA())},styles:['.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;animation:sk-chase 2.5s infinite linear both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-chase-dot 2s infinite ease-in-out both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#000;border-radius:100%;animation:sk-chase-dot-before 2s infinite ease-in-out both}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(1):before{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.6s}@keyframes sk-chase{to{transform:rotate(360deg)}}@keyframes sk-chase-dot{80%,to{transform:rotate(360deg)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}to,0%{transform:scale(1)}}']}),n})();function Wk(n,e){1&n&&(a.TgZ(0,"div",4),a._UZ(1,"app-spinner"),a.qZA())}function Kk(n,e){1&n&&(a.TgZ(0,"div",17),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es Obligatorio"),a.qZA()())}function Yk(n,e){1&n&&(a.TgZ(0,"div",17),a._uU(1," Correo "),a.TgZ(2,"strong"),a._uU(3,"Invalido"),a.qZA()())}function Qk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"p",10),a._uU(6,"Recuperar Contrase\xf1a"),a.qZA()(),a.TgZ(7,"form",11),a.NdJ("ngSubmit",function(){return a.CHM(t),a.oxw().recuperarPassword()}),a.TgZ(8,"div",12),a._UZ(9,"input",13),a.YNc(10,Kk,4,0,"div",14),a.YNc(11,Yk,4,0,"div",14),a.qZA(),a.TgZ(12,"button",15),a._uU(13,"Volver"),a.qZA(),a.TgZ(14,"button",16),a._uU(15,"Aceptar"),a.qZA()()()()()()}if(2&n){const t=a.oxw();let r,i;a.xp6(7),a.Q6J("formGroup",t.verificarForm),a.xp6(3),a.Q6J("ngIf",(null==(r=t.verificarForm.get("usuario"))?null:r.hasError("required"))&&(null==(r=t.verificarForm.get("usuario"))?null:r.touched)),a.xp6(1),a.Q6J("ngIf",(null==(i=t.verificarForm.get("usuario"))?null:i.hasError("email"))&&(null==(i=t.verificarForm.get("usuario"))?null:i.touched)),a.xp6(3),a.Q6J("disabled",t.verificarForm.invalid)}}let Jk=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.afAuth=r,this.router=i,this.toastr=l,this._errorService=d,this.loading=!1,this.verificarForm=this.fb.group({usuario:["",[Kt.required,Kt.email]]})}ngOnInit(){}recuperarPassword(){var t;const r=null===(t=this.verificarForm.get("usuario"))||void 0===t?void 0:t.value;this.loading=!0,this.afAuth.sendPasswordResetEmail(r).then(()=>{this.toastr.info("Enviamos un correo electronico para restablecer su password","Restablecer password"),this.router.navigate(["/login-inicio"])}).catch(i=>{this.loading=!1,this.toastr.error(this._errorService.error(i.code),"Error"),this.verificarForm.reset()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(iu),a.Y36(Er),a.Y36(bi),a.Y36(LC))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verificar-password"]],decls:4,vars:2,consts:[[1,"vh-100","gradient-custom"],[1,"container",2,"filter","alpha(opacity=50)"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card",2,"margin-top","150px","; border-radius","1rem"],[1,"card-body",2,"background-color","black","border-radius","1rem"],[1,"text-center","titulo",2,"font-size","33px"],[2,"color","rgb(255, 255, 255)","font-family","Arial, Helvetica, sans-serif white"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","usuario","placeholder","Ingrese Su Correo..",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["routerLink","/login-inicio",1,"btn","btn-secondary","btn-lg"],["type","button",1,"btn","btn-primary","btn-lg","float-end",3,"disabled"],[1,"text-danger"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1),a.YNc(2,Wk,2,0,"div",2),a.YNc(3,Qk,16,4,"div",3),a.qZA()()),2&t&&(a.xp6(2),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",!r.loading))},directives:[fn,zk,Tr,Ii,yi,si,lr,m,ni],styles:[".text-danger[_ngcontent-%COMP%]{margin-left:10px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})(),Xk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verificar-correo"]],decls:8,vars:0,consts:[[1,"card"],[1,"card-body","text-center"],["routerLink","/login",1,"btn","btn-secondary","btn-lg","mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h3"),a._uU(3,"REVISAR CORREO"),a.qZA(),a.TgZ(4,"h4"),a._uU(5,"Te enviamos un correo electronico para verificar su cuenta"),a.qZA(),a.TgZ(6,"button",2),a._uU(7,"VOLVER"),a.qZA()()())},directives:[ni],styles:[""]}),n})();function eF(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es requerido"),a.qZA()())}function tF(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es invalido"),a.qZA()())}function nF(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1," El Password "),a.TgZ(2,"strong"),a._uU(3,"Es requerido"),a.qZA()())}function rF(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1," El Password como minimo "),a.TgZ(2,"strong"),a._uU(3,"debe tener 6 caracteres"),a.qZA()())}function iF(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1," Contrase\xf1as "),a.TgZ(2,"strong"),a._uU(3,"distintas"),a.qZA()())}let sF=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.afAuth=r,this.router=i,this.toastr=l,this._errorService=d,this.loading=!1,this.registerForm=this.fb.group({usuario:["",[Kt.required,Kt.email]],password:["",[Kt.required,Kt.minLength(6)]],repetirPassword:[""]},{validator:this.checkPassword})}ngOnInit(){}register(){var t,r;const i=null===(t=this.registerForm.get("usuario"))||void 0===t?void 0:t.value,l=null===(r=this.registerForm.get("password"))||void 0===r?void 0:r.value;this.loading=!0,this.afAuth.createUserWithEmailAndPassword(i,l).then(d=>{var f;null===(f=d.user)||void 0===f||f.sendEmailVerification(),this.toastr.success("Enviamos un correo electronico para verificar su cuenta!","Usuario registrado!"),this.router.navigate(["/catalogo-producto"])}).catch(d=>{this.registerForm.reset(),this.loading=!1,this.toastr.error(this._errorService.error(d.code),"Opss ocurrio un error")})}checkPassword(t){var r,i;return(null===(r=t.controls.password)||void 0===r?void 0:r.value)===(null===(i=t.controls.repetirPassword)||void 0===i?void 0:i.value)?null:{notSame:!0}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(iu),a.Y36(Er),a.Y36(bi),a.Y36(LC))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register-user"]],decls:28,vars:7,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-50","mb-5"],[1,"mb-3"],["type","text","formControlName","usuario","placeholder","Correo",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xf1a",1,"form-control","form-control-lg"],["routerLink","/",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-left",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),a.NdJ("ngSubmit",function(){return r.register()}),a.TgZ(7,"div",7)(8,"h2",8),a._uU(9,"Registrar Usuario"),a.qZA(),a.TgZ(10,"p",9),a._uU(11,"Please enter your Email, Password and Confirmation!"),a.qZA(),a.TgZ(12,"div",10),a._UZ(13,"input",11),a.YNc(14,eF,4,0,"span",12),a.YNc(15,tF,4,0,"span",12),a.qZA(),a.TgZ(16,"div",10),a._UZ(17,"input",13),a.YNc(18,nF,4,0,"span",12),a.YNc(19,rF,4,0,"span",12),a.qZA(),a.TgZ(20,"div",10),a._UZ(21,"input",14),a.YNc(22,iF,4,0,"span",12),a.qZA(),a.TgZ(23,"div",10)(24,"button",15),a._uU(25,"Volver"),a.qZA(),a.TgZ(26,"button",16),a._uU(27,"Aceptar"),a.qZA()()()()()()()()()()),2&t){let i,l,d,f;a.xp6(6),a.Q6J("formGroup",r.registerForm),a.xp6(8),a.Q6J("ngIf",(null==(i=r.registerForm.get("usuario"))?null:i.hasError("required"))&&(null==(i=r.registerForm.get("usuario"))?null:i.touched)),a.xp6(1),a.Q6J("ngIf",(null==(l=r.registerForm.get("usuario"))?null:l.hasError("email"))&&(null==(l=r.registerForm.get("usuario"))?null:l.touched)),a.xp6(3),a.Q6J("ngIf",(null==(d=r.registerForm.get("password"))?null:d.hasError("required"))&&(null==(d=r.registerForm.get("password"))?null:d.touched)),a.xp6(1),a.Q6J("ngIf",(null==(f=r.registerForm.get("password"))?null:f.hasError("minlength"))&&(null==(f=r.registerForm.get("password"))?null:f.touched)),a.xp6(3),a.Q6J("ngIf",r.registerForm.hasError("notSame")),a.xp6(4),a.Q6J("disabled",r.registerForm.invalid)}},directives:[Tr,Ii,yi,si,lr,m,fn,ni],styles:[".gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}button[_ngcontent-%COMP%]{margin:13px}"]}),n})();function oF(n,e){1&n&&(a.TgZ(0,"div",22)(1,"span",23),a._uU(2,"Loading..."),a.qZA()())}function aF(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}function uF(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es requerido"),a.qZA()())}function lF(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Correo "),a.TgZ(2,"strong"),a._uU(3,"Es invalido"),a.qZA()())}function cF(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Password "),a.TgZ(2,"strong"),a._uU(3,"Es requerido"),a.qZA()())}function dF(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," El Password como minimo "),a.TgZ(2,"strong"),a._uU(3,"debe tener 6 caracteres"),a.qZA()())}function hF(n,e){1&n&&(a.TgZ(0,"span",24),a._uU(1," Contrase\xf1as "),a.TgZ(2,"strong"),a._uU(3,"distintas"),a.qZA()())}let fx=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.clienteService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Cliente",this.createCliente=this.fb.group({nombre:["",Kt.required],documento:["",Kt.required],direccion:["",Kt.required],correo:["",[Kt.required,Kt.email]],password:["",[Kt.required,Kt.minLength(6)]],repetirPassword:["",Kt.required]},{validator:this.checkPassword}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarCliente(){this.submitted=!0,!this.createCliente.invalid&&(null===this.id?this.agregarCliente():this.editarCliente(this.id))}checkPassword(t){var r,i;return(null===(r=t.controls.password)||void 0===r?void 0:r.value)===(null===(i=t.controls.repetirPassword)||void 0===i?void 0:i.value)?null:{notSame:!0}}agregarCliente(){this.titulo="Agregar Cliente";const t={nombre:this.createCliente.value.nombre,documento:this.createCliente.value.documento,direccion:this.createCliente.value.direccion,correo:this.createCliente.value.correo,password:this.createCliente.value.password,repetirPassword:this.createCliente.value.password,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.clienteService.agregarCliente(t).then(()=>{this.toastr.success("El Cliente se registro con exito!","Cliente Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-cliente"])}).catch(r=>{this.loading=!1})}editarCliente(t){const r={nombre:this.createCliente.value.nombre,documento:this.createCliente.value.documento,direccion:this.createCliente.value.direccion,correo:this.createCliente.value.correo,password:this.createCliente.value.password,repetirPassword:this.createCliente.value.password,fechaActualizacion:new Date};this.loading=!0,this.clienteService.actualizarCliente(t,r).then(()=>{this.loading=!1,this.toastr.info("El Cliente fue modificado con exito","Cliente modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-cliente"])})}isEditar(){null!==this.id&&(this.titulo="Editar Cliente",this.loading=!0,this.clienteService.getCliente_(this.id).subscribe(t=>{this.loading=!1,this.createCliente.setValue({nombre:t.payload.data().nombre,documento:t.payload.data().documento,direccion:t.payload.data().direccion,correo:t.payload.data().correo,password:t.payload.data().password,repetirPassword:t.payload.data().password})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-cliente"]],decls:33,vars:9,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","documento",1,"form-control","form-control-lg"],["type","text","formControlName","direccion","placeholder","direccion",1,"form-control","form-control-lg","mt-3"],[1,"mb-3",2,"margin-top","15px"],["type","text","formControlName","correo","placeholder","Correo",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],[1,"mb-3"],["type","password","formControlName","password","placeholder","Password",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xf1a",1,"form-control","form-control-lg"],[1,"mt-3"],["type","button","routerLink","/list-cliente",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"],[1,"text-danger"]],template:function(t,r){if(1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,oF,3,0,"div",6),a.qZA(),a.YNc(9,aF,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarCliente()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA()(),a._UZ(16,"input",12),a.TgZ(17,"div",13),a._UZ(18,"input",14),a.YNc(19,uF,4,0,"span",15),a.YNc(20,lF,4,0,"span",15),a.qZA(),a.TgZ(21,"div",16),a._UZ(22,"input",17),a.YNc(23,cF,4,0,"span",15),a.YNc(24,dF,4,0,"span",15),a.qZA(),a.TgZ(25,"div",16),a._UZ(26,"input",18),a.YNc(27,hF,4,0,"span",15),a.qZA(),a.TgZ(28,"div",19)(29,"button",20),a._uU(30,"Volver"),a.qZA(),a.TgZ(31,"button",21),a._uU(32,"Agregar"),a.qZA()()()()()()()()()),2&t){let i,l,d,f;a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createCliente.invalid),a.xp6(1),a.Q6J("formGroup",r.createCliente),a.xp6(9),a.Q6J("ngIf",(null==(i=r.createCliente.get("correo"))?null:i.hasError("required"))&&(null==(i=r.createCliente.get("correo"))?null:i.touched)),a.xp6(1),a.Q6J("ngIf",(null==(l=r.createCliente.get("correo"))?null:l.hasError("email"))&&(null==(l=r.createCliente.get("correo"))?null:l.touched)),a.xp6(3),a.Q6J("ngIf",(null==(d=r.createCliente.get("password"))?null:d.hasError("required"))&&(null==(d=r.createCliente.get("password"))?null:d.touched)),a.xp6(1),a.Q6J("ngIf",(null==(f=r.createCliente.get("password"))?null:f.hasError("minlength"))&&(null==(f=r.createCliente.get("password"))?null:f.touched)),a.xp6(3),a.Q6J("ngIf",r.createCliente.hasError("notSame"))}},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})(),fF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container"],["href","#",1,"navbar-brand"],["src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/horizontal-logo.svg","alt","forecastr logo",1,"logo","horizontal-logo"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/list-mascota",1,"nav-link",2,"margin-top","8px"],["routerLink","/list-cliente",1,"nav-link",2,"margin-top","8px"],["routerLink","/list-empleado",1,"nav-link",2,"margin-top","8px"],["routerLink","/list-producto",1,"nav-link",2,"margin-top","8px"],["routerLink","/list-servicio",1,"nav-link",2,"margin-top","8px"],["routerLink","/list-articulo",1,"nav-link",2,"margin-top","8px"],[1,"nav-link","float-end"]],template:function(t,r){1&t&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"button",4),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),a._uU(10,"Mascotas"),a.qZA()(),a.TgZ(11,"li",8)(12,"a",10),a._uU(13,"Clientes"),a.qZA()(),a.TgZ(14,"li",8)(15,"a",11),a._uU(16,"Empleados"),a.qZA()(),a.TgZ(17,"li",8)(18,"a",12),a._uU(19,"Productos"),a.qZA()(),a.TgZ(20,"li",8)(21,"a",13),a._uU(22,"Servicios"),a.qZA()(),a.TgZ(23,"li",8)(24,"a",14),a._uU(25,"Articulos"),a.qZA()(),a.TgZ(26,"li",8),a._UZ(27,"a",15),a.qZA()()()()())},directives:[zf],styles:["body[_ngcontent-%COMP%]{background:#f2f2f2}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:not(:last-child){margin-right:35px}.dropdown-toggle[_ngcontent-%COMP%]:after{transition:transform .15s linear}.show.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{transform:translateY(3px)}.dropdown-menu[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{width:1473px}"]}),n})(),pF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-administracion"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navbar")},directives:[fF],styles:["body[_ngcontent-%COMP%]{background:#f2f2f2}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:not(:last-child){margin-right:35px}.dropdown-toggle[_ngcontent-%COMP%]:after{transition:transform .15s linear}.show.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{transform:translateY(3px)}.dropdown-menu[_ngcontent-%COMP%]{margin-top:0}"]}),n})();function gF(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const mF=function(n){return["/editCliente/",n]};function yF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td",13),a._UZ(10,"i",14),a.TgZ(11,"i",15),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarCliente(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.documento),a.xp6(2),a.Oqu(t.direccion),a.xp6(2),a.Oqu(t.correo),a.xp6(2),a.Q6J("routerLink",a.VKq(5,mF,t.id))}}function _F(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Documento"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Direccion"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Correo"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Editar/Eliminar"),a.qZA()()(),a.TgZ(13,"tbody"),a.YNc(14,yF,12,7,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(14),a.Q6J("ngForOf",t.clientes)}}let vF=(()=>{class n{constructor(t,r){this._clienteService=t,this.toastr=r,this.clientes=[]}ngOnInit(){this.getClientes()}getClientes(){this._clienteService.getCliente().subscribe(t=>{this.clientes=[],t.forEach(r=>{this.clientes.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarCliente(t){this._clienteService.eliminarCliente(t).then(()=>{console.log("cliente eliminado con exito"),this.toastr.error("cliente eliminado con exito","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-cliente"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3",2,"margin-right","75px"],["src","./assets/Imagenes/empleados.png",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-cliente",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered","style","border: 1px;",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered",2,"border","1px"],[4,"ngFor","ngForOf"],[2,"width","10%"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Clientes"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,gF,2,0,"h5",8),a.YNc(12,_F,15,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.clientes.length),a.xp6(1),a.Q6J("ngIf",r.clientes.length>0))},directives:[ni,fn,On],styles:["i[_ngcontent-%COMP%]{cursor:pointer}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})();function EF(n,e){1&n&&(a.TgZ(0,"div",17)(1,"span",18),a._uU(2,"Loading..."),a.qZA()())}function bF(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}let RD=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.mascotaService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Mascota",this.createMascota=this.fb.group({nombre:["",Kt.required],tipo:["",Kt.required],color:["",Kt.required],fechaNacimiento:["",Kt.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarMascota(){this.submitted=!0,!this.createMascota.invalid&&(null===this.id?this.agregarMascota():this.editarMascota(this.id))}agregarMascota(){this.titulo="Agregar Mascota";const t={nombre:this.createMascota.value.nombre,tipo:this.createMascota.value.tipo,color:this.createMascota.value.color,fechaNacimiento:this.createMascota.value.fechaNacimiento,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.mascotaService.agregarMascota(t).then(()=>{this.toastr.success("La Mascota se registro con exito!","Mascota Registrada",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-mascota"])}).catch(r=>{this.loading=!1})}editarMascota(t){const r={nombre:this.createMascota.value.nombre,tipo:this.createMascota.value.tipo,color:this.createMascota.value.color,fechaNacimiento:this.createMascota.value.fechaNacimiento,fechaActualizacion:new Date};this.loading=!0,this.mascotaService.actualizarMascota(t,r).then(()=>{this.loading=!1,this.toastr.info("La mascota fue modificada con exito","Mascota modificada!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-mascota"])})}isEditar(){null!==this.id&&(this.titulo="Editar Mascota",this.loading=!0,this.mascotaService.getMascota_(this.id).subscribe(t=>{this.loading=!1,this.createMascota.setValue({nombre:t.payload.data().nombre,tipo:t.payload.data().tipo,color:t.payload.data().color,fechaNacimiento:t.payload.data().fechaNacimiento})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-mascota"]],decls:23,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","tipo","placeholder","Tipo",1,"form-control","form-control-lg"],["type","text","formControlName","color","placeholder","Color",1,"form-control","form-control-lg","mt-3"],["type","date","formControlName","fechaNacimiento","placeholder","Fecha Nacimiento",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","button","routerLink","/list-mascota",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,EF,3,0,"div",6),a.qZA(),a.YNc(9,bF,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarMascota()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA()(),a._UZ(16,"input",12)(17,"input",13),a.TgZ(18,"div",14)(19,"button",15),a._uU(20,"Volver"),a.qZA(),a.TgZ(21,"button",16),a._uU(22,"Agregar"),a.qZA()()()()()()()()()),2&t&&(a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createMascota.invalid),a.xp6(1),a.Q6J("formGroup",r.createMascota))},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})();function wF(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const CF=function(n){return["/editMascota/",n]};function TF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._UZ(10,"i",13),a.TgZ(11,"i",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarMascota(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.tipo),a.xp6(2),a.Oqu(t.color),a.xp6(2),a.Oqu(t.fechaNacimiento),a.xp6(2),a.Q6J("routerLink",a.VKq(5,CF,t.id))}}function IF(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Tipo"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Color"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"fecha Nacimiento"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Editar/Eliminar"),a.qZA()()(),a.TgZ(13,"tbody"),a.YNc(14,TF,12,7,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(14),a.Q6J("ngForOf",t.mascotas)}}let AF=(()=>{class n{constructor(t,r){this._mascotaService=t,this.toastr=r,this.mascotas=[]}ngOnInit(){this.getMascotas()}getMascotas(){this._mascotaService.getMascota().subscribe(t=>{this.mascotas=[],t.forEach(r=>{this.mascotas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarMascota(t){this._mascotaService.eliminarMascota(t).then(()=>{console.log("mascota eliminada con exito"),this.toastr.error("mascota eliminada con exito","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log("error")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-mascota"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3",2,"margin-right","75px"],["src","./assets/Imagenes/iconoMascotas.jpg",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-mascota",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered","style","border: 1px;",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered",2,"border","1px"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Mascotas"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,wF,2,0,"h5",8),a.YNc(12,IF,15,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.mascotas.length),a.xp6(1),a.Q6J("ngIf",r.mascotas.length>0))},directives:[ni,fn,On],styles:["i[_ngcontent-%COMP%]{cursor:pointer}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:2px}"]}),n})();function DF(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const SF=function(n){return["/editProducto/",n]};function MF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._UZ(12,"i",13),a.TgZ(13,"i",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarProducto(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.tipo),a.xp6(2),a.Oqu(t.costo),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.fechaVencimiento),a.xp6(2),a.Q6J("routerLink",a.VKq(6,SF,t.id))}}function xF(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Tipo"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Costo"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Descripcion"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Fecha De Vencimiento"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Editar/Eliminar"),a.qZA()()(),a.TgZ(15,"tbody"),a.YNc(16,MF,14,8,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(16),a.Q6J("ngForOf",t.productos)}}let NF=(()=>{class n{constructor(t,r){this._productoService=t,this.toastr=r,this.productos=[]}ngOnInit(){this.getProductos()}getProductos(){this._productoService.getProducto().subscribe(t=>{this.productos=[],t.forEach(r=>{this.productos.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarProducto(t){this._productoService.eliminarProducto(t).then(()=>{console.log("producto eliminado con exito"),this.toastr.error("producto eliminado con exito","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log("error")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-producto"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3",2,"margin-right","75px"],["src","./assets/Imagenes/estar.png",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-producto",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Productos"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,DF,2,0,"h5",8),a.YNc(12,xF,17,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.productos.length),a.xp6(1),a.Q6J("ngIf",r.productos.length>0))},directives:[ni,fn,On],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border:1px}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})();function PF(n,e){1&n&&(a.TgZ(0,"div",18)(1,"span",19),a._uU(2,"Loading..."),a.qZA()())}function OF(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}let px=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.productoService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Producto",this.createProducto=this.fb.group({nombre:["",Kt.required],tipo:["",Kt.required],costo:["",Kt.required],descripcion:["",Kt.required],fechaVencimiento:["",Kt.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarProducto(){this.submitted=!0,!this.createProducto.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){this.titulo="Agregar Producto";const t={nombre:this.createProducto.value.nombre,tipo:this.createProducto.value.tipo,costo:this.createProducto.value.costo,descripcion:this.createProducto.value.descripcion,fechaVencimiento:this.createProducto.value.fechaVencimiento,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.productoService.agregarProducto(t).then(()=>{this.toastr.success("El Producto se registro con exito!","Producto Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-producto"])}).catch(r=>{this.loading=!1})}editarProducto(t){const r={nombre:this.createProducto.value.nombre,tipo:this.createProducto.value.tipo,costo:this.createProducto.value.costo,descripcion:this.createProducto.value.descripcion,fechaVencimiento:this.createProducto.value.fechaVencimiento,fechaActualizacion:new Date};this.loading=!0,this.productoService.actualizarProducto(t,r).then(()=>{this.loading=!1,this.toastr.info("El Producto fue modificado con exito","Producto modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-producto"])})}isEditar(){null!==this.id&&(this.titulo="Editar Producto",this.loading=!0,this.productoService.getProducto_(this.id).subscribe(t=>{this.loading=!1,this.createProducto.setValue({nombre:t.payload.data().nombre,tipo:t.payload.data().tipo,costo:t.payload.data().costo,descripcion:t.payload.data().descripcion,fechaVencimiento:t.payload.data().fechaVencimiento})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-producto"]],decls:27,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","tipo","placeholder","Tipo",1,"form-control","form-control-lg"],["type","text","formControlName","costo","placeholder","Costo",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","descripcion","placeholder","Descripcion",1,"form-control","form-control-lg","mt-3"],["type","date","formControlName","fechaVencimiento","placeholder","Fecha Vencimiento ",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-producto",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,PF,3,0,"div",6),a.qZA(),a.YNc(9,OF,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarProducto()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA()(),a.TgZ(16,"div",9),a._UZ(17,"input",12),a.qZA(),a.TgZ(18,"div",9),a._UZ(19,"input",13),a.qZA(),a.TgZ(20,"div",9),a._UZ(21,"input",14),a.qZA(),a.TgZ(22,"div",15)(23,"button",16),a._uU(24,"Volver"),a.qZA(),a.TgZ(25,"button",17),a._uU(26,"Agregar"),a.qZA()()()()()()()()()),2&t&&(a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createProducto.invalid),a.xp6(1),a.Q6J("formGroup",r.createProducto))},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})();function RF(n,e){1&n&&(a.TgZ(0,"div",16)(1,"span",17),a._uU(2,"Loading..."),a.qZA()())}function kF(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}let gx=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.servicioService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Servicio",this.createServicio=this.fb.group({nombre:["",Kt.required],precio:["",Kt.required],descripcion:["",Kt.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarServicio(){this.submitted=!0,!this.createServicio.invalid&&(null===this.id?this.agregarServicio():this.editarServicio(this.id))}agregarServicio(){this.titulo="Agregar Servicio";const t={nombre:this.createServicio.value.nombre,precio:this.createServicio.value.precio,descripcion:this.createServicio.value.descripcion,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.servicioService.agregarServicio(t).then(()=>{this.toastr.success("El Servicio se registro con exito!","Servicio Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-servicio"])}).catch(r=>{console.log(r),this.loading=!1}),console.log(t)}editarServicio(t){const r={nombre:this.createServicio.value.nombre,precio:this.createServicio.value.precio,descripcion:this.createServicio.value.descripcion,fechaActualizacion:new Date};this.loading=!0,this.servicioService.actualizarServicio(t,r).then(()=>{this.loading=!1,this.toastr.info("El Servicio fue modificado con exito","Servicio modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-servicio"])})}isEditar(){null!==this.id&&(this.titulo="Editar Servicio",this.loading=!0,this.servicioService.getServicio_(this.id).subscribe(t=>{this.loading=!1,console.log(t.payload.data().nombre),this.createServicio.setValue({nombre:t.payload.data().nombre,precio:t.payload.data().precio,descripcion:t.payload.data().descripcion})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-servicio"]],decls:22,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","precio","placeholder","Precio",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","descripcion","placeholder","Descripcion",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","button","routerLink","/list-servicio",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,RF,3,0,"div",6),a.qZA(),a.YNc(9,kF,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarServicio()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA()(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA(),a._UZ(16,"input",12),a.TgZ(17,"div",13)(18,"button",14),a._uU(19,"Volver"),a.qZA(),a.TgZ(20,"button",15),a._uU(21,"Agregar"),a.qZA()()()()()()()()()),2&t&&(a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createServicio.invalid),a.xp6(1),a.Q6J("formGroup",r.createServicio))},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})();function FF(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const LF=function(n){return["/editServicio/",n]};function UF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._UZ(8,"i",13),a.TgZ(9,"i",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarServicio(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.precio),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Q6J("routerLink",a.VKq(4,LF,t.id))}}function VF(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Precio"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Servicio"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Editar/Eliminar"),a.qZA()()(),a.TgZ(11,"tbody"),a.YNc(12,UF,10,6,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(12),a.Q6J("ngForOf",t.servicios)}}let BF=(()=>{class n{constructor(t,r){this._servicioService=t,this.toastr=r,this.servicios=[]}ngOnInit(){this.getServicios()}getServicios(){this._servicioService.getServicio().subscribe(t=>{this.servicios=[],t.forEach(r=>{this.servicios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarServicio(t){this._servicioService.eliminarServicio(t).then(()=>{console.log("servicio eliminado con exito"),this.toastr.error("servicio eliminado con exito","Servicio Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log("error")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-servicio"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3",2,"margin-right","75px"],["src","./assets/Imagenes/iconoServicio.png",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-servicio",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Servicios"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,FF,2,0,"h5",8),a.YNc(12,VF,13,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.servicios.length),a.xp6(1),a.Q6J("ngIf",r.servicios.length>0))},directives:[ni,fn,On],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border:1px}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})();function jF(n,e){1&n&&(a.TgZ(0,"div",19)(1,"span",20),a._uU(2,"Loading..."),a.qZA()())}function ZF(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Todos los campos son obligatorios"),a.qZA())}let mx=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this.articuloService=r,this.router=i,this.toastr=l,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Articulo",this.titulo2="",this.createArticulo=this.fb.group({nombre:["",Kt.required],precio:["",Kt.required],descripcion:["",Kt.required],cantidad:["",Kt.required],tipo:["",Kt.required],imagen:["",Kt.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditar()}agregarEditarArticulo(){this.submitted=!0,!this.createArticulo.invalid&&(null===this.id?this.agregarArticulo():this.editarArticulo(this.id))}agregarArticulo(){this.titulo="Agregar Articulo";const t={nombre:this.createArticulo.value.nombre,precio:this.createArticulo.value.precio,descripcion:this.createArticulo.value.descripcion,cantidad:this.createArticulo.value.cantidad,tipo:this.createArticulo.value.tipo,imagen:this.createArticulo.value.imagen,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.articuloService.agregarArticulo(t).then(()=>{this.toastr.success("El Articulo se registro con exito!","Articulo Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-articulo"])}).catch(r=>{this.loading=!1})}editarArticulo(t){const r={nombre:this.createArticulo.value.nombre,precio:this.createArticulo.value.precio,descripcion:this.createArticulo.value.descripcion,cantidad:this.createArticulo.value.cantidad,tipo:this.createArticulo.value.tipo,imagen:this.createArticulo.value.imagen,fechaActualizacion:new Date};this.loading=!0,this.articuloService.actualizarArticulo(t,r).then(()=>{this.loading=!1,this.toastr.info("El Articulo fue modificado con exito","Articulo modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-articulo"])})}isEditar(){null!==this.id&&(this.titulo="Editar Articulo",this.loading=!0,this.articuloService.getArticulo_(this.id).subscribe(t=>{this.loading=!1,this.createArticulo.setValue({nombre:t.payload.data().nombre,precio:t.payload.data().precio,descripcion:t.payload.data().descripcion,cantidad:t.payload.data().cantidad,tipo:t.payload.data().tipo,imagen:t.payload.data().imagen})}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi),a.Y36(Is),a.Y36(Er),a.Y36(bi),a.Y36(Ro))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-articulo"]],decls:28,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","pt-4",2,"filter","alpha(opacity=50)"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","precio","placeholder","Precio",1,"form-control","form-control-lg"],["type","text","formControlName","descripcion","placeholder","Descripcion",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","cantidad","placeholder","Cantidad",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","tipo","placeholder","Tipo",1,"form-control","form-control-lg","mt-3"],["type","file","formControlName","imagen","placeholder","Imagen",1,"form-control-file","mt-3"],[1,"mt-3"],["type","button","routerLink","/list-articulo",1,"btn","btn-secondary","btn-lg","btn-space"],["type","submit",1,"btn","btn-outline-light","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),a._uU(7),a.YNc(8,jF,3,0,"div",6),a.qZA(),a.YNc(9,ZF,2,0,"span",7),a.TgZ(10,"form",8),a.NdJ("ngSubmit",function(){return r.agregarEditarArticulo()}),a.TgZ(11,"div",2)(12,"div",9),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",9),a._UZ(15,"input",11),a.qZA()(),a._UZ(16,"input",12)(17,"input",13)(18,"input",14)(19,"br"),a.TgZ(20,"div",9),a._UZ(21,"input",15),a._uU(22,"> "),a.qZA(),a.TgZ(23,"div",16)(24,"button",17),a._uU(25,"Volver"),a.qZA(),a.TgZ(26,"button",18),a._uU(27,"Agregar"),a.qZA()()()()()()()()()),2&t&&(a.xp6(7),a.hij("",r.titulo," "),a.xp6(1),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",r.submitted&&r.createArticulo.invalid),a.xp6(1),a.Q6J("formGroup",r.createArticulo))},directives:[fn,Tr,Ii,yi,si,lr,m,ni],styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5px}.gradient-custom[_ngcontent-%COMP%]{background:#6a11cb;background:linear-gradient(to right,rgba(106,17,203,1),rgba(37,117,252,1))}"]}),n})();function $F(n,e){1&n&&(a.TgZ(0,"h5",10),a._uU(1,"No Hay Datos Para Mostrar"),a.qZA())}const qF=function(n){return["/editArticulo/",n]};function HF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._UZ(14,"i",13),a.TgZ(15,"i",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).eliminarArticulo(l.id)}),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.precio),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Oqu(t.cantidad),a.xp6(2),a.Oqu(t.tipo),a.xp6(2),a.Oqu(t.imagen),a.xp6(2),a.Q6J("routerLink",a.VKq(7,qF,t.id))}}function GF(n,e){if(1&n&&(a.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Nombre"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Precio"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Descripcion"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Cantidad"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Tipo"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Tipo"),a.qZA(),a._UZ(15,"th"),a.qZA()(),a.TgZ(16,"tbody"),a.YNc(17,HF,16,9,"tr",12),a.qZA()()),2&n){const t=a.oxw();a.xp6(17),a.Q6J("ngForOf",t.articulos)}}const zF=[{path:"",component:hx},{path:"",redirectTo:"catalogo-producto",pathMatch:"full"},{path:"administracion",component:pF},{path:"list-articulo",component:(()=>{class n{constructor(t,r){this._articuloService=t,this.toastr=r,this.articulos=[]}ngOnInit(){this.getArticulos()}getArticulos(){this._articuloService.getArticulo().subscribe(t=>{this.articulos=[],t.forEach(r=>{this.articulos.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarArticulo(t){this._articuloService.eliminarArticulo(t).then(()=>{console.log("articulo eliminado con exito"),this.toastr.error("articulo eliminado con exito","Articulo Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Is),a.Y36(bi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-list-articulo"]],decls:13,vars:2,consts:[[1,"container",2,"filter","alpha(opacity=50)","opacity","0.8"],[1,"card"],[1,"card-body"],[1,"h3"],["src","./assets/Imagenes/clasificacion.png",1,"img-fluid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end",2,"margin-bottom","3px"],["type","text","routerLink","/administracion",1,"btn","btn-outline-primary","btn-lg","btn-space"],["routerLink","/create-articulo",1,"btn","btn-outline-dark","btn-lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a._uU(4,"Listado De Articulos"),a.qZA(),a._UZ(5,"img",4),a.TgZ(6,"div",5)(7,"button",6),a._uU(8,"Volver"),a.qZA(),a.TgZ(9,"button",7),a._uU(10,"Agregar"),a.qZA()(),a.YNc(11,$F,2,0,"h5",8),a.YNc(12,GF,18,1,"table",9),a.qZA()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",0==r.articulos.length),a.xp6(1),a.Q6J("ngIf",r.articulos.length>0))},directives:[ni,fn,On],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border:1px}td[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{text-align:center}th[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})()},{path:"carrito",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-carrito"]],decls:201,vars:0,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet","integrity","sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN","crossorigin","anonymous"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","m-auto"],[1,"nav-item"],[1,"nav-link"],[1,"sr-only"],["routerLink","/registerUser",1,"nav-link"],[1,"form-inline","my-2","my-lg-0"],[1,"input-group","input-group-sm"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm","placeholder","Buscar...",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary","btn-number"],[1,"fa","fa-search"],["routerLink","/login-inicio",1,"btn","btn-success","btn-sm","ml-3"],["aria-hidden","true",1,"fa","fa-user-plus"],[1,"btn","btn-success","btn-sm","ml-3"],[1,"fa","fa-shopping-cart"],[1,"badge","badge-light"],[1,"container","mb-4"],[1,"row"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped"],[2,"background-color","rgb(255, 255, 255)"],["scope","col"],["color","black"],["scope","col",1,"text-center"],["scope","col",1,"text-right"],[2,"background-color","rgb(242, 242, 242)"],["src","./assets/Imagenes/Alergodex1.png"],["type","text","value","1",1,"form-control",2,"text-align","center"],[1,"text-right"],[1,"btn","btn-sm","btn-danger"],[1,"fa","fa-trash"],["src","./assets/Imagenes/Ciprofloxacina-250mg1.png"],["src","./assets/Imagenes/Cenit1.png"],[1,"col","mb-2"],[1,"col-sm-12","col-md-6"],[1,"btn","btn-lg","btn-block","btn-primary","text-uppercase"],[1,"col-sm-12","col-md-6","text-right"],[1,"btn","btn-lg","btn-block","btn-success","text-uppercase"],[1,"text-light"],[1,"col-md-3","col-lg-4","col-xl-3"],[1,"bg-white","mb-2","mt-0","d-inline-block","mx-auto","w-25"],[1,"mb-0"],[1,"col-md-4","col-lg-3","col-xl-3"],[1,"list-unstyled"],[1,"fa","fa-home","mr-2"],[1,"fa","fa-envelope","mr-2"],[1,"fa","fa-phone","mr-2"],[1,"fa","fa-print","mr-2"],["aria-hidden","true",1,"fa","fa-facebook-official","mr-2"],[1,"col-12","copyright","mt-3"],[1,"float-left"],[1,"text-right","text-muted"],[1,"fa","fa-heart"],["href","https://t-php.fr/43-theme-ecommerce-bootstrap-4.html"]],template:function(t,r){1&t&&(a._UZ(0,"link",0)(1,"link",1),a.TgZ(2,"nav",2)(3,"div",3)(4,"button",4),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),a._uU(10,"Inicio"),a.qZA()(),a.TgZ(11,"li",8)(12,"a",9),a._uU(13,"Categoria "),a.TgZ(14,"span",10),a._uU(15,"(current)"),a.qZA()()(),a.TgZ(16,"li",8)(17,"a",9),a._uU(18,"Articulo"),a.qZA()(),a.TgZ(19,"li",8)(20,"a",9),a._uU(21,"Contacto"),a.qZA()(),a.TgZ(22,"li",8)(23,"a",11),a._uU(24,"Registrarse"),a.qZA()()(),a.TgZ(25,"form",12)(26,"div",13),a._UZ(27,"input",14),a.TgZ(28,"div",15)(29,"button",16),a._UZ(30,"i",17),a.qZA(),a.TgZ(31,"a",18),a._UZ(32,"i"),a._uU(33," Sign Up "),a._UZ(34,"span",19),a.qZA()()(),a.TgZ(35,"a",20),a._UZ(36,"i",21),a._uU(37," Carro "),a._UZ(38,"span",22),a.qZA(),a.TgZ(39,"ul",7)(40,"li",8),a._UZ(41,"a",9),a.qZA()()()()()(),a.TgZ(42,"div",23)(43,"div",24)(44,"div",25)(45,"div",26)(46,"table",27)(47,"thead")(48,"tr",28),a._UZ(49,"th",29),a.TgZ(50,"th",29)(51,"font",30),a._uU(52,"Producto"),a.qZA()(),a.TgZ(53,"th",29)(54,"font",30),a._uU(55,"Disponibilidad"),a.qZA()(),a.TgZ(56,"th",31)(57,"font",30),a._uU(58,"Cantidad"),a.qZA()(),a.TgZ(59,"th",32)(60,"font",30),a._uU(61,"Precio"),a.qZA()(),a._UZ(62,"th"),a.qZA()(),a.TgZ(63,"tbody")(64,"tr",33)(65,"td"),a._UZ(66,"img",34),a.qZA(),a.TgZ(67,"td")(68,"font",30),a._uU(69,"Alergodex"),a.qZA()(),a.TgZ(70,"td")(71,"font",30),a._uU(72,"In stock"),a.qZA()(),a.TgZ(73,"td"),a._UZ(74,"input",35),a.qZA(),a.TgZ(75,"td",36)(76,"font",30),a._uU(77,"$ 23.000"),a.qZA()(),a.TgZ(78,"td",36)(79,"button",37),a._UZ(80,"i",38),a.qZA()()(),a.TgZ(81,"tr",28)(82,"td"),a._UZ(83,"img",39),a.qZA(),a.TgZ(84,"td")(85,"font",30),a._uU(86,"Ciprofloxacina-250mg"),a.qZA()(),a.TgZ(87,"td")(88,"font",30),a._uU(89,"In stock"),a.qZA()(),a.TgZ(90,"td"),a._UZ(91,"input",35),a.qZA(),a.TgZ(92,"td",36)(93,"font",30),a._uU(94,"$ 34.000"),a.qZA()(),a.TgZ(95,"td",36)(96,"button",37),a._UZ(97,"i",38),a.qZA()()(),a.TgZ(98,"tr",33)(99,"td"),a._UZ(100,"img",40),a.qZA(),a.TgZ(101,"td")(102,"font",30),a._uU(103,"Cenit"),a.qZA()(),a.TgZ(104,"td")(105,"font",30),a._uU(106,"In stock"),a.qZA()(),a.TgZ(107,"td"),a._UZ(108,"input",35),a.qZA(),a.TgZ(109,"td",36)(110,"font",30),a._uU(111,"$ 24.900"),a.qZA()(),a.TgZ(112,"td",36)(113,"button",37),a._UZ(114,"i",38),a.qZA()()(),a.TgZ(115,"tr",28),a._UZ(116,"td")(117,"td")(118,"td")(119,"td"),a.TgZ(120,"td")(121,"font",30),a._uU(122,"Sub-Total"),a.qZA()(),a.TgZ(123,"td",36)(124,"font",30),a._uU(125,"$ 66.012"),a.qZA()()(),a.TgZ(126,"tr",33),a._UZ(127,"td")(128,"td")(129,"td")(130,"td"),a.TgZ(131,"td")(132,"font",30),a._uU(133,"Iva"),a.qZA()(),a.TgZ(134,"td",36)(135,"font",30),a._uU(136,"$ 15.888"),a.qZA()()(),a.TgZ(137,"tr",28),a._UZ(138,"td")(139,"td")(140,"td")(141,"td"),a.TgZ(142,"td")(143,"strong")(144,"font",30),a._uU(145,"Total"),a.qZA()()(),a.TgZ(146,"td",36)(147,"strong")(148,"font",30),a._uU(149,"$ 81.900"),a.qZA()()()()()()()(),a.TgZ(150,"div",41)(151,"div",24)(152,"div",42)(153,"button",43),a._uU(154,"Continue Comprando"),a.qZA()(),a.TgZ(155,"div",44)(156,"button",45),a._uU(157,"Checkout"),a.qZA()()()()()(),a.TgZ(158,"footer",46)(159,"div",3)(160,"div",24)(161,"div",47)(162,"h5"),a._uU(163,"About"),a.qZA(),a._UZ(164,"hr",48),a.TgZ(165,"p",49),a._uU(166," Estamos comprometidos con el bienestar de tu mascota desde nuestro trabajo en la prevenci\xf3n, el acompa\xf1amiento al paciente en su recuperaci\xf3n y principalmente en la calidad en nuestros procedimientos m\xe9dicos de atenci\xf3n veterinaria. "),a.qZA()(),a.TgZ(167,"div",50)(168,"h5"),a._uU(169,"Contact"),a.qZA(),a._UZ(170,"hr",48),a.TgZ(171,"ul",51)(172,"li"),a._UZ(173,"i",52),a._uU(174," PocasPulgas."),a.qZA(),a.TgZ(175,"li"),a._UZ(176,"i",53),a._uU(177," vagutierrezv@uqvirtual.edu.co"),a.qZA(),a.TgZ(178,"li"),a._UZ(179,"i",54),a._uU(180," + 301 312 8934"),a.qZA(),a.TgZ(181,"li"),a._UZ(182,"i",55),a._uU(183," + 304 220 8737"),a.qZA(),a.TgZ(184,"li"),a._UZ(185,"i",56),a._uU(186," pocaspulgasaxm"),a.qZA()()(),a.TgZ(187,"div",57)(188,"p",58)(189,"a"),a._uU(190,"Ir Al Inicio"),a.qZA()(),a.TgZ(191,"p",59),a._uU(192,"Dise\xf1ado Por "),a._UZ(193,"i",60),a._uU(194," by "),a.TgZ(195,"a",61)(196,"i"),a._uU(197,"Victor Gutierrez"),a.qZA()(),a._uU(198," | "),a.TgZ(199,"span"),a._uU(200,"v. 1.0"),a.qZA()()()()()())},directives:[zf,Tr,Ii,_o],styles:[".bloc_left_price[_ngcontent-%COMP%]{color:#c01508;text-align:center;font-weight:700;font-size:150%}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#007bff}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.category_block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#343a40}.add_to_cart_block[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#c01508;text-align:center;font-weight:700;font-size:200%;margin-bottom:0}.add_to_cart_block[_ngcontent-%COMP%]   .price_discounted[_ngcontent-%COMP%]{color:#343a40;text-align:center;text-decoration:line-through;font-size:140%}.product_rassurance[_ngcontent-%COMP%]{padding:10px;margin-top:15px;background:#ffffff;border:1px solid #6c757d;color:#6c757d}.product_rassurance[_ngcontent-%COMP%]   .list-inline[_ngcontent-%COMP%]{margin-bottom:0;text-transform:uppercase;text-align:center}.product_rassurance[_ngcontent-%COMP%]   .list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#343a40}.reviews_product[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:gold}.pagination[_ngcontent-%COMP%]{margin-top:20px}footer[_ngcontent-%COMP%]{background:#343a40;padding:40px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa!important}"]}),n})()},{path:"list-empleado",component:$k},{path:"list-cliente",component:vF},{path:"list-mascota",component:AF},{path:"list-producto",component:NF},{path:"list-servicio",component:BF},{path:"create-articulo",component:mx},{path:"create-empleado",component:lx},{path:"create-cliente",component:fx},{path:"create-mascota",component:RD},{path:"create-mascota",component:RD},{path:"create-producto",component:px},{path:"create-servicio",component:gx},{path:"catalogo-producto",component:hx},{path:"login-inicio",component:dx},{path:"registerUser",component:sF},{path:"verificarCorreo",component:Xk},{path:"verificar-password",component:Jk},{path:"editArticulo/:id",component:mx},{path:"editEmpleado/:id",component:lx},{path:"editCliente/:id",component:fx},{path:"editMascota/:id",component:RD},{path:"editProducto/:id",component:px},{path:"editServicio/:id",component:gx},{path:"",redirectTo:"catalogo-producto",pathMatch:"full"},{path:"**",redirectTo:"catalogo-producto",pathMatch:"full"}];let WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[QM.forRoot(zF)],QM]}),n})(),KF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar2"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container"],["routerLink","/catalogo-producto",1,"navbar-brand","mb-0z","h1",2,"font-size","20pt"]],template:function(t,r){1&t&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),a._uU(3,"PocasPulgas"),a.qZA()()())},directives:[ni],styles:[""]}),n})(),YF=(()=>{class n{constructor(t){this.title="PocasPulgas"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(d0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navbar2")(1,"router-outlet")},directives:[KF,TD],styles:[""]}),n})();const yx_firebase={apiKey:"AIzaSyDMvp5O-uGBKHQNSo2XBv4gImsIFvoca4I",authDomain:"quizz-975f6.firebaseapp.com",projectId:"quizz-975f6",storageBucket:"quizz-975f6.appspot.com",messagingSenderId:"48601949989",appId:"1:48601949989:web:9452735d7cb3d33a92dccc"};var JF=M(655),_x=M(6148);function XF(n){return new Os.y(function(e){return{unsubscribe:(0,cx.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class UC{constructor(e){return e}}const sL=(0,xn.u3)(XF,!0);class A0{constructor(e){return e}}const bx=xn.nk.async,aL=(0,xn.u3)(_x.Kz,!0),uL=(0,xn.u3)(_x.Iv,!0);let wx=(()=>{class n{constructor(t,r,i){let l;this.disposables=[],(0,Bp.KN)("angularfire",xn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{l=d})),bx().then(()=>{const d=i.get(A0);d?this.disposables=[sL(t).subscribe(f=>{uL(d,null==f?void 0:f.uid),l()})]:l()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(UC),a.LFG(a.R0b),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Cx="firebase_screen_id",FD="outlet",D0="screen_class",Tx="screen_name";let EL=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const LD={},bL=n=>{const e=[n[D0],n[FD]].join("#");if(LD.hasOwnProperty(e))return LD[e];{const t=EL++;return LD[e]=t,t}};let CL=(()=>{class n{constructor(t,r,i,l,d,f){(0,Bp.KN)("angularfire",xn.q4.full,"screen-tracking"),bx().then(()=>{const _=f.get(A0);!t||!_||l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(js(i=>i instanceof nM)).pipe(ai(i=>{var l;const f=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,H=>H.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===l?void 0:l.toString())||"",_=n.routerState.root.children.map(H=>H).find(H=>H.outlet===i.snapshot.outlet);if(!_)return gt(null);let w=_;for(;w.firstChild;)w=w.firstChild;const I=w.pathFromRoot.map(H=>{var Y;return null===(Y=H.routeConfig)||void 0===Y?void 0:Y.path}).filter(H=>H).join("/")||"/",S={[Tx]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[FD]:i.snapshot.outlet};e&&(S.page_title=e.getTitle());let F=_.component;if(F){if(F===ID){let H=i.snapshot;for(;H.firstChild;)H=H.firstChild;F=H.component}}else F=i.snapshot.component;if("string"==typeof F)return gt(Object.assign(Object.assign({},S),{[D0]:F}));if(F){const H=t.resolveComponentFactory(F);return gt(Object.assign(Object.assign({},S),{[D0]:H.selector}))}return gt(null)}),js(i=>!!i),(0,kt.U)(i=>Object.assign({firebase_screen_class:i[D0],[Cx]:bL(i)},i)),function QF(n,e,t,r){return(0,Ui.e)((i,l)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const f=new Map,_=Y=>{f.forEach(Y),Y(l)},w=Y=>_(ge=>ge.error(Y));let I=0,S=!1;const F=new Jr.Q(l,Y=>{try{const ge=n(Y);let $e=f.get(ge);if(!$e){f.set(ge,$e=r?r():new oi.x);const bt=function H(Y,ge){const $e=new Os.y(bt=>{I++;const vt=ge.subscribe(bt);return()=>{vt.unsubscribe(),0==--I&&S&&F.unsubscribe()}});return $e.key=Y,$e}(ge,$e);if(l.next(bt),t){const vt=(0,Jr.x)($e,()=>{$e.complete(),null==vt||vt.unsubscribe()},void 0,void 0,()=>f.delete(ge));F.add((0,Ga.Xf)(t(bt)).subscribe(vt))}}$e.next(d?d(Y):Y)}catch(ge){w(ge)}},()=>_(Y=>Y.complete()),w,()=>f.clear(),()=>(S=!0,0===I));i.subscribe(F)})}(i=>i[FD]),(0,Ri.z)(i=>i.pipe(sl((l,d)=>JSON.stringify(l)===JSON.stringify(d)),_h(void 0),su(),(0,kt.U)(([l,d])=>l?Object.assign({firebase_previous_class:l[D0],firebase_previous_screen:l[Tx],firebase_previous_id:l[Cx]},d):d)))))(t,r,i).pipe(ai(w=>(0,JF.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),aL(_,"screen_view",w)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Er,8),a.LFG(Fu,8),a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(wx,8),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const yn=!1;function Ix(n){return new a.vHH(3e3,yn)}function o2(){return"undefined"!=typeof window&&void 0!==window.document}function VD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yd(n){switch(n.length){case 0:return new I0;case 1:return n[0];default:return new sx(n)}}function Ax(n,e,t,r,i={},l={}){const d=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const S=I.offset,F=S==_,H=F&&w||{};Object.keys(I).forEach(Y=>{let ge=Y,$e=I[Y];if("offset"!==Y)switch(ge=e.normalizePropertyName(ge,d),$e){case"!":$e=i[Y];break;case Ll:$e=l[Y];break;default:$e=e.normalizeStyleValue(Y,ge,$e,d)}H[ge]=$e}),F||f.push(H),w=H,_=S}),d.length)throw function KL(n){return new a.vHH(3502,yn)}();return f}function BD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&jD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&jD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&jD(t,"destroy",n)))}}function jD(n,e,t){const r=t.totalTime,l=ZD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function ZD(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function Xs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Dx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let $D=(n,e)=>!1,Sx=(n,e,t)=>[],Mx=null;function qD(n){const e=n.parentNode||n.host;return e===Mx?null:e}(VD()||"undefined"!=typeof Element)&&(o2()?(Mx=(()=>document.documentElement)(),$D=(n,e)=>{for(;e;){if(e===n)return!0;e=qD(e)}return!1}):$D=(n,e)=>n.contains(e),Sx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Kf=null,xx=!1;function Nx(n){Kf||(Kf=function u2(){return"undefined"!=typeof document?document.body:null}()||{},xx=!!Kf.style&&"WebkitAppearance"in Kf.style);let e=!0;return Kf.style&&!function a2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kf.style,!e&&xx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Kf.style)),e}const Px=$D,Ox=Sx;let Rx=(()=>{class n{validateStyleProperty(t){return Nx(t)}matchesElement(t,r){return!1}containsElement(t,r){return Px(t,r)}getParentElement(t){return qD(t)}query(t,r,i){return Ox(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,f=[],_){return new I0(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),HD=(()=>{class n{}return n.NOOP=new Rx,n})();const GD="ng-enter",BC="ng-leave",jC="ng-trigger",ZC=".ng-trigger",Fx="ng-animating",zD=".ng-animating";function Yf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WD(parseFloat(e[1]),e[2])}function WD(n,e){return"s"===e?1e3*n:n}function $C(n,e,t){return n.hasOwnProperty("duration")?n:function d2(n,e,t){let i,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Ix()),{duration:0,delay:0,easing:""};i=WD(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=WD(parseFloat(_),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function DL(){return new a.vHH(3100,yn)}()),f=!0),l<0&&(e.push(function SL(){return new a.vHH(3101,yn)}()),f=!0),f&&e.splice(_,0,Ix())}return{duration:i,delay:l,easing:d}}(n,e,t)}function Vm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _d(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Vm(n,t);return t}function Ux(n,e,t){return t?e+":"+t+";":""}function Vx(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Ux(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ux(0,p2(t),n.style[t]));n.setAttribute("style",e)}function Mu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=YD(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),VD()&&Vx(n))}function Qf(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=YD(t);n.style[r]=""}),VD()&&Vx(n))}function S0(n){return Array.isArray(n)?1==n.length?n[0]:nx(n):n}const KD=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bx(n){let e=[];if("string"==typeof n){let t;for(;t=KD.exec(n);)e.push(t[1]);KD.lastIndex=0}return e}function qC(n,e,t){const r=n.toString(),i=r.replace(KD,(l,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function xL(n){return new a.vHH(3003,yn)}()),f=""),f.toString()});return i==r?n:i}function HC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f2=/-+([a-z0-9])/g;function YD(n){return n.replace(f2,(...e)=>e[1].toUpperCase())}function p2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function NL(n){return new a.vHH(3004,yn)}()}}function jx(n,e){return window.getComputedStyle(n)[e]}function E2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function b2(n,e,t){if(":"==n[0]){const _=function w2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function HL(n){return new a.vHH(3016,yn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function qL(n){return new a.vHH(3015,yn)}()),e;const i=r[1],l=r[2],d=r[3];e.push(Zx(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(Zx(d,i))}(r,t,e)):t.push(n),t}const KC=new Set(["true","1"]),YC=new Set(["false","0"]);function Zx(n,e){const t=KC.has(n)||YC.has(n),r=KC.has(e)||YC.has(e);return(i,l)=>{let d="*"==n||n==i,f="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?KC.has(n):YC.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?KC.has(e):YC.has(e)),d&&f}}const C2=new RegExp("s*:selfs*,?","g");function QD(n,e,t,r){return new T2(n).build(e,t,r)}class T2{constructor(e){this._driver=e}build(e,t,r){const i=new D2(t);this._resetContextStyleTimingState(i);const l=eo(this,S0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function OL(){return new a.vHH(3006,yn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,l.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push(function RL(){return new a.vHH(3007,yn)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};r.styles.forEach(f=>{if(QC(f)){const _=f;Object.keys(_).forEach(w=>{Bx(_[w]).forEach(I=>{d.hasOwnProperty(I)||l.add(I)})})}}),l.size&&(HC(l.values()),t.errors.push(function kL(n,e){return new a.vHH(3008,yn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=eo(this,S0(e.animation),t);return{type:1,matchers:E2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>eo(this,r,t)),options:Jf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const f=eo(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:Jf(e.options)}}visitAnimate(e,t){const r=function M2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JD($C(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=JD(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=$C(t,e);return JD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:T0({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=T0(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Ll?r.push(d):t.errors.push(function FL(n){return new a.vHH(3002,yn)}()):r.push(d)}):r.push(e.styles);let i=!1,l=null;return r.forEach(d=>{if(QC(d)){const f=d,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(l!=i&&l>=w.startTime&&i<=w.endTime&&(t.errors.push(function LL(n,e,t,r,i){return new a.vHH(3010,yn)}()),I=!1),l=w.startTime),I&&(_[f]={startTime:l,endTime:i}),t.options&&function h2(n,e,t){const r=e.params||{},i=Bx(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function ML(n){return new a.vHH(3001,yn)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function UL(){return new a.vHH(3011,yn)}()),r;let l=0;const d=[];let f=!1,_=!1,w=0;const I=e.steps.map(bt=>{const vt=this._makeStyleAst(bt,t);let Nt=null!=vt.offset?vt.offset:function S2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(QC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(QC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(vt.styles),Ct=0;return null!=Nt&&(l++,Ct=vt.offset=Nt),_=_||Ct<0||Ct>1,f=f||Ct<w,w=Ct,d.push(Ct),vt});_&&t.errors.push(function VL(){return new a.vHH(3012,yn)}()),f&&t.errors.push(function BL(){return new a.vHH(3200,yn)}());const S=e.steps.length;let F=0;l>0&&l<S?t.errors.push(function jL(){return new a.vHH(3202,yn)}()):0==l&&(F=1/(S-1));const H=S-1,Y=t.currentTime,ge=t.currentAnimateTimings,$e=ge.duration;return I.forEach((bt,vt)=>{const Nt=F>0?vt==H?1:F*vt:d[vt],Ct=Nt*$e;t.currentTime=Y+ge.delay+Ct,ge.duration=Ct,this._validateStyleAst(bt,t),bt.offset=Nt,r.styles.push(bt)}),r}visitReference(e,t){return{type:8,animation:eo(this,S0(e.animation),t),options:Jf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function I2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(C2,"")),n=n.replace(/@\*/g,ZC).replace(/@\w+/g,t=>ZC+"-"+t.substr(1)).replace(/:animating/g,zD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Xs(t.collectedStyles,t.currentQuerySelector,{});const f=eo(this,S0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Jf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ZL(){return new a.vHH(3013,yn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$C(e.timings,t.errors,!0);return{type:12,animation:eo(this,S0(e.animation),t),timings:r,options:null}}}class D2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function QC(n){return!Array.isArray(n)&&"object"==typeof n}function Jf(n){return n?(n=Vm(n)).params&&(n.params=function A2(n){return n?Vm(n):null}(n.params)):n={},n}function JD(n,e,t){return{duration:n,delay:e,easing:t}}function XD(n,e,t,r,i,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:f}}class JC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const P2=new RegExp(":enter","g"),R2=new RegExp(":leave","g");function eS(n,e,t,r,i,l={},d={},f,_,w=[]){return(new k2).buildKeyframes(n,e,t,r,i,l,d,f,_,w)}class k2{buildKeyframes(e,t,r,i,l,d,f,_,w,I=[]){w=w||new JC;const S=new tS(e,t,w,i,l,I,[]);S.options=_,S.currentTimeline.setStyles([d],null,S.errors,_),eo(this,r,S);const F=S.timelines.filter(H=>H.containsAnimation());if(Object.keys(f).length){let H;for(let Y=F.length-1;Y>=0;Y--){const ge=F[Y];if(ge.element===t){H=ge;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,S.errors,_)}return F.length?F.map(H=>H.buildKeyframes()):[XD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?Yf(r.duration):null,f=null!=r.delay?Yf(r.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,f);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=XC);const d=Yf(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>eo(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Yf(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),eo(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $C(t.params?qC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Yf(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=XC);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const S=t.createSubContext(e.options,w);l&&S.delayNextStep(l),w===t.element&&(_=S.currentTimeline),eo(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const S=I.currentTime;eo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const XC={};class tS{constructor(e,t,r,i,l,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new eT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Yf(r.duration)),null!=r.delay&&(i.delay=Yf(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=qC(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new tS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=XC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new F2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(P2,"."+this._enterClassName)).replace(R2,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!l&&0==f.length&&d.push(function $L(n){return new a.vHH(3014,yn)}()),f}}class eT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new eT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ll,this._currentKeyframe[t]=Ll}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},d=function L2(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Ll})):_d(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=qC(d[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ll),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=_d(f,!0);Object.keys(w).forEach(I=>{const S=w[I];"!"==S?e.add(I):S==Ll&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const l=e.size?HC(e.values()):[],d=t.size?HC(t.values()):[];if(r){const f=i[0],_=Vm(f);f.offset=0,_.offset=1,i=[f,_]}return XD(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class F2 extends eT{constructor(e,t,r,i,l,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,f=t/d,_=_d(e[0],!1);_.offset=0,l.push(_);const w=_d(e[0],!1);w.offset=Hx(f),l.push(w);const I=e.length-1;for(let S=1;S<=I;S++){let F=_d(e[S],!1);F.offset=Hx((t+F.offset*r)/d),l.push(F)}r=d,t=0,i="",e=l}return XD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Hx(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nS{}class U2 extends nS{normalizePropertyName(e,t){return YD(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if(V2[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function PL(n,e){return new a.vHH(3005,yn)}())}return d+l}}const V2=(()=>function B2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Gx(n,e,t,r,i,l,d,f,_,w,I,S,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:S,errors:F}}const rS={};class zx{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function j2(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,i,l,d,f,_,w,I){const S=[],F=this.ast.options&&this.ast.options.params||rS,Y=this.buildStyles(r,f&&f.params||rS,S),ge=_&&_.params||rS,$e=this.buildStyles(i,ge,S),bt=new Set,vt=new Map,Nt=new Map,Ct="void"===i,Qt={params:Object.assign(Object.assign({},F),ge)},on=I?[]:eS(e,t,this.ast.animation,l,d,Y,$e,Qt,w,S);let Sn=0;if(on.forEach(Ul=>{Sn=Math.max(Ul.duration+Ul.delay,Sn)}),S.length)return Gx(t,this._triggerName,r,i,Ct,Y,$e,[],[],vt,Nt,Sn,S);on.forEach(Ul=>{const Vl=Ul.element,lN=Xs(vt,Vl,{});Ul.preStyleProps.forEach(Xf=>lN[Xf]=!0);const x0=Xs(Nt,Vl,{});Ul.postStyleProps.forEach(Xf=>x0[Xf]=!0),Vl!==t&&bt.add(Vl)});const is=HC(bt.values());return Gx(t,this._triggerName,r,i,Ct,Y,$e,on,is,vt,Nt,Sn)}}class Z2{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Vm(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(i[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=qC(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class q2{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Z2(i.style,i.options&&i.options.params||{},r)}),Wx(this.states,"true","1"),Wx(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new zx(e,i,this.states))}),this.fallbackTransition=function H2(n,e,t){return new zx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Wx(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const G2=new JC;class z2{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=QD(this._driver,t,r,[]);if(r.length)throw function YL(n){return new a.vHH(3503,yn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=Ax(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let d;const f=new Map;if(l?(d=eS(this._driver,t,l,GD,BC,{},{},r,G2,i),d.forEach(I=>{const S=Xs(f,I.element,{});I.postStyleProps.forEach(F=>S[F]=null)})):(i.push(function QL(){return new a.vHH(3300,yn)}()),d=[]),i.length)throw function JL(n){return new a.vHH(3504,yn)}();f.forEach((I,S)=>{Object.keys(I).forEach(F=>{I[F]=this._driver.computeStyle(S,F,Ll)})});const w=yd(d.map(I=>{const S=f.get(I.element);return this._buildPlayer(I,{},S)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function XL(n){return new a.vHH(3301,yn)}();return t}listen(e,t,r,i){const l=ZD(t,"","","");return BD(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Kx="ng-animate-queued",iS="ng-animate-disabled",J2=[],Yx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed";class sS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rU(n){return null!=n?n:null}(r?e.value:e),r){const l=Vm(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const M0="void",oS=new sS(M0);class eU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Lo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function e2(n,e){return new a.vHH(3302,yn)}();if(null==r||0==r.length)throw function t2(n){return new a.vHH(3303,yn)}();if(!function iU(n){return"start"==n||"done"==n}(r))throw function n2(n,e){return new a.vHH(3400,yn)}();const l=Xs(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const f=Xs(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Lo(e,jC),Lo(e,jC+"-"+t),f[t]=oS),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function r2(n){return new a.vHH(3401,yn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new aS(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Lo(e,jC),Lo(e,jC+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new sS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=oS),w.value!==M0&&_.value===w.value){if(!function aU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,w.params)){const ge=[],$e=l.matchStyles(_.value,_.params,ge),bt=l.matchStyles(w.value,w.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{Qf(e,$e),Mu(e,bt)})}return}const F=Xs(this._engine.playersByElement,e,[]);F.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==t&&ge.queued&&ge.destroy()});let H=l.matchTransition(_.value,w.value,e,w.params),Y=!1;if(!H){if(!i)return;H=l.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:_,toState:w,player:d,isFallbackTransition:Y}),Y||(Lo(e,Kx),d.onStart(()=>{Bm(e,Kx)})),d.onDone(()=>{let ge=this.players.indexOf(d);ge>=0&&this.players.splice(ge,1);const $e=this._engine.playersByElement.get(e);if($e){let bt=$e.indexOf(d);bt>=0&&$e.splice(bt,1)}}),this.players.push(d),F.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ZC,!0);r.forEach(i=>{if(i[Fo])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(d.set(_,l[_].value),this._triggers[_]){const w=this.trigger(e,_,M0,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&yd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,w=r[d]||oS,I=new sS(M0),S=new aS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:I,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Fo];(!l||l===Yx)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Lo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=ZD(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,BD(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class tU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const d=r[i[l]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(tT(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!tT(t))return;const l=t[Fo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Lo(e,iS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bm(e,iS))}removeNode(e,t,r,i){if(tT(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Fo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return tT(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,ZC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,zD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yd(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Fo];if(r&&r.setForRemoval){if(e[Fo]=Yx,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(iS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Lo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?yd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function i2(n){return new a.vHH(3402,yn)}()}_flushAnimations(e,t){const r=new JC,i=[],l=new Map,d=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(wt=>{I.add(wt);const Pt=this.driver.query(wt,".ng-animate-queued",!0);for(let Zt=0;Zt<Pt.length;Zt++)I.add(Pt[Zt])});const S=this.bodyNode,F=Array.from(this.statesByElement.keys()),H=Xx(F,this.collectedEnterElements),Y=new Map;let ge=0;H.forEach((wt,Pt)=>{const Zt=GD+ge++;Y.set(Pt,Zt),wt.forEach(Tn=>Lo(Tn,Zt))});const $e=[],bt=new Set,vt=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Pt=this.collectedLeaveElements[wt],Zt=Pt[Fo];Zt&&Zt.setForRemoval&&($e.push(Pt),bt.add(Pt),Zt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Tn=>bt.add(Tn)):vt.add(Pt))}const Nt=new Map,Ct=Xx(F,Array.from(bt));Ct.forEach((wt,Pt)=>{const Zt=BC+ge++;Nt.set(Pt,Zt),wt.forEach(Tn=>Lo(Tn,Zt))}),e.push(()=>{H.forEach((wt,Pt)=>{const Zt=Y.get(Pt);wt.forEach(Tn=>Bm(Tn,Zt))}),Ct.forEach((wt,Pt)=>{const Zt=Nt.get(Pt);wt.forEach(Tn=>Bm(Tn,Zt))}),$e.forEach(wt=>{this.processLeaveNode(wt)})});const Qt=[],on=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Zt=>{const Tn=Zt.player,wi=Zt.element;if(Qt.push(Tn),this.collectedEnterElements.length){const ss=wi[Fo];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(Zt.triggerName)){const ep=ss.previousTriggersValues.get(Zt.triggerName),Ed=this.statesByElement.get(Zt.element);Ed&&Ed[Zt.triggerName]&&(Ed[Zt.triggerName].value=ep)}return void Tn.destroy()}}const xu=!S||!this.driver.containsElement(S,wi),to=Nt.get(wi),vd=Y.get(wi),Sr=this._buildInstruction(Zt,r,vd,to,xu);if(Sr.errors&&Sr.errors.length)return void on.push(Sr);if(xu)return Tn.onStart(()=>Qf(wi,Sr.fromStyles)),Tn.onDestroy(()=>Mu(wi,Sr.toStyles)),void i.push(Tn);if(Zt.isFallbackTransition)return Tn.onStart(()=>Qf(wi,Sr.fromStyles)),Tn.onDestroy(()=>Mu(wi,Sr.toStyles)),void i.push(Tn);const hN=[];Sr.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||hN.push(ss)}),Sr.timelines=hN,r.append(wi,Sr.timelines),d.push({instruction:Sr,player:Tn,element:wi}),Sr.queriedElements.forEach(ss=>Xs(f,ss,[]).push(Tn)),Sr.preStyleProps.forEach((ss,ep)=>{const Ed=Object.keys(ss);if(Ed.length){let tp=_.get(ep);tp||_.set(ep,tp=new Set),Ed.forEach(lS=>tp.add(lS))}}),Sr.postStyleProps.forEach((ss,ep)=>{const Ed=Object.keys(ss);let tp=w.get(ep);tp||w.set(ep,tp=new Set),Ed.forEach(lS=>tp.add(lS))})});if(on.length){const wt=[];on.forEach(Pt=>{wt.push(function s2(n,e){return new a.vHH(3505,yn)}())}),Qt.forEach(Pt=>Pt.destroy()),this.reportError(wt)}const Sn=new Map,is=new Map;d.forEach(wt=>{const Pt=wt.element;r.has(Pt)&&(is.set(Pt,Pt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,Sn))}),i.forEach(wt=>{const Pt=wt.element;this._getPreviousPlayers(Pt,!1,wt.namespaceId,wt.triggerName,null).forEach(Tn=>{Xs(Sn,Pt,[]).push(Tn),Tn.destroy()})});const Ul=$e.filter(wt=>tN(wt,_,w)),Vl=new Map;Jx(Vl,this.driver,vt,w,Ll).forEach(wt=>{tN(wt,_,w)&&Ul.push(wt)});const x0=new Map;H.forEach((wt,Pt)=>{Jx(x0,this.driver,new Set(wt),_,"!")}),Ul.forEach(wt=>{const Pt=Vl.get(wt),Zt=x0.get(wt);Vl.set(wt,Object.assign(Object.assign({},Pt),Zt))});const Xf=[],cN=[],dN={};d.forEach(wt=>{const{element:Pt,player:Zt,instruction:Tn}=wt;if(r.has(Pt)){if(I.has(Pt))return Zt.onDestroy(()=>Mu(Pt,Tn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Tn.totalTime),void i.push(Zt);let wi=dN;if(is.size>1){let to=Pt;const vd=[];for(;to=to.parentNode;){const Sr=is.get(to);if(Sr){wi=Sr;break}vd.push(to)}vd.forEach(Sr=>is.set(Sr,wi))}const xu=this._buildAnimation(Zt.namespaceId,Tn,Sn,l,x0,Vl);if(Zt.setRealPlayer(xu),wi===dN)Xf.push(Zt);else{const to=this.playersByElement.get(wi);to&&to.length&&(Zt.parentPlayer=yd(to)),i.push(Zt)}}else Qf(Pt,Tn.fromStyles),Zt.onDestroy(()=>Mu(Pt,Tn.toStyles)),cN.push(Zt),I.has(Pt)&&i.push(Zt)}),cN.forEach(wt=>{const Pt=l.get(wt.element);if(Pt&&Pt.length){const Zt=yd(Pt);wt.setRealPlayer(Zt)}}),i.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<$e.length;wt++){const Pt=$e[wt],Zt=Pt[Fo];if(Bm(Pt,BC),Zt&&Zt.hasAnimation)continue;let Tn=[];if(f.size){let xu=f.get(Pt);xu&&xu.length&&Tn.push(...xu);let to=this.driver.query(Pt,zD,!0);for(let vd=0;vd<to.length;vd++){let Sr=f.get(to[vd]);Sr&&Sr.length&&Tn.push(...Sr)}}const wi=Tn.filter(xu=>!xu.destroyed);wi.length?sU(this,Pt,wi):this.processLeaveNode(Pt)}return $e.length=0,Xf.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Pt=this.players.indexOf(wt);this.players.splice(Pt,1)}),wt.play()}),Xf}elementContainsData(e,t){let r=!1;const i=t[Fo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==M0;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==l,S=Xs(r,w,[]);this._getPreviousPlayers(w,I,d,f,t.toState).forEach(H=>{const Y=H.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),H.destroy(),S.push(H)})}Qf(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const f=t.triggerName,_=t.element,w=[],I=new Set,S=new Set,F=t.timelines.map(Y=>{const ge=Y.element;I.add(ge);const $e=ge[Fo];if($e&&$e.removedBeforeQueried)return new I0(Y.duration,Y.delay);const bt=ge!==_,vt=function oU(n){const e=[];return eN(n,e),e}((r.get(ge)||J2).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===ge),Nt=l.get(ge),Ct=d.get(ge),Qt=Ax(0,this._normalizer,0,Y.keyframes,Nt,Ct),on=this._buildPlayer(Y,Qt,vt);if(Y.subTimeline&&i&&S.add(ge),bt){const Sn=new aS(e,f,ge);Sn.setRealPlayer(on),w.push(Sn)}return on});w.forEach(Y=>{Xs(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function nU(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Y.element,Y))}),I.forEach(Y=>Lo(Y,Fx));const H=yd(F);return H.onDestroy(()=>{I.forEach(Y=>Bm(Y,Fx)),Mu(_,t.toStyles)}),S.forEach(Y=>{Xs(i,Y,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new I0(e.duration,e.delay)}}class aS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new I0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>BD(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tT(n){return n&&1===n.nodeType}function Qx(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Jx(n,e,t,r,i){const l=[];t.forEach(_=>l.push(Qx(_)));const d=[];r.forEach((_,w)=>{const I={};_.forEach(S=>{const F=I[S]=e.computeStyle(w,S,i);(!F||0==F.length)&&(w[Fo]=X2,d.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>Qx(_,l[f++])),d}function Xx(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(f){if(!f)return 1;let _=l.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:d(w),l.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Lo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Bm(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function sU(n,e,t){yd(t).onDone(()=>n.processLeaveNode(e))}function eN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof sx?eN(r.players,e):e.push(r)}}function tN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class nT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new tU(e,t,r),this._timelineEngine=new z2(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],I=QD(this._driver,l,_,[]);if(_.length)throw function WL(n,e){return new a.vHH(3404,yn)}();f=function $2(n,e,t){return new q2(n,e,t)}(i,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=Dx(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,f]=Dx(r);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Mu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mu(this._element,this._initialStyles),this._endStyles&&(Mu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qf(this._element,this._endStyles),this._endStyles=null),Mu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];cU(i)&&(e=e||{},e[i]=n[i])}return e}function cU(n){return"display"===n||"position"===n}class nN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:jx(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dU{validateStyleProperty(e){return Nx(e)}matchesElement(e,t){return!1}containsElement(e,t){return Px(e,t)}getParentElement(e){return qD(e)}query(e,t,r){return Ox(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,d=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const w={},I=d.filter(F=>F instanceof nN);(function g2(n,e){return 0===n||0===e})(r,i)&&I.forEach(F=>{let H=F.currentSnapshot;Object.keys(H).forEach(Y=>w[Y]=H[Y])}),t=function m2(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(f=>{l.hasOwnProperty(f)||d.push(f),l[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=jx(n,_)})}}return e}(e,t=t.map(F=>_d(F,!1)),w);const S=function uU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=uS(e[0]),e.length>1&&(r=uS(e[e.length-1]))):e&&(t=uS(e)),t||r?new lU(n,t,r):null}(e,t);return new nN(e,t,_,S)}}let hU=(()=>{class n extends ex{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?nx(t):t;return rN(this._renderer,null,r,"register",[i]),new fU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ue))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class fU extends class dk{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pU(this._id,e,t||{},this._renderer)}}class pU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function rN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const iN="@.disabled";let gU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const f=null==d?void 0:d.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(l);return I||(I=new sN("",l,this.engine),this._rendererCache.set(l,I)),I}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,f,t,I.name,I)};return r.data.animation.forEach(_),new mU(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(nT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class sN{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mU extends sN{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function _U(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let vU=(()=>{class n extends nT{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ue),a.LFG(HD),a.LFG(nS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const oN=new a.OlP("AnimationModuleType"),aN=[{provide:ex,useClass:hU},{provide:nS,useFactory:function EU(){return new U2}},{provide:nT,useClass:vU},{provide:a.FYo,useFactory:function bU(n,e,t){return new gU(n,e,t)},deps:[Fi,nT,a.R0b]}],uN=[{provide:HD,useFactory:()=>new dU},{provide:oN,useValue:"BrowserAnimations"},...aN],wU=[{provide:HD,useClass:Rx},{provide:oN,useValue:"NoopAnimations"},...aN];let CU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?wU:uN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:uN,imports:[zl]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[YF]}),n.\u0275inj=a.cJS({providers:[CL,wx,Qi,Is,Vi.hO,d0],imports:[[zl,fS,WF,Vi.hO,Vi.hO.initializeApp(yx_firebase),LT,Xu,kk.forRoot(),CU,tO,Xu]]}),n})();(0,a.G48)(),Gm().bootstrapModule(TU).catch(n=>console.error(n))},6148:(at,De,M)=>{M.d(De,{Gb:()=>Ut,Kz:()=>W,Iv:()=>ln});var a=M(5861),k=M(9681),x=M(1877),oe=M(2090),fe=M(4859);M(2833);const ue="analytics",ce="firebase_id",j="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",se="https://www.googletagmanager.com/gtag/js",qe=new x.Yd("@firebase/analytics");function Ae(B){return Promise.all(B.map(te=>te.catch(ve=>ve)))}function Ve(B,te){const ve=document.createElement("script");ve.src=`${se}?l=${B}&id=${te}`,ve.async=!0,document.head.appendChild(ve)}function ye(B,te,ve,Ue,We,Ge){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(B,te,ve,Ue,We,Ge){const ft=Ue[We];try{if(ft)yield te[ft];else{const Z=(yield Ae(ve)).find(U=>U.measurementId===We);Z&&(yield te[Z.appId])}}catch(J){qe.error(J)}B("config",We,Ge)})).apply(this,arguments)}function rt(B,te,ve,Ue,We){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(B,te,ve,Ue,We){try{let Ge=[];if(We&&We.send_to){let ft=We.send_to;Array.isArray(ft)||(ft=[ft]);const J=yield Ae(ve);for(const Z of ft){const U=J.find(Xe=>Xe.measurementId===Z),Me=U&&te[U.appId];if(!Me){Ge=[];break}Ge.push(Me)}}0===Ge.length&&(Ge=Object.values(te)),yield Promise.all(Ge),B("event",Ue,We||{})}catch(Ge){qe.error(Ge)}})).apply(this,arguments)}function Ie(){const B=window.document.getElementsByTagName("script");for(const te of Object.values(B))if(te.src&&te.src.includes(se))return te;return null}const X=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),re=new class Q{constructor(te={},ve=1e3){this.throttleMetadata=te,this.intervalMillis=ve}getThrottleMetadata(te){return this.throttleMetadata[te]}setThrottleMetadata(te,ve){this.throttleMetadata[te]=ve}deleteThrottleMetadata(te){delete this.throttleMetadata[te]}};function ae(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function _e(B){return le.apply(this,arguments)}function le(){return(le=(0,a.Z)(function*(B){var te;const{appId:ve,apiKey:Ue}=B,We={method:"GET",headers:ae(Ue)},Ge=j.replace("{app-id}",ve),ft=yield fetch(Ge,We);if(200!==ft.status&&304!==ft.status){let J="";try{const Z=yield ft.json();(null===(te=Z.error)||void 0===te?void 0:te.message)&&(J=Z.error.message)}catch(Z){}throw X.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:J})}return ft.json()})).apply(this,arguments)}function je(B){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(B,te=re,ve){const{appId:Ue,apiKey:We,measurementId:Ge}=B.options;if(!Ue)throw X.create("no-app-id");if(!We){if(Ge)return{measurementId:Ge,appId:Ue};throw X.create("no-api-key")}const ft=te.getThrottleMetadata(Ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},J=new Xn;return setTimeout((0,a.Z)(function*(){J.abort()}),void 0!==ve?ve:6e4),Jt({appId:Ue,apiKey:We,measurementId:Ge},ft,J,te)})).apply(this,arguments)}function Jt(B,te,ve){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(B,{throttleEndTimeMillis:te,backoffCount:ve},Ue,We=re){const{appId:Ge,measurementId:ft}=B;try{yield Je(Ue,te)}catch(J){if(ft)return qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${J.message}]`),{appId:Ge,measurementId:ft};throw J}try{const J=yield _e(B);return We.deleteThrottleMetadata(Ge),J}catch(J){if(!cn(J)){if(We.deleteThrottleMetadata(Ge),ft)return qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${J.message}]`),{appId:Ge,measurementId:ft};throw J}const Z=503===Number(J.customData.httpStatus)?(0,oe.$s)(ve,We.intervalMillis,30):(0,oe.$s)(ve,We.intervalMillis),U={throttleEndTimeMillis:Date.now()+Z,backoffCount:ve+1};return We.setThrottleMetadata(Ge,U),qe.debug(`Calling attemptFetch again in ${Z} millis`),Jt(B,U,Ue,We)}})).apply(this,arguments)}function Je(B,te){return new Promise((ve,Ue)=>{const We=Math.max(te-Date.now(),0),Ge=setTimeout(ve,We);B.addEventListener(()=>{clearTimeout(Ge),Ue(X.create("fetch-throttle",{throttleEndTimeMillis:te}))})})}function cn(B){if(!(B instanceof oe.ZR&&B.customData))return!1;const te=Number(B.customData.httpStatus);return 429===te||500===te||503===te||504===te}class Xn{constructor(){this.listeners=[]}addEventListener(te){this.listeners.push(te)}abort(){this.listeners.forEach(te=>te())}}function In(){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(){if(!(0,oe.hl)())return qe.warn(X.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(B){return qe.warn(X.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(B,te,ve,Ue,We,Ge,ft){var J;const Z=je(B);Z.then(It=>{ve[It.measurementId]=It.appId,B.options.measurementId&&It.measurementId!==B.options.measurementId&&qe.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${It.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(It=>qe.error(It)),te.push(Z);const U=In().then(It=>{if(It)return Ue.getId()}),[Me,Xe]=yield Promise.all([Z,U]);Ie()||Ve(Ge,Me.measurementId),We("js",new Date);const ut=null!==(J=null==ft?void 0:ft.config)&&void 0!==J?J:{};return ut.origin="firebase",ut.update=!0,null!=Xe&&(ut[ce]=Xe),We("config",Me.measurementId,ut),Me.measurementId})).apply(this,arguments)}class un{constructor(te){this.app=te}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},Hr=[];const bn={};let fr,Vn,jn="dataLayer",pr=!1;function an(B,te,ve){!function or(){const B=[];if((0,oe.ru)()&&B.push("This is a browser extension environment."),(0,oe.zI)()||B.push("Cookies are not available."),B.length>0){const te=B.map((Ue,We)=>`(${We+1}) ${Ue}`).join(" "),ve=X.create("invalid-analytics-context",{errorInfo:te});qe.warn(ve.message)}}();const Ue=B.options.appId;if(!Ue)throw X.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw X.create("no-api-key");qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[Ue])throw X.create("already-exists",{id:Ue});if(!pr){!function He(B){let te=[];Array.isArray(window[B])?te=window[B]:window[B]=te}(jn);const{wrappedGtag:Ge,gtagCore:ft}=function Pe(B,te,ve,Ue,We){let Ge=function(...ft){window[Ue].push(arguments)};return window[We]&&"function"==typeof window[We]&&(Ge=window[We]),window[We]=function Oe(B,te,ve,Ue){function Ge(){return(Ge=(0,a.Z)(function*(ft,J,Z){try{"event"===ft?yield rt(B,te,ve,J,Z):"config"===ft?yield ye(B,te,ve,Ue,J,Z):B("set",J)}catch(U){qe.error(U)}})).apply(this,arguments)}return function We(ft,J,Z){return Ge.apply(this,arguments)}}(Ge,B,te,ve),{gtagCore:Ge,wrappedGtag:window[We]}}(Un,Hr,bn,jn,"gtag");Vn=Ge,fr=ft,pr=!0}return Un[Ue]=function $t(B,te,ve,Ue,We,Ge,ft){return xt.apply(this,arguments)}(B,Hr,bn,te,fr,jn,ve),new un(B)}function Gn(){return(Gn=(0,a.Z)(function*(B,te,ve,Ue,We){if(We&&We.global)B("event",ve,Ue);else{const Ge=yield te;B("event",ve,Object.assign(Object.assign({},Ue),{send_to:Ge}))}})).apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(B,te,ve,Ue){if(Ue&&Ue.global)return B("set",{user_id:ve}),Promise.resolve();B("config",yield te,{update:!0,user_id:ve})})).apply(this,arguments)}function Ut(){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(B){return!1}})).apply(this,arguments)}function ln(B,te,ve){B=(0,oe.m9)(B),function wn(B,te,ve,Ue){return zn.apply(this,arguments)}(Vn,Un[B.app.options.appId],te,ve).catch(Ue=>qe.error(Ue))}function W(B,te,ve,Ue){B=(0,oe.m9)(B),function rn(B,te,ve,Ue,We){return Gn.apply(this,arguments)}(Vn,Un[B.app.options.appId],te,ve,Ue).catch(We=>qe.error(We))}const Ce="@firebase/analytics",V="0.7.9";!function ee(){(0,k._registerComponent)(new fe.wA(ue,(te,{options:ve})=>an(te.getProvider("app").getImmediate(),te.getProvider("installations-internal").getImmediate(),ve),"PUBLIC")),(0,k._registerComponent)(new fe.wA("analytics-internal",function B(te){try{const ve=te.getProvider(ue).getImmediate();return{logEvent:(Ue,We,Ge)=>W(ve,Ue,We,Ge)}}catch(ve){throw X.create("interop-component-reg-failed",{reason:ve})}},"PRIVATE")),(0,k.registerVersion)(Ce,V),(0,k.registerVersion)(Ce,V,"esm2017")}()},5867:(at,De,M)=>{M.d(De,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp});var a=M(9681);(0,a.registerVersion)("firebase","9.8.1","app")},127:(at,De,M)=>{M.d(De,{Z:()=>a.Z});var a=M(3942);a.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(at,De,M)=>{M.r(De);var a=M(5861),k=M(3942),x=M(198),oe=M(2090),ue=(M(9681),M(1877),M(4859));function ce(){return window}function j(){return(j=(0,a.Z)(function*(J,Z,U){var Me;const{BuildInfo:Xe}=ce();(0,x.aq)(Z.sessionId,"AuthEvent did not contain a session ID");const ut=yield Te(Z.sessionId),It={};return(0,x.ar)()?It.ibi=Xe.packageName:(0,x.as)()?It.apn=Xe.packageName:(0,x.at)(J,"operation-not-supported-in-this-environment"),Xe.displayName&&(It.appDisplayName=Xe.displayName),It.sessionId=ut,(0,x.au)(J,U,Z.type,void 0,null!==(Me=Z.eventId)&&void 0!==Me?Me:void 0,It)})).apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(J){const{BuildInfo:Z}=ce(),U={};(0,x.ar)()?U.iosBundleId=Z.packageName:(0,x.as)()?U.androidPackageName=Z.packageName:(0,x.at)(J,"operation-not-supported-in-this-environment"),yield(0,x.av)(J,U)})).apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(J,Z,U){const{cordova:Me}=ce();let Xe=()=>{};try{yield new Promise((ut,It)=>{let Xt=null;function Vt(){var Gt;ut();const Wn=null===(Gt=Me.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function Bn(){Xt||(Xt=window.setTimeout(()=>{It((0,x.aw)(J,"redirect-cancelled-by-user"))},2e3))}function wr(){"visible"===(null==document?void 0:document.visibilityState)&&Bn()}Z.addPassiveListener(Vt),document.addEventListener("resume",Bn,!1),(0,x.as)()&&document.addEventListener("visibilitychange",wr,!1),Xe=()=>{Z.removePassiveListener(Vt),document.removeEventListener("resume",Bn,!1),document.removeEventListener("visibilitychange",wr,!1),Xt&&window.clearTimeout(Xt)}})}finally{Xe()}})).apply(this,arguments)}function Te(J){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(J){const Z=Ke(J),U=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(U)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(J){if((0,x.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(J);const Z=new ArrayBuffer(J.length),U=new Uint8Array(Z);for(let Me=0;Me<J.length;Me++)U[Me]=J.charCodeAt(Me);return U}class Pe extends x.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,a.Z)(function*(){yield Z.initPromise})()}}function X(J){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(J){const Z=yield re()._get(ae(J));return Z&&(yield re()._remove(ae(J))),Z})).apply(this,arguments)}function Q(){const J=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const Me=Math.floor(Math.random()*Z.length);J.push(Z.charAt(Me))}return J.join("")}function re(){return(0,x.ay)(x.b)}function ae(J){return(0,x.az)("authEvent",J.config.apiKey,J.name)}function je(J){if(!(null==J?void 0:J.includes("?")))return{};const[Z,...U]=J.split("?");return(0,oe.zd)(U.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function $t(){var J;return(null===(J=null==self?void 0:self.location)||void 0===J?void 0:J.protocol)||null}function un(J=(0,oe.z$)()){return!("file:"!==$t()&&"ionic:"!==$t()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){try{const J=self.localStorage,Z=x.aI();if(J)return J.setItem(Z,"1"),J.removeItem(Z),!function jn(J=(0,oe.z$)()){return function Hr(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function bn(J=(0,oe.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,oe.hl)()}catch(J){return fr()&&(0,oe.hl)()}return!1}function fr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function xt(){return"http:"===$t()||"https:"===$t()}()||(0,oe.ru)()||un())&&!function Un(){return(0,oe.b$)()||(0,oe.UG)()}()&&sr()&&!fr()}function pr(){return un()&&"undefined"!=typeof document}function or(){return(or=(0,a.Z)(function*(){return!!pr()&&new Promise(J=>{const Z=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),J(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=x.ax,er="persistence";function wn(J){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(J){yield J._initializationPromise;const Z=Lt(),U=x.az(er,J.config.apiKey,J.name);Z&&Z.setItem(U,J._getPersistence())})).apply(this,arguments)}function Lt(){var J;try{return(null===(J=function an(){return"undefined"!=typeof window?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch(Z){return null}}const ht=x.ax;class st{constructor(){this.browserResolver=x.ay(x.k),this.cordovaResolver=x.ay(class Jt{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(Z){var U=this;return(0,a.Z)(function*(){const Me=Z._key();let Xe=U.eventManagers.get(Me);return Xe||(Xe=new Pe(Z),U.eventManagers.set(Me,Xe),U.attachCallbackListeners(Z,Xe)),Xe})()}_openPopup(Z){(0,x.at)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,U,Me,Xe){var ut=this;return(0,a.Z)(function*(){!function ye(J){var Z,U,Me,Xe,ut,It,Xt,Vt,Bn,wr;const Gt=ce();(0,x.ax)("function"==typeof(null===(Z=null==Gt?void 0:Gt.universalLinks)||void 0===Z?void 0:Z.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(void 0!==(null===(U=null==Gt?void 0:Gt.BuildInfo)||void 0===U?void 0:U.packageName),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(ut=null===(Xe=null===(Me=null==Gt?void 0:Gt.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===ut?void 0:ut.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(Vt=null===(Xt=null===(It=null==Gt?void 0:Gt.cordova)||void 0===It?void 0:It.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(wr=null===(Bn=null==Gt?void 0:Gt.cordova)||void 0===Bn?void 0:Bn.InAppBrowser)||void 0===wr?void 0:wr.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const It=yield ut._initialize(Z);yield It.initialized(),It.resetRedirect(),(0,x.aD)(),yield ut._originValidation(Z);const Xt=function Ie(J,Z,U=null){return{type:Z,eventId:U,urlResponse:null,sessionId:Q(),postBody:null,tenantId:J.tenantId,error:(0,x.aw)(J,"no-auth-event")}}(Z,Me,Xe);yield function et(J,Z){return re()._set(ae(J),Z)}(Z,Xt);const Vt=yield function $(J,Z,U){return j.apply(this,arguments)}(Z,Xt,U),Bn=yield function Ae(J){const{cordova:Z}=ce();return new Promise(U=>{Z.plugins.browsertab.isAvailable(Me=>{let Xe=null;Me?Z.plugins.browsertab.openUrl(J):Xe=Z.InAppBrowser.open(J,(0,x.ap)()?"_blank":"_system","location=yes"),U(Xe)})})}(Vt);return function Ve(J,Z,U){return He.apply(this,arguments)}(Z,It,Bn)})()}_isIframeWebStorageSupported(Z,U){throw new Error("Method not implemented.")}_originValidation(Z){const U=Z._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function se(J){return qe.apply(this,arguments)}(Z)),this.originValidationPromises[U]}attachCallbackListeners(Z,U){const{universalLinks:Me,handleOpenURL:Xe,BuildInfo:ut}=ce(),It=setTimeout((0,a.Z)(function*(){yield X(Z),U.onEvent(Je())}),500),Xt=function(){var wr=(0,a.Z)(function*(Gt){clearTimeout(It);const Wn=yield X(Z);let Wr=null;Wn&&(null==Gt?void 0:Gt.url)&&(Wr=function Se(J,Z){var U,Me;const Xe=function le(J){const Z=je(J),U=Z.link?decodeURIComponent(Z.link):void 0,Me=je(U).link,Xe=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return je(Xe).link||Xe||Me||U||J}(Z);if(Xe.includes("/__/auth/callback")){const ut=je(Xe),It=ut.firebaseError?function _e(J){try{return JSON.parse(J)}catch(Z){return null}}(decodeURIComponent(ut.firebaseError)):null,Xt=null===(Me=null===(U=null==It?void 0:It.code)||void 0===U?void 0:U.split("auth/"))||void 0===Me?void 0:Me[1],Vt=Xt?(0,x.aw)(Xt):null;return Vt?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Xe,postBody:null}}return null}(Wn,Gt.url)),U.onEvent(Wr||Je())});return function(Wn){return wr.apply(this,arguments)}}();void 0!==Me&&"function"==typeof Me.subscribe&&Me.subscribe(null,Xt);const Vt=Xe,Bn=`${ut.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var wr=(0,a.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Bn)&&Xt({url:Gt}),"function"==typeof Vt)try{Vt(Gt)}catch(Wn){console.error(Wn)}});return function(Gt){return wr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(Z){var U=this;return(0,a.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,U,Me,Xe){var ut=this;return(0,a.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(Z,U,Me,Xe)})()}_openRedirect(Z,U,Me,Xe){var ut=this;return(0,a.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(Z,U,Me,Xe)})()}_isIframeWebStorageSupported(Z,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,U)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return pr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,a.Z)(function*(){if(Z.underlyingResolver)return;const U=yield function Et(){return or.apply(this,arguments)}();Z.underlyingResolver=U?Z.cordovaResolver:Z.browserResolver})()}}function Pn(J){return J.unwrap()}function Ut(J){return Mn(J)}function Mn(J){const{_tokenResponse:Z}=J instanceof oe.ZR?J.customData:J;if(!Z)return null;if(!(J instanceof oe.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return x.P.credentialFromResult(J);const U=Z.providerId;if(!U||U===x.o.PASSWORD)return null;let Me;switch(U){case x.o.GOOGLE:Me=x.Q;break;case x.o.FACEBOOK:Me=x.N;break;case x.o.GITHUB:Me=x.T;break;case x.o.TWITTER:Me=x.W;break;default:const{oauthIdToken:Xe,oauthAccessToken:ut,oauthTokenSecret:It,pendingToken:Xt,nonce:Vt}=Z;return ut||It||Xe||Xt?Xt?U.startsWith("saml.")?x.aL._create(U,Xt):x.J._fromParams({providerId:U,signInMethod:U,pendingToken:Xt,idToken:Xe,accessToken:ut}):new x.U(U).credential({idToken:Xe,accessToken:ut,rawNonce:Vt}):null}return J instanceof oe.ZR?Me.credentialFromError(J):Me.credentialFromResult(J)}function ln(J,Z){return Z.catch(U=>{throw U instanceof oe.ZR&&function br(J,Z){var U;const Me=null===(U=Z.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===Z.code)Z.resolver=new W(J,x.an(J,Z));else if(Me){const Xe=Mn(Z),ut=Z;Xe&&(ut.credential=Xe,ut.tenantId=Me.tenantId||void 0,ut.email=Me.email||void 0,ut.phoneNumber=Me.phoneNumber||void 0)}}(J,U),U}).then(U=>{const Xe=U.user;return{operationType:U.operationType,credential:Ut(U),additionalUserInfo:x.al(U),user:Ce.getOrCreate(Xe)}})}function L(J,Z){return G.apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(J,Z){const U=yield Z;return{verificationId:U.verificationId,confirm:Me=>ln(J,U.confirm(Me))}})).apply(this,arguments)}class W{constructor(Z,U){this.resolver=U,this.auth=function zr(J){return J.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return ln(Pn(this.auth),this.resolver.resolveSignIn(Z))}}class Ce{constructor(Z){this._delegate=Z,this.multiFactor=x.ao(Z)}static getOrCreate(Z){return Ce.USER_MAP.has(Z)||Ce.USER_MAP.set(Z,new Ce(Z)),Ce.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var U=this;return(0,a.Z)(function*(){return ln(U.auth,x.Z(U._delegate,Z))})()}linkWithPhoneNumber(Z,U){var Me=this;return(0,a.Z)(function*(){return L(Me.auth,x.l(Me._delegate,Z,U))})()}linkWithPopup(Z){var U=this;return(0,a.Z)(function*(){return ln(U.auth,x.d(U._delegate,Z,st))})()}linkWithRedirect(Z){var U=this;return(0,a.Z)(function*(){return yield wn(x.aE(U.auth)),x.g(U._delegate,Z,st)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var U=this;return(0,a.Z)(function*(){return ln(U.auth,x._(U._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,U){return L(this.auth,x.r(this._delegate,Z,U))}reauthenticateWithPopup(Z){return ln(this.auth,x.e(this._delegate,Z,st))}reauthenticateWithRedirect(Z){var U=this;return(0,a.Z)(function*(){return yield wn(x.aE(U.auth)),x.h(U._delegate,Z,st)})()}sendEmailVerification(Z){return x.ab(this._delegate,Z)}unlink(Z){var U=this;return(0,a.Z)(function*(){return yield x.ak(U._delegate,Z),U})()}updateEmail(Z){return x.ag(this._delegate,Z)}updatePassword(Z){return x.ah(this._delegate,Z)}updatePhoneNumber(Z){return x.u(this._delegate,Z)}updateProfile(Z){return x.af(this._delegate,Z)}verifyBeforeUpdateEmail(Z,U){return x.ac(this._delegate,Z,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ce.USER_MAP=new WeakMap;const V=x.ax;let ee=(()=>{class J{constructor(U,Me){if(this.app=U,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=U.options;V(Xe,"invalid-api-key",{appName:U.name}),V(Xe,"invalid-api-key",{appName:U.name});const ut="undefined"!=typeof window?st:void 0;this._delegate=Me.initialize({options:{persistence:te(Xe,U.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ce.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,Me){x.G(this._delegate,U,Me)}applyActionCode(U){return x.a2(this._delegate,U)}checkActionCode(U){return x.a3(this._delegate,U)}confirmPasswordReset(U,Me){return x.a1(this._delegate,U,Me)}createUserWithEmailAndPassword(U,Me){var Xe=this;return(0,a.Z)(function*(){return ln(Xe._delegate,x.a5(Xe._delegate,U,Me))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return x.aa(this._delegate,U)}isSignInWithEmailLink(U){return x.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,a.Z)(function*(){V(Vn(),U._delegate,"operation-not-supported-in-this-environment");const Me=yield x.j(U._delegate,st);return Me?ln(U._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function cn(J,Z){(0,x.aE)(J)._logFramework(Z)}(this._delegate,U)}onAuthStateChanged(U,Me,Xe){const{next:ut,error:It,complete:Xt}=B(U,Me,Xe);return this._delegate.onAuthStateChanged(ut,It,Xt)}onIdTokenChanged(U,Me,Xe){const{next:ut,error:It,complete:Xt}=B(U,Me,Xe);return this._delegate.onIdTokenChanged(ut,It,Xt)}sendSignInLinkToEmail(U,Me){return x.a7(this._delegate,U,Me)}sendPasswordResetEmail(U,Me){return x.a0(this._delegate,U,Me||void 0)}setPersistence(U){var Me=this;return(0,a.Z)(function*(){let Xe;switch(function gr(J,Z){Gn(Object.values(rn).includes(Z),J,"invalid-persistence-type"),(0,oe.b$)()?Gn(Z!==rn.SESSION,J,"unsupported-persistence-type"):(0,oe.UG)()?Gn(Z===rn.NONE,J,"unsupported-persistence-type"):fr()?Gn(Z===rn.NONE||Z===rn.LOCAL&&(0,oe.hl)(),J,"unsupported-persistence-type"):Gn(Z===rn.NONE||sr(),J,"unsupported-persistence-type")}(Me._delegate,U),U){case rn.SESSION:Xe=x.a;break;case rn.LOCAL:Xe=(yield x.ay(x.i)._isAvailable())?x.i:x.b;break;case rn.NONE:Xe=x.L;break;default:return x.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return ln(this._delegate,x.X(this._delegate))}signInWithCredential(U){return ln(this._delegate,x.Y(this._delegate,U))}signInWithCustomToken(U){return ln(this._delegate,x.$(this._delegate,U))}signInWithEmailAndPassword(U,Me){return ln(this._delegate,x.a6(this._delegate,U,Me))}signInWithEmailLink(U,Me){return ln(this._delegate,x.a9(this._delegate,U,Me))}signInWithPhoneNumber(U,Me){return L(this._delegate,x.s(this._delegate,U,Me))}signInWithPopup(U){var Me=this;return(0,a.Z)(function*(){return V(Vn(),Me._delegate,"operation-not-supported-in-this-environment"),ln(Me._delegate,x.c(Me._delegate,U,st))})()}signInWithRedirect(U){var Me=this;return(0,a.Z)(function*(){return V(Vn(),Me._delegate,"operation-not-supported-in-this-environment"),yield wn(Me._delegate),x.f(Me._delegate,U,st)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return x.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=rn,J})();function B(J,Z,U){let Me=J;"function"!=typeof J&&({next:Me,error:Z,complete:U}=J);const Xe=Me;return{next:It=>Xe(It&&Ce.getOrCreate(It)),error:Z,complete:U}}function te(J,Z){const U=function Gr(J,Z){const U=Lt();if(!U)return[];const Me=x.az(er,J,Z);switch(U.getItem(Me)){case rn.NONE:return[x.L];case rn.LOCAL:return[x.i,x.a];case rn.SESSION:return[x.a];default:return[]}}(J,Z);if("undefined"!=typeof self&&!U.includes(x.i)&&U.push(x.i),"undefined"!=typeof window)for(const Me of[x.b,x.a])U.includes(Me)||U.push(Me);return U.includes(x.L)||U.push(x.L),U}class ve{constructor(){this.providerId="phone",this._delegate=new x.P(Pn(k.Z.auth()))}static credential(Z,U){return x.P.credential(Z,U)}verifyPhoneNumber(Z,U){return this._delegate.verifyPhoneNumber(Z,U)}unwrap(){return this._delegate}}ve.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,ve.PROVIDER_ID=x.P.PROVIDER_ID;const Ue=x.ax;class We{constructor(Z,U,Me=k.Z.app()){var Xe;Ue(null===(Xe=Me.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new x.R(Z,U,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ft(J){J.INTERNAL.registerComponent(new ue.wA("auth-compat",Z=>{const U=Z.getProvider("app-compat").getImmediate(),Me=Z.getProvider("auth");return new ee(U,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:ve,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:We,TwitterAuthProvider:x.W,Auth:ee,AuthCredential:x.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.14")}(k.Z)},8306:(at,De,M)=>{M.d(De,{y:()=>$});var a=M(2961),k=M(727),x=M(8822),oe=M(4671);var ue=M(2416),ce=M(576),me=M(2806);let $=(()=>{class Ae{constructor(He){He&&(this._subscribe=He)}lift(He){const ye=new Ae;return ye.source=this,ye.operator=He,ye}subscribe(He,ye,Te){const rt=function qe(Ae){return Ae&&Ae instanceof a.Lv||function se(Ae){return Ae&&(0,ce.m)(Ae.next)&&(0,ce.m)(Ae.error)&&(0,ce.m)(Ae.complete)}(Ae)&&(0,k.Nn)(Ae)}(He)?He:new a.Hp(He,ye,Te);return(0,me.x)(()=>{const{operator:Ke,source:Oe}=this;rt.add(Ke?Ke.call(rt,Oe):Oe?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(He){try{return this._subscribe(He)}catch(ye){He.error(ye)}}forEach(He,ye){return new(ye=j(ye))((Te,rt)=>{const Ke=new a.Hp({next:Oe=>{try{He(Oe)}catch(Pe){rt(Pe),Ke.unsubscribe()}},error:rt,complete:Te});this.subscribe(Ke)})}_subscribe(He){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(He)}[x.L](){return this}pipe(...He){return function we(Ae){return 0===Ae.length?oe.y:1===Ae.length?Ae[0]:function(He){return Ae.reduce((ye,Te)=>Te(ye),He)}}(He)(this)}toPromise(He){return new(He=j(He))((ye,Te)=>{let rt;this.subscribe(Ke=>rt=Ke,Ke=>Te(Ke),()=>ye(rt))})}}return Ae.create=Ve=>new Ae(Ve),Ae})();function j(Ae){var Ve;return null!==(Ve=null!=Ae?Ae:ue.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(at,De,M)=>{M.d(De,{x:()=>ue});var a=M(8306),k=M(727);const oe=(0,M(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=M(8737),we=M(2806);let ue=(()=>{class me extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const se=new ce(this,this);return se.operator=j,se}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(j)}})}error(j){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:se}=this;for(;se.length;)se.shift().error(j)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:se,isStopped:qe,observers:Ae}=this;return se||qe?k.Lc:(this.currentObservers=null,Ae.push(j),new k.w0(()=>{this.currentObservers=null,(0,fe.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:se,thrownError:qe,isStopped:Ae}=this;se?j.error(qe):Ae&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return me.create=($,j)=>new ce($,j),me})();class ce extends ue{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===se||se.call(j,$)}error($){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===se||se.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,se;return null!==(se=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==se?se:k.Lc}}},2961:(at,De,M)=>{M.d(De,{Hp:()=>He,Lv:()=>se});var a=M(576),k=M(727),x=M(2416),oe=M(7849);function fe(){}const we=me("C",void 0,void 0);function me(Oe,Pe,Ie){return{kind:Oe,value:Pe,error:Ie}}var $=M(3410),j=M(2806);class se extends k.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,k.Nn)(Pe)&&Pe.add(this)):this.destination=Ke}static create(Pe,Ie,et){return new He(Pe,Ie,et)}next(Pe){this.isStopped?rt(function ce(Oe){return me("N",Oe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?rt(function ue(Oe){return me("E",void 0,Oe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?rt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Ae(Oe,Pe){return qe.call(Oe,Pe)}class Ve{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Pe)}catch(et){ye(et)}}error(Pe){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Pe)}catch(et){ye(et)}else ye(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ie){ye(Ie)}}}class He extends se{constructor(Pe,Ie,et){let X;if(super(),(0,a.m)(Pe)||!Pe)X={next:null!=Pe?Pe:void 0,error:null!=Ie?Ie:void 0,complete:null!=et?et:void 0};else{let he;this&&x.v.useDeprecatedNextContext?(he=Object.create(Pe),he.unsubscribe=()=>this.unsubscribe(),X={next:Pe.next&&Ae(Pe.next,he),error:Pe.error&&Ae(Pe.error,he),complete:Pe.complete&&Ae(Pe.complete,he)}):X=Pe}this.destination=new Ve(X)}}function ye(Oe){x.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Oe):(0,oe.h)(Oe)}function rt(Oe,Pe){const{onStoppedNotification:Ie}=x.v;Ie&&$.z.setTimeout(()=>Ie(Oe,Pe))}const Ke={closed:!0,next:fe,error:function Te(Oe){throw Oe},complete:fe}},727:(at,De,M)=>{M.d(De,{Lc:()=>we,w0:()=>fe,Nn:()=>ue});var a=M(576);const x=(0,M(3888).d)(me=>function(j){me(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((se,qe)=>`${qe+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=M(8737);class fe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:se}=this;if((0,a.m)(se))try{se()}catch(Ae){$=Ae instanceof x?Ae.errors:[Ae]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Ae of qe)try{ce(Ae)}catch(Ve){$=null!=$?$:[],Ve instanceof x?$=[...$,...Ve.errors]:$.push(Ve)}}if($)throw new x($)}}add($){var j;if($&&$!==this)if(this.closed)ce($);else{if($ instanceof fe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,oe.P)(j,$),$ instanceof fe&&$._removeParent(this)}}fe.EMPTY=(()=>{const me=new fe;return me.closed=!0,me})();const we=fe.EMPTY;function ue(me){return me instanceof fe||me&&"closed"in me&&(0,a.m)(me.remove)&&(0,a.m)(me.add)&&(0,a.m)(me.unsubscribe)}function ce(me){(0,a.m)(me)?me():me.unsubscribe()}},2416:(at,De,M)=>{M.d(De,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,De,M)=>{M.d(De,{E:()=>k});const k=new(M(8306).y)(fe=>fe.complete())},8996:(at,De,M)=>{M.d(De,{D:()=>Pe});var a=M(8421),k=M(5363),x=M(9468),we=M(8306),ce=M(2202),me=M(576),$=M(9672);function se(Ie,et){if(!Ie)throw new Error("Iterable cannot be null");return new we.y(X=>{(0,$.f)(X,et,()=>{const he=Ie[Symbol.asyncIterator]();(0,$.f)(X,et,()=>{he.next().then(Se=>{Se.done?X.complete():X.next(Se.value)})},0,!0)})})}var qe=M(3670),Ae=M(8239),Ve=M(1144),He=M(6495),ye=M(2206),Te=M(4532),rt=M(3260);function Pe(Ie,et){return et?function Oe(Ie,et){if(null!=Ie){if((0,qe.c)(Ie))return function oe(Ie,et){return(0,a.Xf)(Ie).pipe((0,x.R)(et),(0,k.Q)(et))}(Ie,et);if((0,Ve.z)(Ie))return function ue(Ie,et){return new we.y(X=>{let he=0;return et.schedule(function(){he===Ie.length?X.complete():(X.next(Ie[he++]),X.closed||this.schedule())})})}(Ie,et);if((0,Ae.t)(Ie))return function fe(Ie,et){return(0,a.Xf)(Ie).pipe((0,x.R)(et),(0,k.Q)(et))}(Ie,et);if((0,ye.D)(Ie))return se(Ie,et);if((0,He.T)(Ie))return function j(Ie,et){return new we.y(X=>{let he;return(0,$.f)(X,et,()=>{he=Ie[ce.h](),(0,$.f)(X,et,()=>{let Se,Q;try{({value:Se,done:Q}=he.next())}catch(re){return void X.error(re)}Q?X.complete():X.next(Se)},0,!0)}),()=>(0,me.m)(null==he?void 0:he.return)&&he.return()})}(Ie,et);if((0,rt.L)(Ie))return function Ke(Ie,et){return se((0,rt.Q)(Ie),et)}(Ie,et)}throw(0,Te.z)(Ie)}(Ie,et):(0,a.Xf)(Ie)}},8421:(at,De,M)=>{M.d(De,{Xf:()=>qe});var a=M(655),k=M(1144),x=M(8239),oe=M(8306),fe=M(3670),we=M(2206),ue=M(4532),ce=M(6495),me=M(3260),$=M(576),j=M(7849),se=M(8822);function qe(Oe){if(Oe instanceof oe.y)return Oe;if(null!=Oe){if((0,fe.c)(Oe))return function Ae(Oe){return new oe.y(Pe=>{const Ie=Oe[se.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,k.z)(Oe))return function Ve(Oe){return new oe.y(Pe=>{for(let Ie=0;Ie<Oe.length&&!Pe.closed;Ie++)Pe.next(Oe[Ie]);Pe.complete()})}(Oe);if((0,x.t)(Oe))return function He(Oe){return new oe.y(Pe=>{Oe.then(Ie=>{Pe.closed||(Pe.next(Ie),Pe.complete())},Ie=>Pe.error(Ie)).then(null,j.h)})}(Oe);if((0,we.D)(Oe))return Te(Oe);if((0,ce.T)(Oe))return function ye(Oe){return new oe.y(Pe=>{for(const Ie of Oe)if(Pe.next(Ie),Pe.closed)return;Pe.complete()})}(Oe);if((0,me.L)(Oe))return function rt(Oe){return Te((0,me.Q)(Oe))}(Oe)}throw(0,ue.z)(Oe)}function Te(Oe){return new oe.y(Pe=>{(function Ke(Oe,Pe){var Ie,et,X,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,a.KL)(Oe);!(et=yield Ie.next()).done;)if(Pe.next(et.value),Pe.closed)return}catch(Se){X={error:Se}}finally{try{et&&!et.done&&(he=Ie.return)&&(yield he.call(Ie))}finally{if(X)throw X.error}}Pe.complete()})})(Oe,Pe).catch(Ie=>Pe.error(Ie))})}},6451:(at,De,M)=>{M.d(De,{T:()=>we});var a=M(8189),k=M(8421),x=M(515),oe=M(7669),fe=M(8996);function we(...ue){const ce=(0,oe.yG)(ue),me=(0,oe._6)(ue,1/0),$=ue;return $.length?1===$.length?(0,k.Xf)($[0]):(0,a.J)(me)((0,fe.D)($,ce)):x.E}},5403:(at,De,M)=>{M.d(De,{Q:()=>x,x:()=>k});var a=M(2961);function k(oe,fe,we,ue,ce){return new x(oe,fe,we,ue,ce)}class x extends a.Lv{constructor(fe,we,ue,ce,me,$){super(fe),this.onFinalize=me,this.shouldUnsubscribe=$,this._next=we?function(j){try{we(j)}catch(se){fe.error(se)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(se){fe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){fe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(at,De,M)=>{M.d(De,{U:()=>x});var a=M(4482),k=M(5403);function x(oe,fe){return(0,a.e)((we,ue)=>{let ce=0;we.subscribe((0,k.x)(ue,me=>{ue.next(oe.call(fe,me,ce++))}))})}},8189:(at,De,M)=>{M.d(De,{J:()=>x});var a=M(5577),k=M(4671);function x(oe=1/0){return(0,a.z)(k.y,oe)}},5577:(at,De,M)=>{M.d(De,{z:()=>ce});var a=M(4004),k=M(8421),x=M(4482),oe=M(9672),fe=M(5403),ue=M(576);function ce(me,$,j=1/0){return(0,ue.m)($)?ce((se,qe)=>(0,a.U)((Ae,Ve)=>$(se,Ae,qe,Ve))((0,k.Xf)(me(se,qe))),j):("number"==typeof $&&(j=$),(0,x.e)((se,qe)=>function we(me,$,j,se,qe,Ae,Ve,He){const ye=[];let Te=0,rt=0,Ke=!1;const Oe=()=>{Ke&&!ye.length&&!Te&&$.complete()},Pe=et=>Te<se?Ie(et):ye.push(et),Ie=et=>{Ae&&$.next(et),Te++;let X=!1;(0,k.Xf)(j(et,rt++)).subscribe((0,fe.x)($,he=>{null==qe||qe(he),Ae?Pe(he):$.next(he)},()=>{X=!0},void 0,()=>{if(X)try{for(Te--;ye.length&&Te<se;){const he=ye.shift();Ve?(0,oe.f)($,Ve,()=>Ie(he)):Ie(he)}Oe()}catch(he){$.error(he)}}))};return me.subscribe((0,fe.x)($,Pe,()=>{Ke=!0,Oe()})),()=>{null==He||He()}}(se,qe,me,j)))}},5363:(at,De,M)=>{M.d(De,{Q:()=>oe});var a=M(9672),k=M(4482),x=M(5403);function oe(fe,we=0){return(0,k.e)((ue,ce)=>{ue.subscribe((0,x.x)(ce,me=>(0,a.f)(ce,fe,()=>ce.next(me),we),()=>(0,a.f)(ce,fe,()=>ce.complete(),we),me=>(0,a.f)(ce,fe,()=>ce.error(me),we)))})}},3099:(at,De,M)=>{M.d(De,{B:()=>we});var a=M(8996),k=M(5698),x=M(7579),oe=M(2961),fe=M(4482);function we(ce={}){const{connector:me=(()=>new x.x),resetOnError:$=!0,resetOnComplete:j=!0,resetOnRefCountZero:se=!0}=ce;return qe=>{let Ae=null,Ve=null,He=null,ye=0,Te=!1,rt=!1;const Ke=()=>{null==Ve||Ve.unsubscribe(),Ve=null},Oe=()=>{Ke(),Ae=He=null,Te=rt=!1},Pe=()=>{const Ie=Ae;Oe(),null==Ie||Ie.unsubscribe()};return(0,fe.e)((Ie,et)=>{ye++,!rt&&!Te&&Ke();const X=He=null!=He?He:me();et.add(()=>{ye--,0===ye&&!rt&&!Te&&(Ve=ue(Pe,se))}),X.subscribe(et),Ae||(Ae=new oe.Hp({next:he=>X.next(he),error:he=>{rt=!0,Ke(),Ve=ue(Oe,$,he),X.error(he)},complete:()=>{Te=!0,Ke(),Ve=ue(Oe,j),X.complete()}}),(0,a.D)(Ie).subscribe(Ae))})(qe)}}function ue(ce,me,...$){return!0===me?(ce(),null):!1===me?null:me(...$).pipe((0,k.q)(1)).subscribe(()=>ce())}},9468:(at,De,M)=>{M.d(De,{R:()=>k});var a=M(4482);function k(x,oe=0){return(0,a.e)((fe,we)=>{we.add(x.schedule(()=>fe.subscribe(we),oe))})}},5698:(at,De,M)=>{M.d(De,{q:()=>oe});var a=M(515),k=M(4482),x=M(5403);function oe(fe){return fe<=0?()=>a.E:(0,k.e)((we,ue)=>{let ce=0;we.subscribe((0,x.x)(ue,me=>{++ce<=fe&&(ue.next(me),fe<=ce&&ue.complete())}))})}},8505:(at,De,M)=>{M.d(De,{b:()=>fe});var a=M(576),k=M(4482),x=M(5403),oe=M(4671);function fe(we,ue,ce){const me=(0,a.m)(we)||ue||ce?{next:we,error:ue,complete:ce}:we;return me?(0,k.e)(($,j)=>{var se;null===(se=me.subscribe)||void 0===se||se.call(me);let qe=!0;$.subscribe((0,x.x)(j,Ae=>{var Ve;null===(Ve=me.next)||void 0===Ve||Ve.call(me,Ae),j.next(Ae)},()=>{var Ae;qe=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),j.complete()},Ae=>{var Ve;qe=!1,null===(Ve=me.error)||void 0===Ve||Ve.call(me,Ae),j.error(Ae)},()=>{var Ae,Ve;qe&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(Ve=me.finalize)||void 0===Ve||Ve.call(me)}))}):oe.y}},4408:(at,De,M)=>{M.d(De,{o:()=>fe});var a=M(727);class k extends a.w0{constructor(ue,ce){super()}schedule(ue,ce=0){return this}}const x={setInterval(we,ue,...ce){const{delegate:me}=x;return(null==me?void 0:me.setInterval)?me.setInterval(we,ue,...ce):setInterval(we,ue,...ce)},clearInterval(we){const{delegate:ue}=x;return((null==ue?void 0:ue.clearInterval)||clearInterval)(we)},delegate:void 0};var oe=M(8737);class fe extends k{constructor(ue,ce){super(ue,ce),this.scheduler=ue,this.work=ce,this.pending=!1}schedule(ue,ce=0){if(this.closed)return this;this.state=ue;const me=this.id,$=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId($,me,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId($,this.id,ce),this}requestAsyncId(ue,ce,me=0){return x.setInterval(ue.flush.bind(ue,this),me)}recycleAsyncId(ue,ce,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ce;x.clearInterval(ce)}execute(ue,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ue,ce);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ce){let $,me=!1;try{this.work(ue)}catch(j){me=!0,$=j||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ce}=this,{actions:me}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(me,this),null!=ue&&(this.id=this.recycleAsyncId(ce,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,De,M)=>{M.d(De,{v:()=>x});var a=M(6063);class k{constructor(fe,we=k.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,ue){return new this.schedulerActionCtor(this,fe).schedule(ue,we)}}k.now=a.l.now;class x extends k{constructor(fe,we=k.now){super(fe,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let ue;this._active=!0;do{if(ue=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,ue){for(;fe=we.shift();)fe.unsubscribe();throw ue}}}},4986:(at,De,M)=>{M.d(De,{z:()=>x});var a=M(4408);const x=new(M(7565).v)(a.o)},6063:(at,De,M)=>{M.d(De,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(at,De,M)=>{M.d(De,{z:()=>a});const a={setTimeout(k,x,...oe){const{delegate:fe}=a;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(k,x,...oe):setTimeout(k,x,...oe)},clearTimeout(k){const{delegate:x}=a;return((null==x?void 0:x.clearTimeout)||clearTimeout)(k)},delegate:void 0}},2202:(at,De,M)=>{M.d(De,{h:()=>k});const k=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,De,M)=>{M.d(De,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(at,De,M)=>{M.d(De,{_6:()=>we,jO:()=>oe,yG:()=>fe});var a=M(576);function x(ue){return ue[ue.length-1]}function oe(ue){return(0,a.m)(x(ue))?ue.pop():void 0}function fe(ue){return function k(ue){return ue&&(0,a.m)(ue.schedule)}(x(ue))?ue.pop():void 0}function we(ue,ce){return"number"==typeof x(ue)?ue.pop():ce}},8737:(at,De,M)=>{function a(k,x){if(k){const oe=k.indexOf(x);0<=oe&&k.splice(oe,1)}}M.d(De,{P:()=>a})},3888:(at,De,M)=>{function a(k){const oe=k(fe=>{Error.call(fe),fe.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}M.d(De,{d:()=>a})},2806:(at,De,M)=>{M.d(De,{O:()=>oe,x:()=>x});var a=M(2416);let k=null;function x(fe){if(a.v.useDeprecatedSynchronousErrorHandling){const we=!k;if(we&&(k={errorThrown:!1,error:null}),fe(),we){const{errorThrown:ue,error:ce}=k;if(k=null,ue)throw ce}}else fe()}function oe(fe){a.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=fe)}},9672:(at,De,M)=>{function a(k,x,oe,fe=0,we=!1){const ue=x.schedule(function(){oe(),we?k.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(k.add(ue),!we)return ue}M.d(De,{f:()=>a})},4671:(at,De,M)=>{function a(k){return k}M.d(De,{y:()=>a})},1144:(at,De,M)=>{M.d(De,{z:()=>a});const a=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(at,De,M)=>{M.d(De,{D:()=>k});var a=M(576);function k(x){return Symbol.asyncIterator&&(0,a.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(at,De,M)=>{function a(k){return"function"==typeof k}M.d(De,{m:()=>a})},3670:(at,De,M)=>{M.d(De,{c:()=>x});var a=M(8822),k=M(576);function x(oe){return(0,k.m)(oe[a.L])}},6495:(at,De,M)=>{M.d(De,{T:()=>x});var a=M(2202),k=M(576);function x(oe){return(0,k.m)(null==oe?void 0:oe[a.h])}},8239:(at,De,M)=>{M.d(De,{t:()=>k});var a=M(576);function k(x){return(0,a.m)(null==x?void 0:x.then)}},3260:(at,De,M)=>{M.d(De,{L:()=>oe,Q:()=>x});var a=M(655),k=M(576);function x(fe){return(0,a.FC)(this,arguments,function*(){const ue=fe.getReader();try{for(;;){const{value:ce,done:me}=yield(0,a.qq)(ue.read());if(me)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ce)}}finally{ue.releaseLock()}})}function oe(fe){return(0,k.m)(null==fe?void 0:fe.getReader)}},4482:(at,De,M)=>{M.d(De,{A:()=>k,e:()=>x});var a=M(576);function k(oe){return(0,a.m)(null==oe?void 0:oe.lift)}function x(oe){return fe=>{if(k(fe))return fe.lift(function(we){try{return oe(we,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(at,De,M)=>{M.d(De,{h:()=>x});var a=M(2416),k=M(3410);function x(oe){k.z.setTimeout(()=>{const{onUnhandledError:fe}=a.v;if(!fe)throw oe;fe(oe)})}},4532:(at,De,M)=>{function a(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(De,{z:()=>a})},655:(at,De,M)=>{function oe(Q,re){var ae={};for(var _e in Q)Object.prototype.hasOwnProperty.call(Q,_e)&&re.indexOf(_e)<0&&(ae[_e]=Q[_e]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(_e=Object.getOwnPropertySymbols(Q);le<_e.length;le++)re.indexOf(_e[le])<0&&Object.prototype.propertyIsEnumerable.call(Q,_e[le])&&(ae[_e[le]]=Q[_e[le]])}return ae}function ce(Q,re,ae,_e){return new(ae||(ae=Promise))(function(je,yt){function Jt(cn){try{Je(_e.next(cn))}catch(Xn){yt(Xn)}}function Ot(cn){try{Je(_e.throw(cn))}catch(Xn){yt(Xn)}}function Je(cn){cn.done?je(cn.value):function le(je){return je instanceof ae?je:new ae(function(yt){yt(je)})}(cn.value).then(Jt,Ot)}Je((_e=_e.apply(Q,re||[])).next())})}function ye(Q){return this instanceof ye?(this.v=Q,this):new ye(Q)}function Te(Q,re,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,_e=ae.apply(Q,re||[]),je=[];return le={},yt("next"),yt("throw"),yt("return"),le[Symbol.asyncIterator]=function(){return this},le;function yt(In){_e[In]&&(le[In]=function(tn){return new Promise(function($t,xt){je.push([In,tn,$t,xt])>1||Jt(In,tn)})})}function Jt(In,tn){try{!function Ot(In){In.value instanceof ye?Promise.resolve(In.value.v).then(Je,cn):Xn(je[0][2],In)}(_e[In](tn))}catch($t){Xn(je[0][3],$t)}}function Je(In){Jt("next",In)}function cn(In){Jt("throw",In)}function Xn(In,tn){In(tn),je.shift(),je.length&&Jt(je[0][0],je[0][1])}}function Ke(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,re=Q[Symbol.asyncIterator];return re?re.call(Q):(Q=function se(Q){var re="function"==typeof Symbol&&Symbol.iterator,ae=re&&Q[re],_e=0;if(ae)return ae.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&_e>=Q.length&&(Q=void 0),{value:Q&&Q[_e++],done:!Q}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ae={},_e("next"),_e("throw"),_e("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function _e(je){ae[je]=Q[je]&&function(yt){return new Promise(function(Jt,Ot){!function le(je,yt,Jt,Ot){Promise.resolve(Ot).then(function(Je){je({value:Je,done:Jt})},yt)}(Jt,Ot,(yt=Q[je](yt)).done,yt.value)})}}}M.d(De,{FC:()=>Te,KL:()=>Ke,_T:()=>oe,mG:()=>ce,qq:()=>ye})},5e3:(at,De,M)=>{M.d(De,{$8M:()=>Zu,$Z:()=>w_,AFp:()=>Av,ALo:()=>av,AaK:()=>ce,BQk:()=>$h,CHM:()=>Fi,CRH:()=>vu,CZH:()=>ad,CqO:()=>T_,EJc:()=>gA,EiD:()=>fc,EpF:()=>Pg,F4k:()=>qh,FYo:()=>X_,FiY:()=>Li,G48:()=>Vv,Gf:()=>xw,GfV:()=>Xc,Gpc:()=>j,JOm:()=>sa,JVY:()=>Xd,L6k:()=>eh,LAX:()=>kp,LFG:()=>cr,LSH:()=>gy,Lbi:()=>fA,NdJ:()=>Rg,OlP:()=>qn,Oqu:()=>To,PXZ:()=>CA,Q6J:()=>Bh,QGY:()=>Og,Qsj:()=>pw,R0b:()=>Oi,RDi:()=>Ou,Rgc:()=>_r,SBq:()=>Cl,Sil:()=>yA,Suo:()=>rd,TTD:()=>oo,TgZ:()=>kc,Tol:()=>xb,Udp:()=>x_,VKq:()=>Ew,VLi:()=>bm,X6Q:()=>TA,XFs:()=>Et,Xpm:()=>ve,Y36:()=>ma,YKP:()=>Ei,YNc:()=>sb,Yjl:()=>Xe,Yz7:()=>tn,ZZ4:()=>Sm,_Bn:()=>cw,_UZ:()=>C_,_Vd:()=>df,_c5:()=>PA,_uU:()=>Rb,aQg:()=>Mm,c2e:()=>pA,cJS:()=>xt,cg1:()=>$g,d8E:()=>Ea,dDg:()=>jw,deG:()=>_p,dqk:()=>Ut,eBb:()=>th,eFA:()=>wm,ekj:()=>N_,g9A:()=>mm,h0i:()=>Tl,hGG:()=>OA,hij:()=>Yn,iGM:()=>Mw,ifc:()=>Lt,ip1:()=>gm,kL8:()=>Xh,lG2:()=>Me,lcZ:()=>be,mCW:()=>m,n5z:()=>Ud,oAB:()=>J,oJD:()=>Z0,oxw:()=>Hh,pB0:()=>Fp,q3G:()=>yr,q4F:()=>Xg,qLn:()=>gc,qOj:()=>xh,qZA:()=>fl,qzn:()=>Vs,sBO:()=>ld,sIi:()=>Oh,s_b:()=>mf,soG:()=>Lr,tBr:()=>mo,tb:()=>ym,tp0:()=>Xa,uIk:()=>kh,vHH:()=>Ve,vpe:()=>Ys,wAp:()=>St,xp6:()=>pE,yhl:()=>Rp,ynx:()=>Zh,z2F:()=>No,z3N:()=>Us,zSh:()=>Dh,zs3:()=>Xi});var a=M(7579),k=M(727),x=M(8306),oe=M(6451),fe=M(3099);function we(s){for(let o in s)if(s[o]===we)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=we({__forward_ref__:we});function j(s){return s.__forward_ref__=j,s.toString=function(){return ce(this())},s}function se(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}class Ve extends Error{constructor(o,u){super(function He(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function Te(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}function Pe(s,o){const u=o?` in ${o}`:"";throw new Ve(-201,`No provider for ${Te(s)} found${u}`)}function Ot(s,o){null==s&&function Je(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function un(s){return Un(s,sr)||Un(s,Vn)}function Un(s,o){return s.hasOwnProperty(o)?s[o]:null}function jn(s){return s&&(s.hasOwnProperty(fr)||s.hasOwnProperty(pr))?s[fr]:null}const sr=we({\u0275prov:we}),fr=we({\u0275inj:we}),Vn=we({ngInjectableDef:we}),pr=we({ngInjectorDef:we});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let or;function rn(s){const o=or;return or=s,o}function Gn(s,o,u){const c=un(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Et.Optional?null:void 0!==o?o:void Pe(ce(s),"Injector")}function gr(s){return{toString:s}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),Lt=(()=>{return(s=Lt||(Lt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Lt;var s})();const ht="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ut=ht||"undefined"!=typeof global&&global||st||Pn,ln={},L=[],G=we({\u0275cmp:we}),W=we({\u0275dir:we}),Ce=we({\u0275pipe:we}),V=we({\u0275mod:we}),ee=we({\u0275fac:we}),B=we({__NG_ELEMENT_ID__:we});let te=0;function ve(s){return gr(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||L,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Lt.Emulated,id:"c",styles:s.styles||L,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=te++,c.inputs=U(s.inputs,u),c.outputs=U(s.outputs),p&&p.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(We):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ge):null,c})}function We(s){return ut(s)||function It(s){return s[W]||null}(s)}function Ge(s){return function Xt(s){return s[Ce]||null}(s)}const ft={};function J(s){return gr(()=>{const o={type:s.type,bootstrap:s.bootstrap||L,declarations:s.declarations||L,imports:s.imports||L,exports:s.exports||L,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ft[s.id]=s.type),o})}function U(s,o){if(null==s)return ln;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=c,o&&(o[h]=p)}return u}const Me=ve;function Xe(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ut(s){return s[G]||null}function Vt(s,o){const u=s[V]||null;if(!u&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return u}function Kr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yr(s){return Array.isArray(s)&&!0===s[1]}function Vo(s){return 0!=(8&s.flags)}function Bo(s){return 2==(2&s.flags)}function Ds(s){return 1==(1&s.flags)}function ri(s){return null!==s.template}function bd(s){return 0!=(512&s[2])}function Ci(s,o){return s.hasOwnProperty(ee)?s[ee]:null}class so{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function oo(){return Oa}function Oa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Id),$l}function $l(){const s=$o(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===ln)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Id(s,o,u,c){const h=$o(s)||function ao(s,o){return s[ls]=o}(s,{previous:ln,current:null}),p=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[u],C=y[E];p[E]=new so(C&&C.currentValue,o,y===ln),s[c]=o}oo.ngInherit=!0;const ls="__ngSimpleChanges__";function $o(s){return s[ls]||null}let Fa;function Ou(s){Fa=s}function cs(){return void 0!==Fa?Fa:"undefined"!=typeof document?document:void 0}function Rn(s){return!!s.listen}const La={createRenderer:(s,o)=>cs()};function An(s){for(;Array.isArray(s);)s=s[0];return s}function Va(s,o){return An(o[s])}function xr(s,o){return An(o[s.index])}function Ho(s,o){return s.data[o]}function N(s,o){const u=o[s];return Kr(u)?u:u[0]}function P(s){return 4==(4&s[2])}function K(s){return 128==(128&s[2])}function Ze(s,o){return null==o?null:s[o]}function tt(s){s[18]=0}function Mt(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const lt={lFrame:dp(null),bindingsEnabled:!0};function Ti(){return lt.bindingsEnabled}function Re(){return lt.lFrame.lView}function Ht(){return lt.lFrame.tView}function Fi(s){return lt.lFrame.contextLView=s,s[8]}function Ln(){let s=op();for(;null!==s&&64===s.type;)s=s.parent;return s}function op(){return lt.lFrame.currentTNode}function fs(s,o){const u=lt.lFrame;u.currentTNode=s,u.isParent=o}function Sd(){return lt.lFrame.isParent}function Ru(){lt.lFrame.isParent=!1}function Br(){const s=lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Za(){return lt.lFrame.bindingIndex++}function Ki(s){const o=lt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Gm(s,o){const u=lt.lFrame;u.bindingIndex=u.bindingRootIndex=s,zl(o)}function zl(s){lt.lFrame.currentDirectiveIndex=s}function Wl(s){const o=lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function up(){return lt.lFrame.currentQueryIndex}function lp(s){lt.lFrame.currentQueryIndex=s}function cp(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Fu(s,o,u){if(u&Et.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&Et.Host||(h=cp(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=lt.lFrame=Go();return c.currentTNode=o,c.lView=s,!0}function Kl(s){const o=Go(),u=s[1];lt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Go(){const s=lt.lFrame,o=null===s?null:s.child;return null===o?dp(s):o}function dp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function zm(){const s=lt.lFrame;return lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xd=zm;function Yi(){const s=zm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qr(){return lt.lFrame.selectedIndex}function lo(s){lt.lFrame.selectedIndex=s}function mr(){const s=lt.lFrame;return Ho(s.tView,s.selectedIndex)}function Ns(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:D}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=D&&(s.destroyHooks||(s.destroyHooks=[])).push(u,D)}}function Lu(s,o,u){Ym(s,o,3,u)}function Yl(s,o,u,c){(3&s[2])===u&&Ym(s,o,u,c)}function fp(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Ym(s,o,u,c){const p=null!=c?c:-1,y=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<p||-1==p)&&(R0(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function R0(s,o,u,c){const h=u[c]<0,p=u[c+1],E=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class $a{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Nd(s,o,u){const c=Rn(s);let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const y=u[h++],E=u[h++],C=u[h++];c?s.setAttribute(o,E,C,y):o.setAttributeNS(y,E,C)}else{const y=p,E=u[++h];Pd(y)?c&&s.setProperty(o,y,E):c?s.setAttribute(o,y,E):o.setAttribute(y,E),h++}}return h}function Jl(s){return 3===s||4===s||6===s}function Pd(s){return 64===s.charCodeAt(0)}function Vu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||Ha(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function Ha(s,o,u,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Ga(s){return-1!==s}function Cn(s){return 32767&s}function kt(s,o){let u=function Jr(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Od=!0;function za(s){const o=Od;return Od=s,o}let pp=0;function ii(s,o){const u=Wo(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,zo(c.data,s),zo(o,null),zo(c.blueprint,null));const h=Xl(s,o),p=s.injectorIndex;if(Ga(h)){const y=Cn(h),E=kt(h,o),C=E[1].data;for(let T=0;T<8;T++)o[p+T]=E[y+T]|C[y+T]}return o[p+8]=h,p}function zo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Xl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Wa(s,o,u){!function ps(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(B)&&(c=u[B]),null==c&&(c=u[B]=pp++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function si(s,o,u){if(u&Et.Optional)return s;Pe(o,"NodeInjector")}function Rs(s,o,u,c){if(u&Et.Optional&&void 0===c&&(c=null),0==(u&(Et.Self|Et.Host))){const h=s[9],p=rn(void 0);try{return h?h.get(o,c,u&Et.Optional):Gn(o,c,u&Et.Optional)}finally{rn(p)}}return si(c,o,u)}function Bu(s,o,u,c=Et.Default,h){if(null!==s){const p=function mp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(B)?s[B]:void 0;return"number"==typeof o?o>=0?255&o:co:o}(u);if("function"==typeof p){if(!Fu(o,s,c))return c&Et.Host?si(h,u,c):Rs(o,u,c,h);try{const y=p(c);if(null!=y||c&Et.Optional)return y;Pe(u)}finally{xd()}}else if("number"==typeof p){let y=null,E=Wo(s,o),C=-1,T=c&Et.Host?o[16][6]:null;for((-1===E||c&Et.SkipSelf)&&(C=-1===E?Xl(s,o):o[E+8],-1!==C&&Ld(c,!1)?(y=o[1],E=Cn(C),o=kt(C,o)):E=-1);-1!==E;){const D=o[1];if(Fd(p,E,D.data)){const R=Xm(E,o,u,y,c,T);if(R!==Nr)return R}C=o[E+8],-1!==C&&Ld(c,o[1].data[E+8]===T)&&Fd(p,E,o)?(y=D,E=Cn(C),o=kt(C,o)):E=-1}}}return Rs(o,u,c,h)}const Nr={};function co(){return new ks(Ln(),Re())}function Xm(s,o,u,c,h,p){const y=o[1],E=y.data[s+8],D=Kt(E,y,u,null==c?Bo(E)&&Od:c!=y&&0!=(3&E.type),h&Et.Host&&p===E);return null!==D?Ko(o,y,D,E):Nr}function Kt(s,o,u,c,h){const p=s.providerIndexes,y=o.data,E=1048575&p,C=s.directiveStart,D=p>>20,q=h?E+D:s.directiveEnd;for(let ne=c?E:E+D;ne<q;ne++){const xe=y[ne];if(ne<C&&u===xe||ne>=C&&xe.type===u)return ne}if(h){const ne=y[C];if(ne&&ri(ne)&&ne.type===u)return C}return null}function Ko(s,o,u,c){let h=s[u];const p=o.data;if(function k0(s){return s instanceof $a}(h)){const y=h;y.resolving&&function rt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${s}${u}`)}(Te(p[u]));const E=za(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?rn(y.injectImpl):null;Fu(s,c,Et.Default);try{h=s[u]=y.factory(void 0,p,s,c),o.firstCreatePass&&u>=c.directiveStart&&function hp(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=Oa(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==C&&rn(C),za(E),y.resolving=!1,xd()}}return h}function Fd(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Ld(s,o){return!(s&Et.Self||s&Et.Host&&o)}class ks{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Bu(this._tNode,this._lView,o,c,u)}}function Ud(s){return gr(()=>{const o=s.prototype.constructor,u=o[ee]||ju(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[ee]||ju(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ju(s){return qe(s)?()=>{const o=ju(se(s));return o&&o()}:Ci(s)}function Zu(s){return function gp(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const p=u[h];if(Jl(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(Ln(),s)}const Yo="__parameters__";function Ka(s,o,u){return gr(()=>{const c=function ec(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(C,T,D){const R=C.hasOwnProperty(Yo)?C[Yo]:Object.defineProperty(C,Yo,{value:[]})[Yo];for(;R.length<=D;)R.push(null);return(R[D]=R[D]||[]).push(y),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class qn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=tn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _p=new qn("AnalyzeForEntryComponents");function mi(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),mi(c,o)):o!==s&&o.push(c)}return o}function lr(s,o){s.forEach(u=>Array.isArray(u)?lr(u,o):o(u))}function Ii(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function fo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ai(s,o,u){let c=qu(s,o);return c>=0?s[1|c]=u:(c=~c,function iy(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Cp(s,o){const u=qu(s,o);if(u>=0)return s[1|u]}function qu(s,o){return function $d(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:c=p+1}return~(h<<u)}(s,o,1)}const ys={},Gu="__NG_DI_FLAG__",rc="ngTempTokenPath",Ip=/\n/gm,Ap="__source",L0=we({provide:String,useValue:we});let Qo;function Wd(s){const o=Qo;return Qo=s,o}function U0(s,o=Et.Default){if(void 0===Qo)throw new Ve(203,"");return null===Qo?Gn(s,void 0,o):Qo.get(s,o&Et.Optional?null:void 0,o)}function cr(s,o=Et.Default){return(function an(){return or}()||U0)(se(s),o)}const Sp=cr;function Jo(s){const o=[];for(let u=0;u<s.length;u++){const c=se(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Ve(900,"");let h,p=Et.Default;for(let y=0;y<c.length;y++){const E=c[y],C=Mp(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}o.push(cr(h,p))}else o.push(cr(c))}return o}function Xo(s,o){return s[Gu]=o,s.prototype[Gu]=o,s}function Mp(s){return s[Gu]}const mo=Xo(Ka("Inject",s=>({token:s})),-1),Li=Xo(Ka("Optional"),8),Xa=Xo(Ka("SkipSelf"),4);let _o,uc;function Qu(s){var o;return(null===(o=function ac(){if(void 0===_o&&(_o=null,Ut.trustedTypes))try{_o=Ut.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return _o}())||void 0===o?void 0:o.createHTML(s))||s}function Pp(s){var o;return(null===(o=function lc(){if(void 0===uc&&(uc=null,Ut.trustedTypes))try{uc=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return uc}())||void 0===o?void 0:o.createHTML(s))||s}class Tr{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ly extends Tr{getTypeName(){return"HTML"}}class Op extends Tr{getTypeName(){return"Style"}}class cy extends Tr{getTypeName(){return"Script"}}class j0 extends Tr{getTypeName(){return"URL"}}class cc extends Tr{getTypeName(){return"ResourceURL"}}function Us(s){return s instanceof Tr?s.changingThisBreaksApplicationSecurity:s}function Vs(s,o){const u=Rp(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Rp(s){return s instanceof Tr&&s.getTypeName()||null}function Xd(s){return new ly(s)}function eh(s){return new Op(s)}function th(s){return new cy(s)}function kp(s){return new j0(s)}function Fp(s){return new cc(s)}class dy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Qu(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class nh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Qu(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Qu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const rh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(s){return(s=String(s)).match(rh)||s.match(g)?s:"unsafe:"+s}function A(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function O(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const ie=A("area,br,col,hr,img,wbr"),Le=A("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ct=A("rp,rt"),_i=O(ie,O(Le,A("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(ct,A("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(ct,Le)),_s=A("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ra=A("srcset"),Bs=O(_s,ra,A("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),A("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lp=A("script,style,template");class dc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!_i.hasOwnProperty(u))return this.sanitizedSomething=!0,!Lp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,E=y.toLowerCase();if(!Bs.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;_s[E]&&(C=m(C)),ra[E]&&(s=C,C=(s=String(s)).split(",").map(o=>m(o.trim())).join(", ")),this.buf.push(" ",y,'="',hc(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();_i.hasOwnProperty(u)&&!ie.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(hc(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Up=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sh=/([^\#-~ |!])/g;function hc(s){return s.replace(/&/g,"&amp;").replace(Up,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(sh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ju;function fc(s,o){let u=null;try{Ju=Ju||function yi(s){const o=new nh(s);return function hy(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch(s){return!1}}()?new dy(o):o}(s);let c=o?String(o):"";u=Ju.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=u.innerHTML,u=Ju.getInertBodyElement(c)}while(c!==p);return Qu((new dc).sanitizeChildren(nu(u)||u))}finally{if(u){const c=nu(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function nu(s){return"content"in s&&function py(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function Z0(s){const o=Xu();return o?Pp(o.sanitize(yr.HTML,s)||""):Vs(s,"HTML")?Pp(Us(s)):fc(cs(),ye(s))}function gy(s){const o=Xu();return o?o.sanitize(yr.URL,s)||"":Vs(s,"URL")?Us(s):m(ye(s))}function Xu(){const s=Re();return s&&s[12]}const oi="__ngContext__";function gt(s,o){s[oi]=o}function pc(s){const o=function oh(s){return s[oi]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function yy(s){return s.ngOriginalError}function el(s,...o){s.error(...o)}class gc{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=function uh(s){return s&&s.ngErrorLogger||el}(o);c(this._console,"ERROR",o),u&&c(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&yy(o);for(;u&&yy(u);)u=yy(u);return u||null}}const gS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ut))();function ia(s){return s instanceof Function?s():s}var sa=(()=>((sa=sa||{})[sa.Important=1]="Important",sa[sa.DashCase=2]="DashCase",sa))();function Ne(s,o){return undefined(s,o)}function en(s){const o=s[3];return Yr(o)?o[3]:o}function by(s){return jr(s[13])}function wy(s){return jr(s[4])}function jr(s){for(;null!==s&&!Yr(s);)s=s[4];return s}function aa(s,o,u,c,h){if(null!=c){let p,y=!1;Yr(c)?p=c:Kr(c)&&(y=!0,c=c[0]);const E=An(c);0===s&&null!==u?null==h?rE(o,u,E):rl(o,u,E,h||null,!0):1===s&&null!==u?rl(o,u,E,h||null,!0):2===s?function zp(s,o,u){const c=ru(s,o);c&&function wT(s,o,u,c){Rn(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function uE(s,o,u,c,h){const p=u[7];p!==An(u)&&aa(o,s,c,p,h);for(let E=10;E<u.length;E++){const C=u[E];ua(C[1],C,s,o,c,p)}}(o,s,p,u,h)}}function Cy(s,o,u){if(Rn(s))return s.createElement(o,u);{const c=null!==u?function ka(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function hh(s,o){const u=s[9],c=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Mt(h,-1)),u.splice(c,1)}function jp(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&hh(h,c),o>0&&(s[u-1][4]=c[4]);const p=fo(s,10+o);!function eE(s,o){ua(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function tE(s,o){if(!(256&o[2])){const u=o[11];Rn(u)&&u.destroyNode&&ua(s,o,u,3,null,null),function ET(s){let o=s[13];if(!o)return fh(s[1],s);for(;o;){let u=null;if(Kr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Kr(o)&&fh(o[1],o),o=o[3];null===o&&(o=s),Kr(o)&&fh(o[1],o),u=o&&o[4]}o=u}}(o)}}function fh(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ty(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof $a)){const p=u[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],C=p[y+1];try{C.call(E)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Zp(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+1],E="function"==typeof y?y(o):An(o[y]),C=c[h=u[p+2]],T=u[p+3];"boolean"==typeof T?E.removeEventListener(u[p],C,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),p+=2}else{const y=c[h=u[p+1]];u[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&Rn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Yr(o[3])){u!==o[3]&&hh(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function $p(s,o,u){return function nE(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Lt.None||h===Lt.Emulated)return null}return xr(c,u)}(s,o.parent,u)}function rl(s,o,u,c,h){Rn(s)?s.insertBefore(o,u,c,h):o.insertBefore(u,c,h)}function rE(s,o,u){Rn(s)?s.appendChild(o,u):o.appendChild(u)}function iE(s,o,u,c,h){null!==c?rl(s,o,u,c,h):rE(s,o,u)}function ru(s,o){return Rn(s)?s.parentNode(o):o.parentNode}let oE=function Iy(s,o,u){return 40&s.type?xr(s,u):null};function qp(s,o,u,c){const h=$p(s,c,o),p=o[11],E=function ph(s,o,u){return oE(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)iE(p,h,u[C],E,!1);else iE(p,h,u,E,!1)}function gh(s,o){if(null!==o){const u=o.type;if(3&u)return xr(o,s);if(4&u)return Gp(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return gh(s,c);{const h=s[o.index];return Yr(h)?Gp(-1,h):An(h)}}if(32&u)return Ne(o,s)()||An(s[o.index]);{const c=Hp(s,o);return null!==c?Array.isArray(c)?c[0]:gh(en(s[16]),c):gh(s,o.next)}}return null}function Hp(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Gp(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return gh(c,h)}return o[7]}function Wp(s,o,u,c,h,p,y){for(;null!=u;){const E=c[u.index],C=u.type;if(y&&0===o&&(E&&gt(An(E),c),u.flags|=4),64!=(64&u.flags))if(8&C)Wp(s,o,u.child,c,h,p,!1),aa(o,s,h,E,p);else if(32&C){const T=Ne(u,c);let D;for(;D=T();)aa(o,s,h,D,p);aa(o,s,h,E,p)}else 16&C?Kp(s,o,c,u,h,p):aa(o,s,h,E,p);u=y?u.projectionNext:u.next}}function ua(s,o,u,c,h,p){Wp(u,c,s.firstChild,o,h,p,!1)}function Kp(s,o,u,c,h,p){const y=u[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)aa(o,s,h,C[T],p);else Wp(s,o,C,y[3],h,p,!0)}function Yp(s,o,u){Rn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function Qp(s,o,u){Rn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function Dy(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}u=h+1}}const cE="ng-template";function IT(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==Dy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function dE(s){return 4===s.type&&s.value!==cE}function Jp(s,o,u){return o===(4!==s.type||u?s.value:cE)}function Sy(s,o,u){let c=4;const h=s.attrs||[],p=function hE(s){for(let o=0;o<s.length;o++)if(Jl(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!Jp(s,C,u)||""===C&&1===o.length){if(Ji(c))return!1;y=!0}}else{const T=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!IT(s.attrs,T,u)){if(Ji(c))return!1;y=!0}continue}const R=My(8&c?"class":C,h,dE(s),u);if(-1===R){if(Ji(c))return!1;y=!0;continue}if(""!==T){let q;q=R>p?"":h[R+1].toLowerCase();const ne=8&c?q:null;if(ne&&-1!==Dy(ne,T,0)||2&c&&T!==q){if(Ji(c))return!1;y=!0}}}}else{if(!y&&!Ji(c)&&!Ji(C))return!1;if(y&&Ji(C))continue;y=!1,c=C|1&c}}return Ji(c)||y}function Ji(s){return 0==(1&s)}function My(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Xp(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function xy(s,o,u=!1){for(let c=0;c<o.length;c++)if(Sy(s,o[c],u))return!0;return!1}function fE(s,o){return s?":not("+o.trim()+")":o}function ST(s){let o=s[0],u=1,c=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&c){const E=s[++u];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Ji(y)&&(o+=fE(p,h),h=""),c=y,p=p||!Ji(c);u++}return""!==h&&(o+=fE(p,h)),o}const zt={};function pE(s){gE(Ht(),Re(),Qr()+s,!1)}function gE(s,o,u,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Lu(o,p,u)}else{const p=s.preOrderHooks;null!==p&&Yl(o,p,0,u)}lo(u)}function eg(s,o){return s<<17|o<<2}function Bi(s){return s>>17&32767}function mh(s){return 2|s}function la(s){return(131068&s)>>2}function Py(s,o){return-131069&s|o<<2}function tg(s){return 1|s}function DE(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],p=u[c+1];if(-1!==p){const y=s.data[p];lp(h),y.contentQueries(2,o[p],p)}}}function su(s,o,u,c,h,p,y,E,C,T){const D=o.blueprint.slice();return D[0]=h,D[2]=140|c,tt(D),D[3]=D[15]=s,D[8]=u,D[10]=y||s&&s[10],D[11]=E||s&&s[11],D[12]=C||s&&s[12]||null,D[9]=T||s&&s[9]||null,D[6]=p,D[16]=2==o.type?s[16]:D,D}function mc(s,o,u,c,h){let p=s.data[o];if(null===p)p=function il(s,o,u,c,h){const p=op(),y=Sd(),C=s.data[o]=function VT(s,o,u,c,h,p){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,u,c,h),function Hm(){return lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=c,p.attrs=h;const y=function uo(){const s=lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return fs(p,!0),p}function sl(s,o,u,c){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function vh(s,o,u){Kl(o);try{const c=s.viewQuery;null!==c&&i_(1,c,u);const h=s.template;null!==h&&SE(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&DE(s,o),s.staticViewQueries&&i_(2,s.viewQuery,u);const p=s.components;null!==p&&function _h(s,o){for(let u=0;u<o.length;u++)Xy(s,o[u])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Yi()}}function Eh(s,o,u,c){const h=o[2];if(256!=(256&h)){Kl(o);try{tt(o),function Hl(s){return lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&SE(s,o,u,2,c);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&Lu(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Yl(o,T,0,null),fp(o,0)}if(function LE(s){for(let o=by(s);null!==o;o=wy(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],p=h[3];0==(1024&h[2])&&Mt(p,1),h[2]|=1024}}}(o),function ZT(s){for(let o=by(s);null!==o;o=wy(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];K(c)&&Eh(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&DE(s,o),y){const T=s.contentCheckHooks;null!==T&&Lu(o,T)}else{const T=s.contentHooks;null!==T&&Yl(o,T,1),fp(o,1)}!function sg(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)lo(~h);else{const p=h,y=u[++c],E=u[++c];Gm(y,p),E(2,o[p])}}}finally{lo(-1)}}(s,o);const E=s.components;null!==E&&function Zy(s,o){for(let u=0;u<o.length;u++)ug(s,o[u])}(o,E);const C=s.viewQuery;if(null!==C&&i_(2,C,c),y){const T=s.viewCheckHooks;null!==T&&Lu(o,T)}else{const T=s.viewHooks;null!==T&&Yl(o,T,2),fp(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Mt(o[3],-1))}finally{Yi()}}}function UT(s,o,u,c){const h=o[10],y=P(o);try{!y&&h.begin&&h.begin(),y&&vh(s,o,c),Eh(s,o,u,c)}finally{!y&&h.end&&h.end()}}function SE(s,o,u,c,h){const p=Qr(),y=2&c;try{lo(-1),y&&o.length>20&&gE(s,o,20,!1),u(c,h)}finally{lo(p)}}function Eo(s,o,u){if(Vo(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}function dt(s,o,u){!Ti()||(function Mi(s,o,u,c){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||ii(u,o),gt(c,o);const y=u.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],T=ri(C);T&&Yy(o,u,C);const D=Ko(o,s,E,u);gt(D,o),null!==y&&_c(0,E-h,D,C,0,y),T&&(N(u.index,o)[8]=D)}}(s,o,u,xr(u,o)),128==(128&u.flags)&&function Hy(s,o,u){const c=u.directiveStart,h=u.directiveEnd,y=u.index,E=function Md(){return lt.lFrame.currentDirectiveIndex}();try{lo(y);for(let C=c;C<h;C++){const T=s.data[C],D=o[C];zl(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&vi(T,D)}}finally{lo(-1),zl(E)}}(s,o,u))}function bh(s,o,u=xr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],E=-1===y?u(o,s):s[y];s[h++]=E}}}function jt(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ol(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ol(s,o,u,c,h,p,y,E,C,T){const D=20+c,R=D+h,q=function $y(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:zt);return u}(D,R),ne="function"==typeof T?T():T;return q[1]={type:s,blueprint:q,template:u,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ne,incompleteFirstPass:!1}}function ME(s,o,u,c){const h=VE(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&Ih(s).push(c,h.length-1))}function xE(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function Nn(s,o,u,c,h,p,y,E){const C=xr(o,u);let D,T=o.inputs;!E&&null!=T&&(D=T[c])?(pg(s,u,D,c,h),Bo(o)&&function ou(s,o){const u=N(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function ag(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,Rn(p)?p.setProperty(C,c,h):Pd(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function wh(s,o,u,c){let h=!1;if(Ti()){const p=function OE(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];xy(u,y.selectors,!1)&&(h||(h=[]),Wa(ii(u,o),s,y.type),ri(y)?(Gy(s,u),h.unshift(y)):h.push(y))}return h}(s,o,u),y=null===c?null:{"":-1};if(null!==p){h=!0,Wy(u,s.data.length,p.length);for(let D=0;D<p.length;D++){const R=p[D];R.providersResolver&&R.providersResolver(R)}let E=!1,C=!1,T=sl(s,o,p.length,null);for(let D=0;D<p.length;D++){const R=p[D];u.mergedAttrs=Vu(u.mergedAttrs,R.hostAttrs),Ky(s,u,o,T,R),RE(T,R,y),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const q=R.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),T++}!function ui(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let E=null,C=null;for(let T=o.directiveStart;T<c;T++){const D=h[T],R=D.inputs,q=null===p||dE(o)?null:kE(R,p);y.push(q),E=xE(R,T,E),C=xE(D.outputs,T,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=E,o.outputs=C}(s,u)}y&&function zy(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Ve(-301,!1);c.push(o[h],p)}}}(u,c,y)}return u.mergedAttrs=Vu(u.mergedAttrs,u.attrs),h}function Ch(s,o,u,c,h,p){const y=p.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function PE(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=C&&E.push(C),E.push(c,h,y)}}function vi(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Gy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function RE(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;ri(o)&&(u[""]=s)}}function Wy(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Ky(s,o,u,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ci(h.type)),y=new $a(p,ri(h),null);s.blueprint[c]=y,u[c]=y,Ch(s,o,0,c,sl(s,u,h.hostVars,zt),h)}function Yy(s,o,u){const c=xr(o,s),h=jt(u),p=s[10],y=lg(s,su(s,h,null,u.onPush?64:16,c,o,p,p.createRenderer(c,u),null,null));s[o.index]=y}function bo(s,o,u,c,h,p){const y=xr(s,o);!function Qy(s,o,u,c,h,p,y){if(null==p)Rn(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const E=null==y?ye(p):y(p,c||"",h);Rn(s)?s.setAttribute(o,h,E,u):u?o.setAttributeNS(u,h,E):o.setAttribute(h,E)}}(o[11],y,p,s.value,u,c,h)}function _c(s,o,u,c,h,p){const y=p[o];if(null!==y){const E=c.setInput;for(let C=0;C<y.length;){const T=y[C++],D=y[C++],R=y[C++];null!==E?c.setInput(u,R,T,D):u[D]=R}}}function kE(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function Jy(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function ug(s,o){const u=N(o,s);if(K(u)){const c=u[1];80&u[2]?Eh(c,u,c.template,u[8]):u[5]>0&&Th(u)}}function Th(s){for(let c=by(s);null!==c;c=wy(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];Eh(y,p,y.template,p[8])}else p[5]>0&&Th(p)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=N(u[c],s);K(h)&&h[5]>0&&Th(h)}}function Xy(s,o){const u=N(o,s),c=u[1];(function e_(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),vh(c,u,u[8])}function lg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function t_(s){for(;s;){s[2]|=64;const o=en(s);if(bd(s)&&!o)return s;s=o}return null}function UE(s){!function cg(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=pc(u),h=c[1];UT(h,c,h.template,u)}}(s[8])}function i_(s,o,u){lp(0),o(s,u)}const $T=(()=>Promise.resolve(null))();function VE(s){return s[7]||(s[7]=[])}function Ih(s){return s.cleanup||(s.cleanup=[])}function fg(s,o){const u=s[9],c=u?u.get(gc,null):null;c&&c.handleError(o)}function pg(s,o,u,c,h){for(let p=0;p<u.length;){const y=u[p++],E=u[p++],C=o[y],T=s.data[y];null!==T.setInput?T.setInput(C,h,c,E):C[E]=h}}function Zs(s,o,u){const c=Va(o,s);!function X0(s,o,u){Rn(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function vc(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?h=me(h,E):2==p&&(c=me(c,E+": "+o[++y]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}const gg=new qn("INJECTOR",-1);class s_{get(o,u=ys){if(u===ys){const c=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw c.name="NullInjectorError",c}return u}}const Dh=new qn("Set Injector scope."),Ec={},qT={};let Sh;function mg(){return void 0===Sh&&(Sh=new s_),Sh}function yg(s,o=null,u=null,c){const h=Zr(s,o,u,c);return h._resolveInjectorDefTypes(),h}function Zr(s,o=null,u=null,c){return new li(s,u,o||mg(),c)}class li{constructor(o,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&lr(u,E=>this.processProvider(E,o,u)),lr([o],E=>this.processInjectorType(E,[],p)),this.records.set(gg,al(void 0,this));const y=this.records.get(Dh);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=ys,c=Et.Default){this.assertNotDestroyed();const h=Wd(this),p=rn(void 0);try{if(!(c&Et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function WT(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(o)&&un(o);E=C&&this.injectableDefInScope(C)?al(bc(o),Ec):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Et.Self?mg():this.parent).get(o,u=c&Et.Optional&&u===ys?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[rc]=y[rc]||[]).unshift(ce(o)),h)throw y;return function zu(s,o,u,c){const h=s[rc];throw o[Ap]&&h.unshift(o[Ap]),s.message=function ea(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}h=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(Ip,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[rc]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{rn(p),Wd(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(o,u,c){if(!(o=se(o)))return!1;let h=jn(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,E=-1!==c.indexOf(y);if(void 0!==p&&(h=jn(p)),null==h)return!1;if(null!=h.imports&&!E){let D;c.push(y);try{lr(h.imports,R=>{this.processInjectorType(R,u,c)&&(void 0===D&&(D=[]),D.push(R))})}finally{}if(void 0!==D)for(let R=0;R<D.length;R++){const{ngModule:q,providers:ne}=D[R];lr(ne,xe=>this.processProvider(xe,q,ne||L))}}this.injectorDefTypes.add(y);const C=Ci(y)||(()=>new y);this.records.set(y,al(C,Ec));const T=h.providers;if(null!=T&&!E){const D=o;lr(T,R=>this.processProvider(R,D,T))}return void 0!==p&&void 0!==o.providers}processProvider(o,u,c){let h=au(o=se(o))?o:se(o&&o.provide);const p=function HT(s,o,u){return $E(s)?al(void 0,s.useValue):al(ZE(s),Ec)}(o);if(au(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=al(void 0,Ec,!0),y.factory=()=>Jo(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,u){return u.value===Ec&&(u.value=qT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function qE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=se(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function bc(s){const o=un(s),u=null!==o?o.factory:Ci(s);if(null!==u)return u;if(s instanceof qn)throw new Ve(204,!1);if(s instanceof Function)return function o_(s){const o=s.length;if(o>0)throw function po(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new Ve(204,!1);const u=function Hr(s){const o=s&&(s[sr]||s[Vn]);if(o){const u=function bn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Ve(204,!1)}function ZE(s,o,u){let c;if(au(s)){const h=se(s);return Ci(h)||bc(h)}if($E(s))c=()=>se(s.useValue);else if(function a_(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Jo(s.deps||[]));else if(function GT(s){return!(!s||!s.useExisting)}(s))c=()=>cr(se(s.useExisting));else{const h=se(s&&(s.useClass||s.provide));if(!function u_(s){return!!s.deps}(s))return Ci(h)||bc(h);c=()=>new h(...Jo(s.deps))}return c}function al(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function $E(s){return null!==s&&"object"==typeof s&&L0 in s}function au(s){return"function"==typeof s}let Xi=(()=>{class s{static create(u,c){var h;if(Array.isArray(u))return yg({name:""},c,u,"");{const p=null!==(h=u.name)&&void 0!==h?h:"";return yg({name:p},u.parent,u.providers,p)}}}return s.THROW_IF_NOT_FOUND=ys,s.NULL=new s_,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>cr(gg)}),s.__NG_ELEMENT_ID__=-1,s})();function QE(s,o){Ns(pc(s)[1],Ln())}function xh(s){let o=function Cg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(ri(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ve(903,"");h=o.\u0275dir}if(h){if(u){c.push(h);const y=s;y.inputs=Ac(s.inputs),y.declaredInputs=Ac(s.declaredInputs),y.outputs=Ac(s.outputs);const E=h.hostBindings;E&&JT(s,E);const C=h.viewQuery,T=h.contentQueries;if(C&&Nh(s,C),T&&JE(s,T),ue(s.inputs,h.inputs),ue(s.declaredInputs,h.declaredInputs),ue(s.outputs,h.outputs),ri(h)&&h.data.animation){const D=s.data;D.animation=(D.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===xh&&(u=!1)}}o=Object.getPrototypeOf(o)}!function p_(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Vu(h.hostAttrs,u=Vu(u,h.hostAttrs))}}(c)}function Ac(s){return s===ln?{}:s===L?[]:s}function Nh(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function JE(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,p)=>{o(c,h,p),u(c,h,p)}:o}function JT(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}let Ph=null;function ll(){if(!Ph){const s=Ut.Symbol;if(s&&s.iterator)Ph=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ph=c)}}}return Ph}function Oh(s){return!!Dc(s)&&(Array.isArray(s)||!(s instanceof Map)&&ll()in s)}function Dc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function kh(s,o,u,c){const h=Re();return Xr(h,Za(),o)&&(Ht(),bo(mr(),h,s,o,u,c)),kh}function sb(s,o,u,c,h,p,y,E){const C=Re(),T=Ht(),D=s+20,R=T.firstCreatePass?function XT(s,o,u,c,h,p,y,E,C){const T=o.consts,D=mc(o,s,4,y||null,Ze(T,E));wh(o,u,D,Ze(T,C)),Ns(o,D);const R=D.tViews=ol(2,D,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,D),R.queries=o.queries.embeddedTView(D)),D}(D,T,C,o,u,c,h,p,y):T.data[D];fs(R,!1);const q=C[11].createComment("");qp(T,C,q,R),gt(q,C),lg(C,C[D]=Jy(q,C,q,R)),Ds(R)&&dt(T,C,R),null!=y&&bh(C,R,E)}function ma(s,o=Et.Default){const u=Re();return null===u?cr(s,o):Bu(Ln(),u,se(s),o)}function w_(){throw new Error("invalid")}function Bh(s,o,u){const c=Re();return Xr(c,Za(),o)&&Nn(Ht(),mr(),c,s,o,c[11],u,!1),Bh}function Rc(s,o,u,c,h){const y=h?"class":"style";pg(s,u,o.inputs[y],y,c)}function kc(s,o,u,c){const h=Re(),p=Ht(),y=20+s,E=h[11],C=h[y]=Cy(E,o,function O0(){return lt.lFrame.currentNamespace}()),T=p.firstCreatePass?function yb(s,o,u,c,h,p,y){const E=o.consts,T=mc(o,s,2,h,Ze(E,p));return wh(o,u,T,Ze(E,y)),null!==T.attrs&&vc(T,T.attrs,!1),null!==T.mergedAttrs&&vc(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,0,o,u,c):p.data[y];fs(T,!0);const D=T.mergedAttrs;null!==D&&Nd(E,C,D);const R=T.classes;null!==R&&Qp(E,C,R);const q=T.styles;return null!==q&&Yp(E,C,q),64!=(64&T.flags)&&qp(p,h,C,T),0===function Fn(){return lt.lFrame.elementDepthCount}()&&gt(C,h),function Wt(){lt.lFrame.elementDepthCount++}(),Ds(T)&&(dt(p,h,T),Eo(p,T,h)),null!==c&&bh(h,T),kc}function fl(){let s=Ln();Sd()?Ru():(s=s.parent,fs(s,!1));const o=s;!function Ms(){lt.lFrame.elementDepthCount--}();const u=Ht();return u.firstCreatePass&&(Ns(u,s),Vo(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function F0(s){return 0!=(16&s.flags)}(o)&&Rc(u,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function nr(s){return 0!=(32&s.flags)}(o)&&Rc(u,o,Re(),o.stylesWithoutHost,!1),fl}function C_(s,o,u,c){return kc(s,o,u,c),fl(),C_}function Zh(s,o,u){const c=Re(),h=Ht(),p=s+20,y=h.firstCreatePass?function jh(s,o,u,c,h){const p=o.consts,y=Ze(p,c),E=mc(o,s,8,"ng-container",y);return null!==y&&vc(E,y,!0),wh(o,u,E,Ze(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,c,o,u):h.data[p];fs(y,!0);const E=c[p]=c[11].createComment("");return qp(h,c,E,y),gt(E,c),Ds(y)&&(dt(h,c,y),Eo(h,y,c)),null!=u&&bh(c,y),Zh}function $h(){let s=Ln();const o=Ht();return Sd()?Ru():(s=s.parent,fs(s,!1)),o.firstCreatePass&&(Ns(o,s),Vo(s)&&o.queries.elementEnd(s)),$h}function Pg(){return Re()}function Og(s){return!!s&&"function"==typeof s.then}function qh(s){return!!s&&"function"==typeof s.subscribe}const T_=qh;function Rg(s,o,u,c){const h=Re(),p=Ht(),y=Ln();return function I_(s,o,u,c,h,p,y,E){const C=Ds(c),D=s.firstCreatePass&&Ih(s),R=o[8],q=VE(o);let ne=!0;if(3&c.type||E){const nt=xr(c,o),mt=E?E(nt):nt,ke=q.length,Dt=E?dn=>E(An(dn[c.index])):c.index;if(Rn(u)){let dn=null;if(!E&&C&&(dn=function _b(s,o,u,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===c){const E=o[7],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=p,dn.__ngLastListenerFn__=p,ne=!1;else{p=kg(c,o,R,p,!1);const En=u.listen(mt,h,p);q.push(p,En),D&&D.push(h,Dt,ke,ke+1)}}else p=kg(c,o,R,p,!0),mt.addEventListener(h,p,y),q.push(p),D&&D.push(h,Dt,ke,y)}else p=kg(c,o,R,p,!1);const xe=c.outputs;let ze;if(ne&&null!==xe&&(ze=xe[h])){const nt=ze.length;if(nt)for(let mt=0;mt<nt;mt+=2){const ts=o[ze[mt]][ze[mt+1]].subscribe(p),Da=q.length;q.push(p,ts),D&&D.push(h,c.index,Da,-(Da+1))}}}(p,h,h[11],y,s,o,!!u,c),Rg}function A_(s,o,u,c){try{return!1!==u(c)}catch(h){return fg(s,h),!1}}function kg(s,o,u,c,h){return function p(y){if(y===Function)return c;const E=2&s.flags?N(s.index,o):o;0==(32&o[2])&&t_(E);let C=A_(o,0,c,y),T=p.__ngNextListenerFn__;for(;T;)C=A_(o,0,T,y)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Hh(s=1){return function Wm(s){return(lt.lFrame.contextLView=function Km(s,o){for(;s>0;)o=o[15],s--;return o}(s,lt.lFrame.contextLView))[8]}(s)}function ya(s,o,u,c,h){const p=s[u+1],y=null===o;let E=c?Bi(p):la(p),C=!1;for(;0!==E&&(!1===C||y);){const D=s[E+1];M_(s[E],o)&&(C=!0,s[E+1]=c?tg(D):mh(D)),E=c?Bi(D):la(D)}C&&(s[u+1]=c?mh(p):tg(p))}function M_(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&qu(s,o)>=0}const $r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qe(s){return s.substring($r.key,$r.keyEnd)}function Lg(s,o){const u=$r.textEnd;return u===o?-1:(o=$r.keyEnd=function Ee(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,$r.key=o,u),it(s,o,u))}function it(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function x_(s,o,u){return dr(s,o,u,!1),x_}function N_(s,o){return dr(s,o,null,!0),N_}function xb(s){!function qs(s,o,u,c){const h=Ht(),p=Ki(2);h.firstUpdatePass&&Yt(h,null,p,c);const y=Re();if(u!==zt&&Xr(y,p,u)){const E=h.data[Qr()];if(Rr(E,c)&&!P_(h,p)){let C=c?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(u=me(C,u||"")),Rc(h,E,y,u,c)}else!function pn(s,o,u,c,h,p,y,E){h===zt&&(h=L);let C=0,T=0,D=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==D||null!==R;){const q=C<h.length?h[C+1]:void 0,ne=T<p.length?p[T+1]:void 0;let ze,xe=null;D===R?(C+=2,T+=2,q!==ne&&(xe=R,ze=ne)):null===R||null!==D&&D<R?(C+=2,xe=D):(T+=2,xe=R,ze=ne),null!==xe&&Ob(s,o,u,c,xe,ze,y,E),D=C<h.length?h[C]:null,R=T<p.length?p[T]:null}}(h,E,y,y[11],y[p+1],y[p+1]=function Pb(s,o,u){if(null==u||""===u)return L;const c=[],h=Us(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,u),c,p)}}(Ai,_a,s,!0)}function _a(s,o){for(let u=function zh(s){return function Ab(s){$r.key=0,$r.keyEnd=0,$r.value=0,$r.valueEnd=0,$r.textEnd=s.length}(s),Lg(s,it(s,0,$r.textEnd))}(o);u>=0;u=Lg(o,u))Ai(s,Qe(o),!0)}function dr(s,o,u,c){const h=Re(),p=Ht(),y=Ki(2);p.firstUpdatePass&&Yt(p,s,y,c),o!==zt&&Xr(h,y,o)&&Ob(p,p.data[Qr()],h,h[11],s,h[y+1]=function fI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Us(s)))),s}(o,u),c,y)}function P_(s,o){return o>=s.expandoStartIndex}function Yt(s,o,u,c){const h=s.data;if(null===h[u+1]){const p=h[Qr()],y=P_(s,u);Rr(p,c)&&null===o&&!y&&(o=!1),o=function Lc(s,o,u,c){const h=Wl(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Hs(u=Ug(null,s,o,u,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=Ug(h,s,o,u,c),null===p){let C=function Nb(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==la(c))return s[Bi(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=Ug(null,s,o,C[1],c),C=Hs(C,o.attrs,c),function Ar(s,o,u,c){s[Bi(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function Rt(s,o,u){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Hs(c,s[p].hostAttrs,u);return Hs(c,o.attrs,u)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,c),function di(s,o,u,c,h,p){let y=p?o.classBindings:o.styleBindings,E=Bi(y),C=la(y);s[c]=u;let D,T=!1;if(Array.isArray(u)){const R=u;D=R[1],(null===D||qu(R,D)>0)&&(T=!0)}else D=u;if(h)if(0!==C){const q=Bi(s[E+1]);s[c+1]=eg(q,E),0!==q&&(s[q+1]=Py(s[q+1],c)),s[E+1]=function yE(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=eg(E,0),0!==E&&(s[E+1]=Py(s[E+1],c)),E=c;else s[c+1]=eg(C,0),0===E?E=c:s[C+1]=Py(s[C+1],c),C=c;T&&(s[c+1]=mh(s[c+1])),ya(s,D,c,!0),ya(s,D,c,!1),function Fc(s,o,u,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&qu(p,o)>=0&&(u[c+1]=tg(u[c+1]))}(o,D,s,c,p),y=eg(E,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,c)}}function Ug(s,o,u,c,h){let p=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(p=o[E],c=Hs(c,p.hostAttrs,h),p!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function Hs(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ai(s,y,!!u||o[++p]))}return void 0===s?null:s}function Ob(s,o,u,c,h,p,y,E){if(!(3&o.type))return;const C=s.data,T=C[E+1];va(function _E(s){return 1==(1&s)}(T)?Or(C,o,u,h,la(T),y):void 0)||(va(p)||function Ny(s){return 2==(2&s)}(T)&&(p=Or(C,null,u,h,E,y)),function TT(s,o,u,c,h){const p=Rn(s);if(o)h?p?s.addClass(u,c):u.classList.add(c):p?s.removeClass(u,c):u.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:sa.DashCase;if(null==h)p?s.removeStyle(u,c,y):u.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),y|=sa.Important),p?s.setStyle(u,c,h,y):u.style.setProperty(c,h,E?"important":"")}}}(c,y,Va(Qr(),u),h,p))}function Or(s,o,u,c,h,p){const y=null===o;let E;for(;h>0;){const C=s[h],T=Array.isArray(C),D=T?C[1]:C,R=null===D;let q=u[h+1];q===zt&&(q=R?L:void 0);let ne=R?Cp(q,c):D===c?q:void 0;if(T&&!va(ne)&&(ne=Cp(C,c)),va(ne)&&(E=ne,y))return E;const xe=s[h+1];h=y?Bi(xe):la(xe)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=Cp(C,c))}return E}function va(s){return void 0!==s}function Rr(s,o){return 0!=(s.flags&(o?16:32))}function Rb(s,o=""){const u=Re(),c=Ht(),h=s+20,p=c.firstCreatePass?mc(c,h,1,o,null):c.data[h],y=u[h]=function dh(s,o){return Rn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);qp(c,u,y,p),fs(p,!1)}function To(s){return Yn("",s,""),To}function Yn(s,o,u){const c=Re(),h=function dl(s,o,u,c){return Xr(s,Za(),u)?o+ye(u)+c:zt}(c,s,o,u);return h!==zt&&Zs(c,Qr(),h),Yn}function Ea(s,o,u){const c=Re();if(Xr(c,Za(),o)){const p=Ht(),y=mr();Nn(p,y,c,s,o,function Ah(s,o,u){return(null===s||ri(s))&&(u=function ds(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(Wl(p.data),y,c),u,!0)}return Ea}const Do=void 0;var Zb=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jh(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let $c={};function $g(s){const o=function qc(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=ei(o);if(u)return u;const c=o.split("-")[0];if(u=ei(c),u)return u;if("en"===c)return Zb;throw new Error(`Missing locale data for the locale "${s}".`)}function Xh(s){return $g(s)[St.PluralCase]}function ei(s){return s in $c||($c[s]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[s]),$c[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Mo="en-US";let B_=Mo;function Qc(s,o,u,c,h){if(s=se(s),Array.isArray(s))for(let p=0;p<s.length;p++)Qc(s[p],o,u,c,h);else{const p=Ht(),y=Re();let E=au(s)?s:se(s.provide),C=ZE(s);const T=Ln(),D=1048575&T.providerIndexes,R=T.directiveStart,q=T.providerIndexes>>20;if(au(s)||!s.multi){const ne=new $a(C,h,ma),xe=Yg(E,o,h?D:D+q,R);-1===xe?(Wa(ii(T,y),p,E),Kg(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(ne),y.push(ne)):(u[xe]=ne,y[xe]=ne)}else{const ne=Yg(E,o,D+q,R),xe=Yg(E,o,D,D+q),ze=ne>=0&&u[ne],nt=xe>=0&&u[xe];if(h&&!nt||!h&&!ze){Wa(ii(T,y),p,E);const mt=function OI(s,o,u,c,h){const p=new $a(s,u,ma);return p.multi=[],p.index=o,p.componentProviders=0,Q_(p,h,c&&!u),p}(h?lw:PI,u.length,h,c,C);!h&&nt&&(u[xe].providerFactory=mt),Kg(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(mt),y.push(mt)}else Kg(p,s,ne>-1?ne:xe,Q_(u[h?xe:ne],C,!h&&c));!h&&c&&nt&&u[xe].componentProviders++}}}function Kg(s,o,u,c){const h=au(o),p=function zT(s){return!!s.useClass}(o);if(h||p){const C=(p?se(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const D=T.indexOf(u);-1===D?T.push(u,[c,C]):T[D+1].push(c,C)}else T.push(u,C)}}}function Q_(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Yg(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function PI(s,o,u,c){return Qg(this.multi,[])}function lw(s,o,u,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Ko(u,u[1],this.providerFactory.index,c);p=E.slice(0,y),Qg(h,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],Qg(h,p);return p}function Qg(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function cw(s,o=[]){return u=>{u.providersResolver=(c,h)=>function cf(s,o,u){const c=Ht();if(c.firstCreatePass){const h=ri(s);Qc(u,c.data,c.blueprint,h,!0),Qc(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Jc{}class J_{resolveComponentFactory(o){throw function dw(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let df=(()=>{class s{}return s.NULL=new J_,s})();function hf(){return Ni(Ln(),Re())}function Ni(s,o){return new Cl(xr(s,o))}let Cl=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=hf,s})();function fw(s){return s instanceof Cl?s.nativeElement:s}class X_{}let pw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function kI(){const s=Re(),u=N(Ln().index,s);return function gw(s){return s[11]}(Kr(u)?u:s)}(),s})(),FI=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class Xc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xg=new Xc("13.3.9"),ev={};function ff(s,o,u,c,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&c.push(An(p)),Yr(p))for(let E=10;E<p.length;E++){const C=p[E],T=C[1].firstChild;null!==T&&ff(C[1],C,T,c)}const y=u.type;if(8&y)ff(s,o,u.child,c);else if(32&y){const E=Ne(u,o);let C;for(;C=E();)c.push(C)}else if(16&y){const E=Hp(o,u);if(Array.isArray(E))c.push(...E);else{const C=en(o[16]);ff(C[1],C,E,c,!0)}}u=h?u.projectionNext:u.next}return c}class ed{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return ff(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Yr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(jp(o,c),fo(u,c))}this._attachedToViewContainer=!1}tE(this._lView[1],this._lView)}onDestroy(o){ME(this._lView[1],this._lView,null,o)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function r_(s,o,u){const c=o[10];c.begin&&c.begin();try{Eh(s,o,s.template,u)}catch(h){throw fg(o,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vT(s,o){ua(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=o}}class mw extends ed{constructor(o){super(o),this._view=o}detectChanges(){UE(this._view)}checkNoChanges(){}get context(){return null}}class yw extends df{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=ut(o);return new yu(u,this.ngModule)}}function tv(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class yu extends Jc{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function MT(s){return s.map(ST).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return tv(this.componentDef.inputs)}get outputs(){return tv(this.componentDef.outputs)}create(o,u,c,h){const p=(h=h||this.ngModule)?function UI(s,o){return{get:(u,c,h)=>{const p=s.get(u,ev,h);return p!==ev||c===ev?p:o.get(u,c,h)}}}(o,h.injector):o,y=p.get(X_,La),E=p.get(FI,null),C=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",D=c?function og(s,o,u){if(Rn(s))return s.selectRootElement(o,u===Lt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):Cy(y.createRenderer(null,this.componentDef),T,function LI(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(T)),R=this.componentDef.onPush?576:528,q=function f_(s,o){return{components:[],scheduler:s||gS,clean:$T,playerHandler:o||null,flags:0}}(),ne=ol(0,null,null,1,0,null,null,null,null,null),xe=su(null,ne,q,R,null,null,y,C,E,p);let ze,nt;Kl(xe);try{const mt=function h_(s,o,u,c,h,p){const y=u[1];u[20]=s;const C=mc(y,20,2,"#host",null),T=C.mergedAttrs=o.hostAttrs;null!==T&&(vc(C,T,!0),null!==s&&(Nd(h,s,T),null!==C.classes&&Qp(h,s,C.classes),null!==C.styles&&Yp(h,s,C.styles)));const D=c.createRenderer(s,o),R=su(u,jt(o),null,o.onPush?64:16,u[20],C,c,D,p||null,null);return y.firstCreatePass&&(Wa(ii(C,u),y,o.type),Gy(y,C),Wy(C,u.length,1)),lg(u,R),u[20]=R}(D,this.componentDef,xe,y,C);if(D)if(c)Nd(C,D,["ng-version",Xg.full]);else{const{attrs:ke,classes:Dt}=function xT(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&u.push(p);else{if(!Ji(h))break;h=p}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);ke&&Nd(C,D,ke),Dt&&Dt.length>0&&Qp(C,D,Dt.join(" "))}if(nt=Ho(ne,20),void 0!==u){const ke=nt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const dn=u[Dt];ke.push(null!=dn?Array.from(dn):null)}}ze=function bg(s,o,u,c,h){const p=u[1],y=function NE(s,o,u){const c=Ln();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Ky(s,c,o,sl(s,o,1,null),u));const h=Ko(o,s,c.directiveStart,c);gt(h,o);const p=xr(c,o);return p&&gt(p,o),h}(p,u,o);if(c.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=Ln();o.contentQueries(1,y,C.directiveStart)}const E=Ln();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(lo(E.index),Ch(u[1],E,0,E.directiveStart,E.directiveEnd,o),vi(o,y)),y}(mt,this.componentDef,xe,q,[QE]),vh(ne,xe,null)}finally{Yi()}return new VI(this.componentType,ze,Ni(nt,xe),xe,nt)}}class VI extends class RI{}{constructor(o,u,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new mw(h),this.componentType=o}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Tl{}class Ei{}const nd=new Map;class vw extends Tl{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yw(this);const c=Vt(o);this._bootstrapComponents=ia(c.bootstrap),this._r3Injector=Zr(o,u,[{provide:Tl,useValue:this},{provide:df,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Xi.THROW_IF_NOT_FOUND,c=Et.Default){return o===Xi||o===Tl||o===gg?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class iv extends Ei{constructor(o){super(),this.moduleType=o,null!==Vt(o)&&function _w(s){const o=new Set;!function u(c){const h=Vt(c,!0),p=h.id;null!==p&&(function zs(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,nd.get(p),c),nd.set(p,c));const y=ia(h.imports);for(const E of y)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new vw(this.moduleType,o)}}function Ew(s,o,u,c){return bw(Re(),Br(),s,o,u,c)}function bw(s,o,u,c,h,p){const y=o+u;return Xr(s,y,h)?function Zi(s,o,u){return s[o]=u}(s,y+1,p?c.call(p,h):c(h)):function pf(s,o){const u=s[o];return u===zt?void 0:u}(s,y+1)}function av(s,o){const u=Ht();let c;const h=s+20;u.firstCreatePass?(c=function Tw(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const p=c.factory||(c.factory=Ci(c.type)),y=rn(ma);try{const E=za(!1),C=p();return za(E),function eI(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Re(),h,C),C}finally{rn(y)}}function be(s,o,u){const c=s+20,h=Re(),p=function Wi(s,o){return s[o]}(h,c);return function Ks(s,o){return s[1].data[o].pure}(h,c)?bw(h,Br(),o,p.transform,u,p):p.transform(u)}function ba(s){return o=>{setTimeout(s,void 0,o)}}const Ys=class JI extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var h,p,y;let E=o,C=u||(()=>null),T=c;if(o&&"object"==typeof o){const R=o;E=null===(h=R.next)||void 0===h?void 0:h.bind(R),C=null===(p=R.error)||void 0===p?void 0:p.bind(R),T=null===(y=R.complete)||void 0===y?void 0:y.bind(R)}this.__isAsync&&(C=ba(C),E&&(E=ba(E)),T&&(T=ba(T)));const D=super.subscribe({next:E,error:C,complete:T});return o instanceof k.w0&&o.add(D),D}};function uv(){return this._results[ll()]()}class tm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ll(),c=tm.prototype;c[u]||(c[u]=uv)}get changes(){return this._changes||(this._changes=new Ys)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=mi(o);(this._changesDetected=!function wp(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _r=(()=>{class s{}return s.__NG_ELEMENT_ID__=dv,s})();const lv=_r,cv=class extends lv{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=su(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(u)),vh(u,c,o),new ed(c)}};function dv(){return Qs(Ln(),Re())}function Qs(s,o){return 4&s.type?new cv(o,s,Ni(s,o)):null}let mf=(()=>{class s{}return s.__NG_ELEMENT_ID__=XI,s})();function XI(){return Il(Ln(),Re())}const Iw=mf,yf=class extends Iw{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Ni(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const o=Xl(this._hostTNode,this._hostLView);if(Ga(o)){const u=kt(o,this._hostLView),c=Cn(o);return new ks(u[1].data[c+8],u)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=_u(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const h=o.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(o,u,c,h,p){const y=o&&!function ur(s){return"function"==typeof s}(o);let E;if(y)E=u;else{const R=u||{};E=R.index,c=R.injector,h=R.projectableNodes,p=R.ngModuleRef}const C=y?o:new yu(ut(o)),T=c||this.parentInjector;if(!p&&null==C.ngModule){const q=(y?T:this.parentInjector).get(Tl,null);q&&(p=q)}const D=C.create(T,h,void 0,p);return this.insert(D.hostView,E),D}insert(o,u){const c=o._lView,h=c[1];if(function pe(s){return Yr(s[3])}(c)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const R=c[3],q=new yf(R,R[6],R[3]);q.detach(q.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function bT(s,o,u,c){const h=10+c,p=u.length;c>0&&(u[h-1][4]=o),c<p-10?(o[4]=u[h],Ii(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function Si(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,y,p);const E=Gp(p,y),C=c[11],T=ru(C,y[7]);return null!==T&&function _T(s,o,u,c,h,p){c[0]=h,c[6]=o,ua(s,c,u,1,h,p)}(h,y[6],C,c,T,E),o.attachToViewContainerRef(),Ii(wa(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=_u(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=jp(this._lContainer,u);c&&(fo(wa(this._lContainer),u),tE(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=jp(this._lContainer,u);return c&&null!=fo(wa(this._lContainer),u)?new ed(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function _u(s){return s[8]}function wa(s){return s[8]||(s[8]=[])}function Il(s,o){let u;const c=o[s.index];if(Yr(c))u=c;else{let h;if(8&s.type)h=An(c);else{const p=o[11];h=p.createComment("");const y=xr(s,o);rl(p,ru(p,y),h,function sE(s,o){return Rn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=u=Jy(c,o,h,s),lg(o,u)}return new yf(u,s,o)}class vf{constructor(o){this.queryList=o,this.matches=null}clone(){return new vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class nm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<c;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new nm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==sm(o,u).matches&&this.queries[u].setDirty()}}class Sw{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class rm{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new rm(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class im{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new im(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,u,hv(u,p)),this.matchTNodeWithReadOption(o,u,Kt(u,o,p,!1,!1))}else c===_r?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Kt(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Cl||h===mf||h===_r&&4&u.type)this.addMatch(u.index,-2);else{const p=Kt(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function hv(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Al(s,o,u,c){return-1===u?function Ef(s,o){return 11&s.type?Ni(s,o):4&s.type?Qs(s,o):null}(o,s):-2===u?function eA(s,o,u){return u===Cl?Ni(o,s):u===_r?Qs(o,s):u===mf?Il(o,s):void 0}(s,o,c):Ko(s,s[1],u,o)}function fv(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=u.matches,E=[];for(let C=0;C<y.length;C+=2){const T=y[C];E.push(T<0?null:Al(o,p[T],y[C+1],u.metadata.read))}h.matches=E}return h.matches}function pv(s,o,u,c){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=fv(s,o,h,u);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(y[E/2]);else{const T=p[E+1],D=o[-C];for(let R=10;R<D.length;R++){const q=D[R];q[17]===q[3]&&pv(q[1],q,T,c)}if(null!==D[9]){const R=D[9];for(let q=0;q<R.length;q++){const ne=R[q];pv(ne[1],ne,T,c)}}}}}return c}function Mw(s){const o=Re(),u=Ht(),c=up();lp(c+1);const h=sm(u,c);if(s.dirty&&P(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?pv(u,o,c,[]):fv(u,o,h,c);s.reset(p,fw),s.notifyOnChanges()}return!0}return!1}function xw(s,o,u){const c=Ht();c.firstCreatePass&&(Nw(c,new Sw(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),gv(c,Re(),o)}function rd(s,o,u,c){const h=Ht();if(h.firstCreatePass){const p=Ln();Nw(h,new Sw(o,u,c),p.index),function tA(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}gv(h,Re(),u)}function vu(){return function Dl(s,o){return s[19].queries[o].queryList}(Re(),up())}function gv(s,o,u){const c=new tm(4==(4&u));ME(s,o,c,c.destroy),null===o[19]&&(o[19]=new nm),o[19].queries.push(new vf(c))}function Nw(s,o,u){null===s.queries&&(s.queries=new rm),s.queries.track(new im(o,u))}function sm(s,o){return s.queries.getByIndex(o)}function Ta(...s){}const gm=new qn("Application Initializer");let ad=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Ta,this.reject=Ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Og(p))u.push(p);else if(T_(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});u.push(y)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(cr(gm,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Av=new qn("AppId",{providedIn:"root",factory:function Dv(){return`${Sv()}${Sv()}${Sv()}`}});function Sv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mm=new qn("Platform Initializer"),fA=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ym=new qn("appBootstrapListener");let pA=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Lr=new qn("LocaleId",{providedIn:"root",factory:()=>Sp(Lr,Et.Optional|Et.SkipSelf)||function Mv(){return"undefined"!=typeof $localize&&$localize.locale||Mo}()}),gA=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mA{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let yA=(()=>{class s{compileModuleSync(u){return new iv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=ia(Vt(u).declarations).reduce((y,E)=>{const C=ut(E);return C&&y.push(new yu(C)),y},[]);return new mA(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Vw=(()=>Promise.resolve(0))();function If(s){"undefined"==typeof Zone?Vw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Oi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ys(!1),this.onMicrotaskEmpty=new Ys(!1),this.onStable=new Ys(!1),this.onError=new Ys(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function _m(){let s=Ut.requestAnimationFrame,o=Ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Pv(s){const o=()=>{!function Nv(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Em(s),s.isCheckStableRunning=!0,Af(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Em(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,p,y,E)=>{try{return Bw(s),u.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Ov(s)}},onInvoke:(u,c,h,p,y,E,C)=>{try{return Bw(s),u.invoke(h,p,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ov(s)}},onHasTask:(u,c,h,p)=>{u.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Em(s),Af(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,vm,Ta,Ta);try{return p.runTask(y,u,c)}finally{p.cancelTask(y)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const vm={};function Af(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Em(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Bw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ov(s){s._nesting--,Af(s)}class vA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ys,this.onMicrotaskEmpty=new Ys,this.onStable=new Ys,this.onError=new Ys}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}let jw=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oi.assertNotInAngularZone(),If(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())If(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(cr(Oi))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),EA=(()=>{class s{constructor(){this._applications=new Map,Nl.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Nl.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Zw{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function bm(s){Nl=s}let Nl=new Zw,Ia=null;const Rv=new qn("AllowMultipleToken"),$w=new qn("PlatformOnDestroy");class CA{constructor(o,u){this.name=o,this.token=u}}function wm(s,o,u=[]){const c=`Platform: ${o}`,h=new qn(c);return(p=[])=>{let y=Pl();if(!y||y.injector.get(Rv,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function Df(s){if(Ia&&!Ia.get(Rv,!1))throw new Ve(400,"");Ia=s;const o=s.get(Cm),u=s.get(mm,null);u&&u.forEach(c=>c())}(function kv(s=[],o){return Xi.create({name:o,providers:[{provide:Dh,useValue:"platform"},{provide:$w,useValue:()=>Ia=null},...s]})}(E,c))}return function ud(s){const o=Pl();if(!o)throw new Ve(401,"");return o}()}}function Pl(){var s;return null!==(s=null==Ia?void 0:Ia.get(Cm))&&void 0!==s?s:null}let Cm=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const E=function qw(s,o){let u;return u="noop"===s?new vA:("zone.js"===s?void 0:s)||new Oi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Oi,useValue:E}];return E.run(()=>{const T=Xi.create({providers:C,parent:this.injector,name:u.moduleType.name}),D=u.create(T),R=D.injector.get(gc,null);if(!R)throw new Ve(402,"");return E.runOutsideAngular(()=>{const q=E.onError.subscribe({next:ne=>{R.handleError(ne)}});D.onDestroy(()=>{Im(this._modules,D),q.unsubscribe()})}),function Lv(s,o,u){try{const c=u();return Og(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(R,E,()=>{const q=D.injector.get(ad);return q.runInitializers(),q.donePromise.then(()=>(function fi(s){Ot(s,"Expected localeId to be defined"),"string"==typeof s&&(B_=s.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Lr,Mo)||Mo),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,c=[]){const h=Tm({},c);return function bA(s,o,u){const c=new iv(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const c=u.injector.get(No);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Ve(403,"");u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get($w,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(cr(Xi))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Tm(s,o){return Array.isArray(o)?o.reduce(Tm,s):Object.assign(Object.assign({},s),o)}let No=(()=>{class s{constructor(u,c,h,p){this._zone=u,this._injector=c,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new x.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Oi.assertNotInAngularZone(),If(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),D.unsubscribe()}});this.isStable=(0,oe.T)(y,E.pipe((0,fe.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Ve(405,"");let h;h=u instanceof Jc?u:this._injector.get(df).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const p=function wA(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Tl),E=h.create(Xi.NULL,[],c||h.selector,p),C=E.location.nativeElement,T=E.injector.get(jw,null),D=T&&E.injector.get(EA);return T&&D&&D.registerApplication(C,T),E.onDestroy(()=>{this.detachView(E.hostView),Im(this.components,E),D&&D.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Im(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ym,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(cr(Oi),cr(Xi),cr(gc),cr(ad))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Im(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let Gw=!0,Am=!1;function TA(){return Am=!0,Gw}function Vv(){if(Am)throw new Error("Cannot enable prod mode after platform setup.");Gw=!1}let ld=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zv,s})();function Zv(s){return function IA(s,o,u){if(Bo(s)&&!u){const c=N(s.index,o);return new ed(c,c)}return 47&s.type?new ed(o[16],o):null}(Ln(),Re(),16==(16&s))}class Yw{constructor(){}supports(o){return Oh(o)}create(o){return new Gv(o)}}const NA=(s,o)=>o;class Gv{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||NA}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,p=null;for(;u||c;){const y=!c||u&&u.currentIndex<Qw(c,h,p)?u:c,E=Qw(y,h,p),C=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const T=E-h,D=C-h;if(T!=D){for(let q=0;q<T;q++){const ne=q<p.length?p[q]:p[q]=0,xe=ne+q;D<=xe&&xe<T&&(p[q]=ne+1)}p[y.previousIndex]=D-T}}E!==C&&o(y,E,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Oh(o))throw new Ve(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,y)?(c&&(u=this._verifyReinsertion(u,p,y,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,E),c=!0),u=u._next}else h=0,function eb(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ll()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,y)?(c&&(u=this._verifyReinsertion(u,E,y,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new zv(u,c),p,h),o}_verifyReinsertion(o,u,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Dm),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class zv{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wv{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Dm{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new Wv,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class Jw{constructor(){}supports(o){return o instanceof Map||Dc(o)}create(){return new Kv}}class Kv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Dc(o)))throw new Ve(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new Yv(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class Yv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xw(){return new Sm([new Yw])}let Sm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Xw()),deps:[[s,new Xa,new Li]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Ve(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Xw}),s})();function Qv(){return new Mm([new Jw])}let Mm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Qv()),deps:[[s,new Xa,new Li]]}}find(u){const c=this.factories.find(p=>p.supports(u));if(c)return c;throw new Ve(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Qv}),s})();const PA=wm(null,"core",[]);let OA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(cr(No))},s.\u0275mod=J({type:s}),s.\u0275inj=xt({}),s})()},3942:(at,De,M)=>{M.d(De,{Z:()=>Ve});var a=M(2090),k=M(4859),x=M(9681),oe=M(1877);class fe{constructor(ye,Te){this._delegate=ye,this.firebase=Te,(0,x._addComponent)(ye,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ye,Te=x._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(ye);return!Ke.isInitialized()&&"EXPLICIT"===(null===(rt=Ke.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:Te})}_removeServiceInstance(ye,Te=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Te)}_addComponent(ye){(0,x._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,x._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function me(){const He=function ce(He){const ye={},Te={__esModule:!0,initializeApp:function Oe(X,he={}){const Se=x.initializeApp(X,he);if((0,a.r3)(ye,Se.name))return ye[Se.name];const Q=new He(Se,Te);return ye[Se.name]=Q,Q},app:Ke,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ie(X){const he=X.name,Se=he.replace("-compat","");if(x._registerComponent(X)&&"PUBLIC"===X.type){const Q=(re=Ke())=>{if("function"!=typeof re[Se])throw ue.create("invalid-app-argument",{appName:he});return re[Se]()};void 0!==X.serviceProps&&(0,a.ZB)(Q,X.serviceProps),Te[Se]=Q,He.prototype[Se]=function(...re){return this._getService.bind(this,he).apply(this,X.multipleInstances?re:[])}}return"PUBLIC"===X.type?Te[Se]:null},removeApp:function rt(X){delete ye[X]},useAsService:function et(X,he){return"serverAuth"===he?null:he},modularAPIs:x}};function Ke(X){if(!(0,a.r3)(ye,X=X||x._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:X});return ye[X]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Pe(){return Object.keys(ye).map(X=>ye[X])}}),Ke.App=He,Te}(fe);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(Te){(0,a.ZB)(He,Te)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),He}(),j=new oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=$;!function Ae(He){(0,x.registerVersion)("@firebase/app-compat","0.1.25",He)}()},9681:(at,De,M)=>{M.r(De),M.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>In,_addOrOverwriteComponent:()=>tn,_apps:()=>cn,_clearComponents:()=>Un,_components:()=>Xn,_getProvider:()=>xt,_registerComponent:()=>$t,_removeServiceInstance:()=>un,deleteApp:()=>Et,getApp:()=>Vn,getApps:()=>pr,initializeApp:()=>fr,onLog:()=>rn,registerVersion:()=>an,setLogLevel:()=>Gn});var a=M(5861),k=M(4859),x=M(1877),oe=M(2090),fe=M(8766);class we{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(B=>{if(function ue(V){const ee=V.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(B)){const te=B.getImmediate();return`${te.library}/${te.version}`}return null}).filter(B=>B).join(" ")}}const ce="@firebase/app",$=new x.Yd("@firebase/app"),Ot="[DEFAULT]",Je={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Xn=new Map;function In(V,ee){try{V.container.addComponent(ee)}catch(B){$.debug(`Component ${ee.name} failed to register with FirebaseApp ${V.name}`,B)}}function tn(V,ee){V.container.addOrOverwriteComponent(ee)}function $t(V){const ee=V.name;if(Xn.has(ee))return $.debug(`There were multiple attempts to register component ${ee}.`),!1;Xn.set(ee,V);for(const B of cn.values())In(B,V);return!0}function xt(V,ee){const B=V.container.getProvider("heartbeat").getImmediate({optional:!0});return B&&B.triggerHeartbeat(),V.container.getProvider(ee)}function un(V,ee,B=Ot){xt(V,ee).clearInstance(B)}function Un(){Xn.clear()}const bn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class jn{constructor(ee,B,te){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},B),this._name=B.name,this._automaticDataCollectionEnabled=B.automaticDataCollectionEnabled,this._container=te,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const sr="9.8.1";function fr(V,ee={}){"object"!=typeof ee&&(ee={name:ee});const B=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},ee),te=B.name;if("string"!=typeof te||!te)throw bn.create("bad-app-name",{appName:String(te)});const ve=cn.get(te);if(ve){if((0,oe.vZ)(V,ve.options)&&(0,oe.vZ)(B,ve.config))return ve;throw bn.create("duplicate-app",{appName:te})}const Ue=new k.H0(te);for(const Ge of Xn.values())Ue.addComponent(Ge);const We=new jn(V,B,Ue);return cn.set(te,We),We}function Vn(V=Ot){const ee=cn.get(V);if(!ee)throw bn.create("no-app",{appName:V});return ee}function pr(){return Array.from(cn.values())}function Et(V){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(V){const ee=V.name;cn.has(ee)&&(cn.delete(ee),yield Promise.all(V.container.getProviders().map(B=>B.delete())),V.isDeleted=!0)})).apply(this,arguments)}function an(V,ee,B){var te;let ve=null!==(te=Je[V])&&void 0!==te?te:V;B&&(ve+=`-${B}`);const Ue=ve.match(/\s|\//),We=ee.match(/\s|\//);if(Ue||We){const Ge=[`Unable to register library "${ve}" with version "${ee}":`];return Ue&&Ge.push(`library name "${ve}" contains illegal characters (whitespace or "/")`),Ue&&We&&Ge.push("and"),We&&Ge.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void $.warn(Ge.join(" "))}$t(new k.wA(`${ve}-version`,()=>({library:ve,version:ee}),"VERSION"))}function rn(V,ee){if(null!==V&&"function"!=typeof V)throw bn.create("invalid-log-argument");(0,x.Am)(V,ee)}function Gn(V){(0,x.Ub)(V)}const wn="firebase-heartbeat-store";let zn=null;function Gr(){return zn||(zn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(V,ee)=>{0===ee&&V.createObjectStore(wn)}}).catch(V=>{throw bn.create("storage-open",{originalErrorMessage:V.message})})),zn}function ht(){return(ht=(0,a.Z)(function*(V){try{return(yield Gr()).transaction(wn).objectStore(wn).get(zr(V))}catch(ee){throw bn.create("storage-get",{originalErrorMessage:ee.message})}})).apply(this,arguments)}function st(V,ee){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(V,ee){try{const te=(yield Gr()).transaction(wn,"readwrite");return yield te.objectStore(wn).put(ee,zr(V)),te.done}catch(B){throw bn.create("storage-set",{originalErrorMessage:B.message})}})).apply(this,arguments)}function zr(V){return`${V.name}!${V.options.appId}`}class Mn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const B=this.container.getProvider("app").getImmediate();this._storage=new G(B),this._heartbeatsCachePromise=this._storage.read().then(te=>(this._heartbeatsCache=te,te))}triggerHeartbeat(){var ee=this;return(0,a.Z)(function*(){const te=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ve=ln();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==ve&&!ee._heartbeatsCache.heartbeats.some(Ue=>Ue.date===ve))return ee._heartbeatsCache.heartbeats.push({date:ve,agent:te}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Ue=>{const We=new Date(Ue.date).valueOf();return Date.now()-We<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const B=ln(),{heartbeatsToSend:te,unsentEntries:ve}=function L(V,ee=1024){const B=[];let te=V.slice();for(const ve of V){const Ue=B.find(We=>We.agent===ve.agent);if(Ue){if(Ue.dates.push(ve.date),W(B)>ee){Ue.dates.pop();break}}else if(B.push({agent:ve.agent,dates:[ve.date]}),W(B)>ee){B.pop();break}te=te.slice(1)}return{heartbeatsToSend:B,unsentEntries:te}}(ee._heartbeatsCache.heartbeats),Ue=(0,oe.L)(JSON.stringify({version:2,heartbeats:te}));return ee._heartbeatsCache.lastSentHeartbeatDate=B,ve.length>0?(ee._heartbeatsCache.heartbeats=ve,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Ue})()}}function ln(){return(new Date).toISOString().substring(0,10)}class G{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function Lt(V){return ht.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var B=this;return(0,a.Z)(function*(){var te;if(yield B._canUseIndexedDBPromise){const Ue=yield B.read();return st(B.app,{lastSentHeartbeatDate:null!==(te=ee.lastSentHeartbeatDate)&&void 0!==te?te:Ue.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var B=this;return(0,a.Z)(function*(){var te;if(yield B._canUseIndexedDBPromise){const Ue=yield B.read();return st(B.app,{lastSentHeartbeatDate:null!==(te=ee.lastSentHeartbeatDate)&&void 0!==te?te:Ue.lastSentHeartbeatDate,heartbeats:[...Ue.heartbeats,...ee.heartbeats]})}})()}}function W(V){return(0,oe.L)(JSON.stringify({version:2,heartbeats:V})).length}!function Ce(V){$t(new k.wA("platform-logger",ee=>new we(ee),"PRIVATE")),$t(new k.wA("heartbeat",ee=>new Mn(ee),"PRIVATE")),an(ce,"0.7.24",V),an(ce,"0.7.24","esm2017"),an("fire-js","")}("")},4859:(at,De,M)=>{M.d(De,{H0:()=>ce,wA:()=>x});var a=M(5861),k=M(2090);class x{constructor($,j,se){this.name=$,this.instanceFactory=j,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const oe="[DEFAULT]";class fe{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const se=new k.BH;if(this.instancesDeferred.set(j,se),this.isInitialized(j)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:j});qe&&se.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const se=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),qe=null!==(j=null==$?void 0:$.optional)&&void 0!==j&&j;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ae){if(qe)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ue(me){return"EAGER"===me.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(j){}for(const[j,se]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:qe});se.resolve(Ae)}catch(Ae){}}}}clearInstance($=oe){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,a.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...j.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=oe){return this.instances.has($)}getOptions($=oe){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,se=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:se,options:j});for(const[Ae,Ve]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ae)&&Ve.resolve(qe);return qe}onInit($,j){var se;const qe=this.normalizeInstanceIdentifier(j),Ae=null!==(se=this.onInitCallbacks.get(qe))&&void 0!==se?se:new Set;Ae.add($),this.onInitCallbacks.set(qe,Ae);const Ve=this.instances.get(qe);return Ve&&$(Ve,qe),()=>{Ae.delete($)}}invokeOnInitCallbacks($,j){const se=this.onInitCallbacks.get(j);if(se)for(const qe of se)try{qe($,j)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let se=this.instances.get($);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(me=$,me===oe?void 0:me),options:j}),this.instances.set($,se),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(se,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,se)}catch(qe){}var me;return se||null}normalizeInstanceIdentifier($=oe){return this.component?this.component.multipleInstances?$:oe:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new fe($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},2833:(at,De,M)=>{var a=M(5861),k=M(9681),x=M(4859),oe=M(2090),fe=M(8766);const we="@firebase/installations",me="w:0.5.9",$="FIS_v2",He=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(z){return z instanceof oe.ZR&&z.code.includes("request-failed")}function Te({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function rt(z){return{token:z.token,requestStatus:2,expiresIn:he(z.expiresIn),creationTime:Date.now()}}function Ke(z,de){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.Z)(function*(z,de){const pt=(yield de.json()).error;return He.create("request-failed",{requestName:z,serverCode:pt.code,serverMessage:pt.message,serverStatus:pt.status})})).apply(this,arguments)}function Pe({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function Ie(z,{refreshToken:de}){const Fe=Pe(z);return Fe.append("Authorization",function Se(z){return`${$} ${z}`}(de)),Fe}function et(z){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(z){const de=yield z();return de.status>=500&&de.status<600?z():de})).apply(this,arguments)}function he(z){return Number(z.replace("s","000"))}function Q(z,de){return re.apply(this,arguments)}function re(){return(re=(0,a.Z)(function*({appConfig:z,heartbeatServiceProvider:de},{fid:Fe}){const pt=Te(z),qt=Pe(z),sn=de.getImmediate({optional:!0});if(sn){const At=yield sn.getHeartbeatsHeader();At&&qt.append("x-firebase-client",At)}const Zn={method:"POST",headers:qt,body:JSON.stringify({fid:Fe,authVersion:$,appId:z.appId,sdkVersion:me})},Mr=yield et(()=>fetch(pt,Zn));if(Mr.ok){const At=yield Mr.json();return{fid:At.fid||Fe,registrationStatus:2,refreshToken:At.refreshToken,authToken:rt(At.authToken)}}throw yield Ke("Create Installation",Mr)})).apply(this,arguments)}function ae(z){return new Promise(de=>{setTimeout(de,z)})}const le=/^[cdef][\w-]{21}$/;function yt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const Fe=function Jt(z){return function _e(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return le.test(Fe)?Fe:""}catch(z){return""}}function Ot(z){return`${z.appName}!${z.appId}`}const Je=new Map;function cn(z,de){const Fe=Ot(z);tn(Fe,de),function $t(z,de){const Fe=function un(){return!xt&&"BroadcastChannel"in self&&(xt=new BroadcastChannel("[Firebase] FID Change"),xt.onmessage=z=>{tn(z.data.key,z.data.fid)}),xt}();Fe&&Fe.postMessage({key:z,fid:de}),function Un(){0===Je.size&&xt&&(xt.close(),xt=null)}()}(Fe,de)}function tn(z,de){const Fe=Je.get(z);if(Fe)for(const pt of Fe)pt(de)}let xt=null;const jn="firebase-installations-store";let sr=null;function fr(){return sr||(sr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(z,de)=>{0===de&&z.createObjectStore(jn)}})),sr}function Vn(z,de){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(z,de){const Fe=Ot(z),qt=(yield fr()).transaction(jn,"readwrite"),sn=qt.objectStore(jn),Bt=yield sn.get(Fe);return yield sn.put(de,Fe),yield qt.done,(!Bt||Bt.fid!==de.fid)&&cn(z,de.fid),de})).apply(this,arguments)}function Et(z){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(z){const de=Ot(z),pt=(yield fr()).transaction(jn,"readwrite");yield pt.objectStore(jn).delete(de),yield pt.done})).apply(this,arguments)}function an(z,de){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(z,de){const Fe=Ot(z),qt=(yield fr()).transaction(jn,"readwrite"),sn=qt.objectStore(jn),Bt=yield sn.get(Fe),Zn=de(Bt);return void 0===Zn?yield sn.delete(Fe):yield sn.put(Zn,Fe),yield qt.done,Zn&&(!Bt||Bt.fid!==Zn.fid)&&cn(z,Zn.fid),Zn})).apply(this,arguments)}function Gn(z){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(z){let de;const Fe=yield an(z.appConfig,pt=>{const qt=gr(pt),sn=wn(z,qt);return de=sn.registrationPromise,sn.installationEntry});return""===Fe.fid?{installationEntry:yield de}:{installationEntry:Fe,registrationPromise:de}})).apply(this,arguments)}function gr(z){return Pn(z||{fid:yt(),registrationStatus:0})}function wn(z,de){if(0===de.registrationStatus){if(!navigator.onLine)return{installationEntry:de,registrationPromise:Promise.reject(He.create("app-offline"))};const Fe={fid:de.fid,registrationStatus:1,registrationTime:Date.now()},pt=function zn(z,de){return Gr.apply(this,arguments)}(z,Fe);return{installationEntry:Fe,registrationPromise:pt}}return 1===de.registrationStatus?{installationEntry:de,registrationPromise:Lt(z)}:{installationEntry:de}}function Gr(){return(Gr=(0,a.Z)(function*(z,de){try{const Fe=yield Q(z,de);return Vn(z.appConfig,Fe)}catch(Fe){throw ye(Fe)&&409===Fe.customData.serverCode?yield Et(z.appConfig):yield Vn(z.appConfig,{fid:de.fid,registrationStatus:0}),Fe}})).apply(this,arguments)}function Lt(z){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(z){let de=yield st(z.appConfig);for(;1===de.registrationStatus;)yield ae(100),de=yield st(z.appConfig);if(0===de.registrationStatus){const{installationEntry:Fe,registrationPromise:pt}=yield Gn(z);return pt||Fe}return de})).apply(this,arguments)}function st(z){return an(z,de=>{if(!de)throw He.create("installation-not-found");return Pn(de)})}function Pn(z){return function zr(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function Ut(z,de){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*({appConfig:z,heartbeatServiceProvider:de},Fe){const pt=Mn(z,Fe),qt=Ie(z,Fe),sn=de.getImmediate({optional:!0});if(sn){const At=yield sn.getHeartbeatsHeader();At&&qt.append("x-firebase-client",At)}const Zn={method:"POST",headers:qt,body:JSON.stringify({installation:{sdkVersion:me,appId:z.appId}})},Mr=yield et(()=>fetch(pt,Zn));if(Mr.ok)return rt(yield Mr.json());throw yield Ke("Generate Auth Token",Mr)})).apply(this,arguments)}function Mn(z,{fid:de}){return`${Te(z)}/${de}/authTokens:generate`}function ln(z){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(z,de=!1){let Fe;const pt=yield an(z.appConfig,sn=>{if(!B(sn))throw He.create("not-registered");const Bt=sn.authToken;if(!de&&te(Bt))return sn;if(1===Bt.requestStatus)return Fe=G(z,de),sn;{if(!navigator.onLine)throw He.create("app-offline");const Zn=Ue(sn);return Fe=V(z,Zn),Zn}});return Fe?yield Fe:pt.authToken})).apply(this,arguments)}function G(z,de){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(function*(z,de){let Fe=yield Ce(z.appConfig);for(;1===Fe.authToken.requestStatus;)yield ae(100),Fe=yield Ce(z.appConfig);const pt=Fe.authToken;return 0===pt.requestStatus?ln(z,de):pt})).apply(this,arguments)}function Ce(z){return an(z,de=>{if(!B(de))throw He.create("not-registered");return function We(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(de.authToken)?Object.assign(Object.assign({},de),{authToken:{requestStatus:0}}):de})}function V(z,de){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.Z)(function*(z,de){try{const Fe=yield Ut(z,de),pt=Object.assign(Object.assign({},de),{authToken:Fe});return yield Vn(z.appConfig,pt),Fe}catch(Fe){if(!ye(Fe)||401!==Fe.customData.serverCode&&404!==Fe.customData.serverCode){const pt=Object.assign(Object.assign({},de),{authToken:{requestStatus:0}});yield Vn(z.appConfig,pt)}else yield Et(z.appConfig);throw Fe}})).apply(this,arguments)}function B(z){return void 0!==z&&2===z.registrationStatus}function te(z){return 2===z.requestStatus&&!function ve(z){const de=Date.now();return de<z.creationTime||z.creationTime+z.expiresIn<de+36e5}(z)}function Ue(z){const de={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:de})}function ft(){return(ft=(0,a.Z)(function*(z){const de=z,{installationEntry:Fe,registrationPromise:pt}=yield Gn(de);return pt?pt.catch(console.error):ln(de).catch(console.error),Fe.fid})).apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(z,de=!1){const Fe=z;return yield U(Fe),(yield ln(Fe,de)).token})).apply(this,arguments)}function U(z){return Me.apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(z){const{registrationPromise:de}=yield Gn(z);de&&(yield de)})).apply(this,arguments)}function Wn(z){return He.create("missing-app-config-values",{valueName:z})}const Wr="installations",As=z=>{const de=z.getProvider("app").getImmediate(),Fe=function Gt(z){if(!z||!z.options)throw Wn("App Configuration");if(!z.name)throw Wn("App Name");const de=["projectId","apiKey","appId"];for(const Fe of de)if(!z.options[Fe])throw Wn(Fe);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(de);return{app:de,appConfig:Fe,heartbeatServiceProvider:(0,k._getProvider)(de,"heartbeat"),_delete:()=>Promise.resolve()}},Ur=z=>{const de=z.getProvider("app").getImmediate(),Fe=(0,k._getProvider)(de,Wr).getImmediate();return{getId:()=>function Ge(z){return ft.apply(this,arguments)}(Fe),getToken:qt=>function J(z){return Z.apply(this,arguments)}(Fe,qt)}};(function Ye(){(0,k._registerComponent)(new x.wA(Wr,As,"PUBLIC")),(0,k._registerComponent)(new x.wA("installations-internal",Ur,"PRIVATE"))})(),(0,k.registerVersion)(we,"0.5.9"),(0,k.registerVersion)(we,"0.5.9","esm2017")},1877:(at,De,M)=>{M.d(De,{Am:()=>me,Ub:()=>ce,Yd:()=>ue,in:()=>k});const a=[];var k=(()=>{return($=k||(k={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",k;var $})();const x={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},oe=k.INFO,fe={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},we=($,j,...se)=>{if(j<$.logLevel)return;const qe=(new Date).toISOString(),Ae=fe[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${qe}]  ${$.name}:`,...se)};class ue{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=we,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in k))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?x[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...j),this._logHandler(this,k.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...j),this._logHandler(this,k.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,k.INFO,...j),this._logHandler(this,k.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,k.WARN,...j),this._logHandler(this,k.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...j),this._logHandler(this,k.ERROR,...j)}}function ce($){a.forEach(j=>{j.setLogLevel($)})}function me($,j){for(const se of a){let qe=null;j&&j.level&&(qe=x[j.level]),se.userLogHandler=null===$?null:(Ae,Ve,...He)=>{const ye=He.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(rt){return null}}).filter(Te=>Te).join(" ");Ve>=(null!=qe?qe:Ae.logLevel)&&$({level:k[Ve].toLowerCase(),message:ye,args:He,type:Ae.name})}}}},8766:(at,De,M)=>{M.d(De,{Lj:()=>Oe,X3:()=>Ke});var a=M(5861);let x,oe;const ue=new WeakMap,ce=new WeakMap,me=new WeakMap,$=new WeakMap,j=new WeakMap;let Ae={get(he,Se,Q){if(he instanceof IDBTransaction){if("done"===Se)return ce.get(he);if("objectStoreNames"===Se)return he.objectStoreNames||me.get(he);if("store"===Se)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return Te(he[Se])},set:(he,Se,Q)=>(he[Se]=Q,!0),has:(he,Se)=>he instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in he};function ye(he){return"function"==typeof he?function He(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Se){return he.apply(rt(this),Se),Te(ue.get(this))}:function(...Se){return Te(he.apply(rt(this),Se))}:function(Se,...Q){const re=he.call(rt(this),Se,...Q);return me.set(re,Se.sort?Se.sort():[Se]),Te(re)}}(he):(he instanceof IDBTransaction&&function qe(he){if(ce.has(he))return;const Se=new Promise((Q,re)=>{const ae=()=>{he.removeEventListener("complete",_e),he.removeEventListener("error",le),he.removeEventListener("abort",le)},_e=()=>{Q(),ae()},le=()=>{re(he.error||new DOMException("AbortError","AbortError")),ae()};he.addEventListener("complete",_e),he.addEventListener("error",le),he.addEventListener("abort",le)});ce.set(he,Se)}(he),((he,Se)=>Se.some(Q=>he instanceof Q))(he,function fe(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ae):he)}function Te(he){if(he instanceof IDBRequest)return function se(he){const Se=new Promise((Q,re)=>{const ae=()=>{he.removeEventListener("success",_e),he.removeEventListener("error",le)},_e=()=>{Q(Te(he.result)),ae()},le=()=>{re(he.error),ae()};he.addEventListener("success",_e),he.addEventListener("error",le)});return Se.then(Q=>{Q instanceof IDBCursor&&ue.set(Q,he)}).catch(()=>{}),j.set(Se,he),Se}(he);if($.has(he))return $.get(he);const Se=ye(he);return Se!==he&&($.set(he,Se),j.set(Se,he)),Se}const rt=he=>j.get(he);function Ke(he,Se,{blocked:Q,upgrade:re,blocking:ae,terminated:_e}={}){const le=indexedDB.open(he,Se),je=Te(le);return re&&le.addEventListener("upgradeneeded",yt=>{re(Te(le.result),yt.oldVersion,yt.newVersion,Te(le.transaction))}),Q&&le.addEventListener("blocked",()=>Q()),je.then(yt=>{_e&&yt.addEventListener("close",()=>_e()),ae&&yt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),je}function Oe(he,{blocked:Se}={}){const Q=indexedDB.deleteDatabase(he);return Se&&Q.addEventListener("blocked",()=>Se()),Te(Q).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],et=new Map;function X(he,Se){if(!(he instanceof IDBDatabase)||Se in he||"string"!=typeof Se)return;if(et.get(Se))return et.get(Se);const Q=Se.replace(/FromIndex$/,""),re=Se!==Q,ae=Ie.includes(Q);if(!(Q in(re?IDBIndex:IDBObjectStore).prototype)||!ae&&!Pe.includes(Q))return;const _e=function(){var le=(0,a.Z)(function*(je,...yt){const Jt=this.transaction(je,ae?"readwrite":"readonly");let Ot=Jt.store;return re&&(Ot=Ot.index(yt.shift())),(yield Promise.all([Ot[Q](...yt),ae&&Jt.done]))[0]});return function(yt){return le.apply(this,arguments)}}();return et.set(Se,_e),_e}!function Ve(he){Ae=he(Ae)}(he=>mN(gN({},he),{get:(Se,Q,re)=>X(Se,Q)||he.get(Se,Q,re),has:(Se,Q)=>!!X(Se,Q)||he.has(Se,Q)}))},5861:(at,De,M)=>{function a(x,oe,fe,we,ue,ce,me){try{var $=x[ce](me),j=$.value}catch(se){return void fe(se)}$.done?oe(j):Promise.resolve(j).then(we,ue)}function k(x){return function(){var oe=this,fe=arguments;return new Promise(function(we,ue){var ce=x.apply(oe,fe);function me(j){a(ce,we,ue,me,$,"next",j)}function $(j){a(ce,we,ue,me,$,"throw",j)}me(void 0)})}}M.d(De,{Z:()=>k})}},at=>{at(at.s=4725)}]);